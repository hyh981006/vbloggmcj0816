<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>七鳄の学习格</title>
  
  <subtitle>生在黑暗，行向光明ヾ(@^▽^@)ノ</subtitle>
  <link href="https://blog.gmcj0816.top/atom.xml" rel="self"/>
  
  <link href="https://blog.gmcj0816.top/"/>
  <updated>2023-04-13T10:01:10.214Z</updated>
  <id>https://blog.gmcj0816.top/</id>
  
  <author>
    <name>爱吃大饼的小虎</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Unity FishNet游戏网络库随笔</title>
    <link href="https://blog.gmcj0816.top/posts/4c410e74/"/>
    <id>https://blog.gmcj0816.top/posts/4c410e74/</id>
    <published>2023-03-25T13:47:06.000Z</published>
    <updated>2023-04-13T10:01:10.214Z</updated>
    
    <content type="html"><![CDATA[<div class="note red no-icon flat"><p>Unity是 实时3D互动内容创作和运营平台 。包括游戏开发、美术、建筑、汽车设计、影视在内的所有创作者，借助 Unity 将创意变成现实。Unity 平台提供一整套完善的软件解决方案，可用于创作、运营和变现任何实时互动的2D和3D内容，支持平台包括手机、平板电脑、PC、游戏主机、增强现实和虚拟现实设备。简单来说，Unity3D不单单可以做游戏，还可以通过相关接口与API来进行设备的交互【例如虚拟仿真】</p></div><p>🎬 博客主页：<a href="https://blog.gmcj0816.top">https://blog.gmcj0816.top</a></p><p>🏅 欢迎点赞 👍 收藏 ⭐留言 📝 如有错误敬请指正！ </p><p>📆 此文章为原创，并通过Typora编辑器撰写✨</p><p>🌲 开发工具：Unity3D 2019.4.40f1(个人版)   Rider2022.2.4(教育版)</p><h1 id="前序"><a href="#前序" class="headerlink" title="前序"></a>前序</h1><p>其实网络游戏只要玩过游戏的都知道，可以说，网络游戏不仅仅突破的空间的限制，让和好友娱乐成了随时开始成为现实，另一方面也推动了技术的发展，Unity实现网络通信的方式还是有很多的，例如：(一般还是比较推荐，主要是相比较符合功能)</p><ul><li>基于C#自带的Socket</li><li>使用第三方插件，比如PUN2，Mirror等</li></ul><hr><center><b style="color:red">后面还得慢慢写，一点点来吧，先起个头,但是插件确实不错</b></center>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note red no-icon flat&quot;&gt;&lt;p&gt;Unity是 实时3D互动内容创作和运营平台 。包括游戏开发、美术、建筑、汽车设计、影视在内的所有创作者，借助 Unity 将创意变成现实。Unity 平台提供一整套完善的软件解决方案，可用于创作、运营和</summary>
      
    
    
    
    <category term="🦋热更新" scheme="https://blog.gmcj0816.top/categories/%F0%9F%A6%8B%E7%83%AD%E6%9B%B4%E6%96%B0/"/>
    
    
    <category term="Unity" scheme="https://blog.gmcj0816.top/tags/Unity/"/>
    
    <category term="网络开发" scheme="https://blog.gmcj0816.top/tags/%E7%BD%91%E7%BB%9C%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>Unity不挂载到物体上也可执行的方法</title>
    <link href="https://blog.gmcj0816.top/posts/d3af7e5d/"/>
    <id>https://blog.gmcj0816.top/posts/d3af7e5d/</id>
    <published>2023-03-14T12:24:12.000Z</published>
    <updated>2023-04-13T10:00:31.789Z</updated>
    
    <content type="html"><![CDATA[<p>本来想着直接写之前学到的一些东西的，但是我在想，这万一有人问我啥是Unity可咋办，所以呢，就在后面关于Unity3D的文章开头呢，写上什么是Unity</p><div class="note red no-icon flat"><p>Unity是 实时3D互动内容创作和运营平台 。包括游戏开发、美术、建筑、汽车设计、影视在内的所有创作者，借助 Unity 将创意变成现实。Unity 平台提供一整套完善的软件解决方案，可用于创作、运营和变现任何实时互动的2D和3D内容，支持平台包括手机、平板电脑、PC、游戏主机、增强现实和虚拟现实设备。简单来说，Unity3D不单单可以做游戏，还可以通过相关接口与API来进行设备的交互【例如虚拟仿真】</p></div><p>🎬 博客主页：<a href="https://blog.gmcj0816.top">https://blog.gmcj0816.top</a></p><p>🏅 欢迎点赞 👍 收藏 ⭐留言 📝 如有错误敬请指正！ </p><p>📆 此文章为原创，并通过Typora编辑器撰写✨</p><p>🌲 开发工具：Unity3D 2019.4.40f1(个人版)   Rider2022.2.4(教育版)</p><h1 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h1><p>之前也是没太注意如何不挂载到GameObject物体身上也能够执行相关方法，这个确实是自己的知识盲区，过去自己能想到的都基本需要挂载到物体身上，才能够执行，或者通过脚本来调用不继承MonoBehavior的类中的方法。</p><h1 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h1><h2 id="ONE"><a href="#ONE" class="headerlink" title="ONE"></a>ONE</h2><p>如果在脚本中的方法标记为<code>[RuntimeInitializeOnLoadMethod]</code> ，则允许在运行时加载游戏时不通过用户操作 初始化一个运行时类方法，这里需要注意的便是<font color=red>调用标记为 <code>[RuntimeInitializeOnLoadMethod]</code> 的 方法。这是在调用 <code>Awake</code> 方法后进行的,而且标记为 <code>[RuntimeInitializeOnLoadMethod]</code> 的方法的执行顺序是不确定的</font>，那该如何去写呢，其实有两种方式，一种是[RuntimeInitializeOnLoadMethod]，另一种是[RuntimeInitializeOnLoadMethod([RuntimeInitializeOnLoadMethod])]</p><ul><li>[RuntimeInitializeOnLoadMethod]（这里也是写了一个比较简单的实例，无需挂载到物体身上，点击Play按钮即可发现其执行了）</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[RuntimeInitializeOnLoadMethod]</span><br><span class="line">static void OnRuntimeMethodLoad()</span><br><span class="line">&#123;</span><br><span class="line">    Debug.Log(&quot;这是一个不需要挂载到GameObject身上就能够执行的方法&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2023/03/14/6410716ad967b.jpg" alt="运行结果"></p><ul><li>[RuntimeInitializeOnLoadMethod([RuntimeInitializeOnLoadMethod])]</li></ul><p>这里RuntimeInitializeOnLoadMethod提供了五个类型</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">RuntimeInitializeLoadType.AfterSceneLoad // 加载场景后</span><br><span class="line">RuntimeInitializeLoadType.BeforeSceneLoad // 在加载场景之前</span><br><span class="line">RuntimeInitializeLoadType.AfterAssembliesLoaded // 加载所有程序集并初始化预加载的资源时进行回调</span><br><span class="line">RuntimeInitializeLoadType.BeforeSplashScreen // 在显示启动屏幕之前。</span><br><span class="line">RuntimeInitializeLoadType.SubsystemRegistration //用于注册子系统的回调</span><br></pre></td></tr></table></figure><h2 id="TWO"><a href="#TWO" class="headerlink" title="TWO"></a>TWO</h2><ul><li>InitializeOnLoadMethod</li></ul><p>允许在 Unity 加载时初始化编辑器类方法，无需用户操作。<font color=red>方法记得也需要是static静态方法哦</font></p><p><img src="https://bu.dusays.com/2023/03/14/641074a75ae4f.jpg" alt="运行结果"></p><p>完事，基本就是这些，还是比较好理解的</p><p>记得常来看看哦</p><p><img src="https://bu.dusays.com/2023/03/07/6406885e03d2b.jpeg" alt="首次爆照-黄宇涵"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;本来想着直接写之前学到的一些东西的，但是我在想，这万一有人问我啥是Unity可咋办，所以呢，就在后面关于Unity3D的文章开头呢，写上什么是Unity&lt;/p&gt;
&lt;div class=&quot;note red no-icon flat&quot;&gt;&lt;p&gt;Unity是 实时3D互动内容创作和</summary>
      
    
    
    
    <category term="🕍UnityAPI" scheme="https://blog.gmcj0816.top/categories/%F0%9F%95%8DUnityAPI/"/>
    
    
    <category term="Unity" scheme="https://blog.gmcj0816.top/tags/Unity/"/>
    
    <category term="U3D" scheme="https://blog.gmcj0816.top/tags/U3D/"/>
    
    <category term="C#" scheme="https://blog.gmcj0816.top/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>Unity3d热更新之xLua热更新[Lua调用C#]</title>
    <link href="https://blog.gmcj0816.top/posts/5b185676/"/>
    <id>https://blog.gmcj0816.top/posts/5b185676/</id>
    <published>2023-02-25T13:53:50.000Z</published>
    <updated>2023-04-13T10:00:05.434Z</updated>
    
    
    
    
    <category term="🦋热更新" scheme="https://blog.gmcj0816.top/categories/%F0%9F%A6%8B%E7%83%AD%E6%9B%B4%E6%96%B0/"/>
    
    
    <category term="Unity" scheme="https://blog.gmcj0816.top/tags/Unity/"/>
    
    <category term="热更新" scheme="https://blog.gmcj0816.top/tags/%E7%83%AD%E6%9B%B4%E6%96%B0/"/>
    
    <category term="Lua" scheme="https://blog.gmcj0816.top/tags/Lua/"/>
    
    <category term="xLua" scheme="https://blog.gmcj0816.top/tags/xLua/"/>
    
  </entry>
  
  <entry>
    <title>Unity3d热更新之xLua热更新[C#调用Lua]</title>
    <link href="https://blog.gmcj0816.top/posts/4c756b8f/"/>
    <id>https://blog.gmcj0816.top/posts/4c756b8f/</id>
    <published>2023-02-25T13:53:36.000Z</published>
    <updated>2023-04-13T10:00:01.014Z</updated>
    
    <content type="html"><![CDATA[<div class="note primary modern"><p>本来想着一个文章全都写完，后来才发现，失策了!!!,加上自己感觉要是太长了，后面自己复习也懒得去看，那就细分成三个文章咯！毕竟有些地方还是有些区别的</p></div><h1 id="获取全局变量"><a href="#获取全局变量" class="headerlink" title="获取全局变量"></a>获取全局变量</h1><p>其实获取全局变量还是比较容易的，首先在项目的Lua文件中创建两个lua脚本</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- main.lua</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;主lua脚本_main.lua_文件启动&quot;</span>)</span><br><span class="line"><span class="built_in">require</span>(<span class="string">&quot;test&quot;</span>)<span class="comment">-- 这里为了结合require的知识点</span></span><br></pre></td></tr></table></figure><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- test.lua</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;test.lua脚本调用&quot;</span>)</span><br><span class="line">testNumber=<span class="number">1</span></span><br><span class="line">testBool=<span class="literal">true</span></span><br><span class="line">testFloat=<span class="number">1.25</span></span><br><span class="line">testString=<span class="string">&quot;123&quot;</span> </span><br></pre></td></tr></table></figure><p>下面就可以直接用c#来获取lua文件夹中的main.lua和test.lua了</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//首先还是初始化lua解析器</span></span><br><span class="line">LuaMgr.GetInstance().Init();</span><br><span class="line"><span class="comment">//执行main.lua</span></span><br><span class="line">LuaMgr.GetInstance().DoLuaFile(<span class="string">&quot;main&quot;</span>);</span><br></pre></td></tr></table></figure><mark class="hl-label red">知识点：</mark> 下面获取到全局变量，就用到了lua的相关知识点中的_G表将我们申明的所有全局变量都存储在其中，但是<font color=red>Lua脚本中的本地局部变量的是无法直接获取的</font>所以我们就可以用_G表来获取全局变量了<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> i = LuaMgr.GetInstance().Global.Get&lt;<span class="built_in">int</span>&gt;(<span class="string">&quot;testNumber&quot;</span>);</span><br><span class="line">Debug.Log(<span class="string">&quot;testNumber:&quot;</span> + i);</span><br><span class="line"><span class="built_in">bool</span> b = LuaMgr.GetInstance().Global.Get&lt;<span class="built_in">bool</span>&gt;(<span class="string">&quot;testBool&quot;</span>);</span><br><span class="line">Debug.Log(<span class="string">&quot;testBool:&quot;</span> + b);</span><br><span class="line"><span class="built_in">float</span> f = LuaMgr.GetInstance().Global.Get&lt;<span class="built_in">float</span>&gt;(<span class="string">&quot;testFloat&quot;</span>);</span><br><span class="line">Debug.Log(<span class="string">&quot;testFloat:&quot;</span> + f);</span><br><span class="line"><span class="built_in">double</span> d = LuaMgr.GetInstance().Global.Get&lt;<span class="built_in">double</span>&gt;(<span class="string">&quot;testFloat&quot;</span>);</span><br><span class="line">Debug.Log(<span class="string">&quot;testFloat_double:&quot;</span> + d);</span><br><span class="line"><span class="built_in">string</span> s = LuaMgr.GetInstance().Global.Get&lt;<span class="built_in">string</span>&gt;(<span class="string">&quot;testString&quot;</span>);</span><br><span class="line">Debug.Log(<span class="string">&quot;testString:&quot;</span> + s);</span><br></pre></td></tr></table></figure><p><img src="https://cdnimage.gmcj0816.top/xlua_print_CallVariable.jpg" style="zoom:80%;" /></p><p>这样非常明显的看出来，虽然说在lua中的整型，浮点型等都是number，但是可以在c#中转化为相应的类型</p><p>对于赋值操作可通过Set(“变量名”,”所要赋的值”)来实现</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LuaMgr.GetInstance().Global.Set(<span class="string">&quot;testNumber&quot;</span>, <span class="number">55</span>);</span><br><span class="line"><span class="built_in">int</span> i2 = LuaMgr.GetInstance().Global.Get&lt;<span class="built_in">int</span>&gt;(<span class="string">&quot;testNumber&quot;</span>);</span><br><span class="line">Debug.Log(<span class="string">&quot;testNumber_i2:&quot;</span> + i2);</span><br></pre></td></tr></table></figure><h1 id="获取全局函数-方法"><a href="#获取全局函数-方法" class="headerlink" title="获取全局函数/方法"></a>获取全局函数/方法</h1><p>其实常见的方法类型无外乎就是以下类型</p><ul><li>普通方法（无返回值，无参数，此方法一般应用于相关逻辑的处理）</li><li>有参数有返回值</li><li>多返回值</li><li>方法中不定参数</li></ul><h2 id="无参无返回"><a href="#无参无返回" class="headerlink" title="无参无返回"></a>无参无返回</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">funcFun=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;无参无返回&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>c#中调用lua中的方法一般有几种方式</p><ul><li>通过自定义委托来实现函数的调用</li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">首先需要创建一个委托</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">CallBackOne</span>()</span>;</span><br><span class="line"><span class="comment">//初始化lua解析器</span></span><br><span class="line">LuaMgr.GetInstance().Init();</span><br><span class="line"><span class="comment">//执行lua文件，这里以test为例</span></span><br><span class="line">LuaMgr.GetInstance().DoLuaFile(<span class="string">&quot;test&quot;</span>);</span><br><span class="line"><span class="comment">//委托【这里通过_G表来获取到funcFun】</span></span><br><span class="line">CallBackOne callBackOne = LuaMgr.GetInstance().Global.Get&lt;CallBackOne&gt;(<span class="string">&quot;funcFun&quot;</span>);</span><br><span class="line"><span class="comment">//执行即可</span></span><br><span class="line">callBackOne(); <span class="comment">//到这里就完成了lua中的方法的调用</span></span><br></pre></td></tr></table></figure><p><img src="https://pic.gmcj0816.top/image/wucan_wufanhui.jpg" alt="wucan_wufanhui.jpg (1347×51) (gmcj0816.top)"></p><ul><li>通过Unity3D自带的委托来实现函数的调用</li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化lua解析器</span></span><br><span class="line">LuaMgr.GetInstance().Init();</span><br><span class="line"><span class="comment">//执行lua文件，这里以test为例</span></span><br><span class="line">LuaMgr.GetInstance().DoLuaFile(<span class="string">&quot;test&quot;</span>);</span><br><span class="line"><span class="comment">//unity3d自带的委托，记得这里需要添加引用:using UnityEngine.Events;</span></span><br><span class="line">UnityAction unityAction_One = LuaMgr.GetInstance().Global.Get&lt;UnityAction&gt;(<span class="string">&quot;funcFun&quot;</span>);</span><br><span class="line">unityAction_One();<span class="comment">//这里结果与上方结果一致，在此不再进行重复提供</span></span><br></pre></td></tr></table></figure><ul><li>通过C#中提供的委托来实现函数的调用</li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化lua解析器</span></span><br><span class="line">LuaMgr.GetInstance().Init();</span><br><span class="line"><span class="comment">//执行lua文件，这里以test为例</span></span><br><span class="line">LuaMgr.GetInstance().DoLuaFile(<span class="string">&quot;test&quot;</span>);</span><br><span class="line"><span class="comment">//c#提供的委托</span></span><br><span class="line">Action action_One = LuaMgr.GetInstance().Global.Get&lt;Action&gt;(<span class="string">&quot;funcFun&quot;</span>);</span><br><span class="line">action_One();<span class="comment">//这里结果与上方结果一致，在此不再进行重复提供</span></span><br></pre></td></tr></table></figure><ul><li>通过Lua解析器自带的来实现函数的调用</li></ul><p>Lua解析器也是提供了获取函数的方式，但是官方也有提到这种方式会造成一些垃圾，因此建议<font color=red>少用</font></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化lua解析器</span></span><br><span class="line">LuaMgr.GetInstance().Init();</span><br><span class="line"><span class="comment">//执行lua文件，这里以test为例</span></span><br><span class="line">LuaMgr.GetInstance().DoLuaFile(<span class="string">&quot;test&quot;</span>);</span><br><span class="line"><span class="comment">//类型于xLua自带的一种处理的方式</span></span><br><span class="line">LuaFunction luaFunction_One = LuaMgr.GetInstance().Global.Get&lt;LuaFunction&gt;(<span class="string">&quot;funcFun&quot;</span>);</span><br><span class="line">luaFunction_One.Call();<span class="comment">//这里结果与上方结果一致，在此不再进行重复提供</span></span><br></pre></td></tr></table></figure><h2 id="有参有返回"><a href="#有参有返回" class="headerlink" title="有参有返回"></a>有参有返回</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">funcFun2=<span class="function"><span class="keyword">function</span><span class="params">(a)</span></span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;有参有返回&quot;</span>)</span><br><span class="line"><span class="keyword">return</span> a+<span class="number">1</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>这里对于有参数或者有返回的用法是有一些不一样的，因为对于无参无返回是系统内置好的，但是对于有参有返回，多返回以及不定参数，由于系统并未自带，因此需要点击</p><p><img src="https://pic.gmcj0816.top/image/xlua_code.jpg" style="zoom:80%;" /></p><p>这时在xLua/Gen文件夹中会生成相应的文件，这里可以简单理解为依赖</p><p><img src="https://pic.gmcj0816.top/image/xlua_code_gen.jpg" style="zoom:80%;" /></p><p>但是为了保险起见呢，最好在自定义委托时按照以下写法设置</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">CSharpCallLua</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="built_in">int</span> <span class="title">CallBackTwo</span>(<span class="params"><span class="built_in">int</span> a</span>)</span>;</span><br></pre></td></tr></table></figure><ul><li>自定义委托实现</li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CallBackTwo callBackTwo = LuaMgr.GetInstance().Global.Get&lt;CallBackTwo&gt;(<span class="string">&quot;funcFun2&quot;</span>);</span><br><span class="line">Debug.Log(<span class="string">&quot;有参数有返回值:&quot;</span> + callBackTwo(<span class="number">10</span>));        </span><br></pre></td></tr></table></figure><ul><li>c# 自带的泛型委托</li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CallBackTwo callBackTwo = LuaMgr.GetInstance().Global.Get&lt;CallBackTwo&gt;(<span class="string">&quot;funcFun2&quot;</span>);</span><br><span class="line">Debug.Log(<span class="string">&quot;有参数有返回值:&quot;</span> + callBackTwo(<span class="number">10</span>));        <span class="comment">//c#自带的泛型委托</span></span><br></pre></td></tr></table></figure><ul><li><p>系统自带的泛型</p><p>此方式依赖于于using System(public delegate TResult Func<in T, out TResult>(T arg);)，提供了一种有参有返回值泛型的方法Func&lt;值类型,……返回值的类型&gt;，这里可以对多个参数赋值，但是最后一个必然是需要返回的值的类型</p></li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Func&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; sFun = LuaMgr.GetInstance().Global.Get&lt;Func&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt;&gt;(<span class="string">&quot;funcFun2&quot;</span>);</span><br><span class="line">Debug.Log(<span class="string">&quot;c#自带的有参数有返回值:&quot;</span> + sFun(<span class="number">20</span>));</span><br></pre></td></tr></table></figure><ul><li>Lua解析器自带的委托</li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LuaFunction luaFunction_Two = LuaMgr.GetInstance().Global.Get&lt;LuaFunction&gt;(<span class="string">&quot;funcFun2&quot;</span>);</span><br><span class="line"><span class="comment">//这里由于其只有一个返回值，则打印便是数组中的第一个参数</span></span><br><span class="line">Debug.Log(<span class="string">&quot;xLua提供的有参有会返回值的:&quot;</span> + luaFunction_Two.Call(<span class="number">30</span>)[<span class="number">0</span>]);</span><br></pre></td></tr></table></figure><h2 id="多返回值"><a href="#多返回值" class="headerlink" title="多返回值"></a>多返回值</h2><p>这里需要用到一个知识点，也就是out和ref的用法</p><div class="note green no-icon flat"><p><mark class="hl-label red">知识点：</mark> 在C#中通过使用方法来获取返回值时，通常只能得到一个返回值。因此，当一个方法需要<font color=red>返回多个值</font>的时候，就需要用到ref和out。</p><p>ref 关键字使参数按引用传递。其效果是，当控制权传递回调用方法时，在方法中对参数所做的任何更改都将反映在该变量中。若要使用 ref 参数，则方法定义和调用方法都必须显式使用 ref 关键字。(简单来说就是在参数前加ref，并需要先对参数初始化)</p><p>out 关键字会导致参数通过引用来传递。这与 ref 关键字类似，不同之处在于 ref 要求变量必须在传递之前进行初始化。若要使用 out 参数，方法定义和调用方法都必须显式使用 out 关键字（简单来说，与ref一样需要在参数前加out，但是比ref不需要先对参数初始化）</p></div><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">funcFun3=<span class="function"><span class="keyword">function</span><span class="params">(a)</span></span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;多返回值&quot;</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>,<span class="number">2</span>,<span class="literal">true</span>,<span class="string">&quot;哈信息&quot;</span>,a</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><div class="tabs" id="折叠框"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#折叠框-1">使用ref 🤗</button></li><li class="tab"><button type="button" data-href="#折叠框-2">使用out 👺</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="折叠框-1"><p>定义与lua中相同的委托</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//因为在上面lua中定义的函数只有一个参数，所以第一个作为默认的返回值，后面几个相当于作为提取</span></span><br><span class="line">[<span class="meta">CSharpCallLua</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="built_in">int</span> <span class="title">CallBackFour</span>(<span class="params"><span class="built_in">int</span> a, <span class="keyword">ref</span> <span class="built_in">int</span> b, <span class="keyword">ref</span> <span class="built_in">bool</span> c, <span class="keyword">ref</span> <span class="built_in">string</span> d, <span class="keyword">ref</span> <span class="built_in">int</span> e</span>)</span>;</span><br></pre></td></tr></table></figure><p>需要先对相关参数变量进行初始化</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> b1 = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">bool</span> c1 = <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">string</span> d1 = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="built_in">int</span> e1 = <span class="number">0</span>;</span><br><span class="line">CallBackFour call4 = LuaMgr.GetInstance().Global.Get&lt;CallBackFour&gt;(<span class="string">&quot;funcFun3&quot;</span>);</span><br><span class="line">Debug.Log(<span class="string">&quot;使用ref&quot;</span> + call4(<span class="number">200</span>, <span class="keyword">ref</span> b1, <span class="keyword">ref</span> c1, <span class="keyword">ref</span> d1, <span class="keyword">ref</span> e1));</span><br><span class="line">Debug.Log(b1 + <span class="string">&quot;_&quot;</span> + c1 + <span class="string">&quot;_&quot;</span> + d1 + <span class="string">&quot;_&quot;</span> + e1);</span><br></pre></td></tr></table></figure><p><img src="https://pic.gmcj0816.top/image/many_return.jpg" style="zoom:80%;" /></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="折叠框-2"><p>定义与lua中相同的委托</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[CSharpCallLua]</span><br><span class="line">public delegate int CallBackThree(int a, out int b, out bool c, out <span class="built_in">string</span> d, out int e)</span><br></pre></td></tr></table></figure><p>创建相关参数变量</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CallBackThree call3 = LuaMgr.GetInstance().Global.Get&lt;CallBackThree&gt;(<span class="string">&quot;funcFun3&quot;</span>);</span><br><span class="line"><span class="built_in">int</span> b;</span><br><span class="line"><span class="built_in">bool</span> c;</span><br><span class="line"><span class="built_in">string</span> d;</span><br><span class="line"><span class="built_in">int</span> e;</span><br><span class="line">Debug.Log(<span class="string">&quot;第一个返回值：&quot;</span> + call3(<span class="number">100</span>, <span class="keyword">out</span> b, <span class="keyword">out</span> c, <span class="keyword">out</span> d, <span class="keyword">out</span> e));</span><br><span class="line">Debug.Log(b + <span class="string">&quot;_&quot;</span> + c + <span class="string">&quot;_&quot;</span> + d + <span class="string">&quot;_&quot;</span> + e);</span><br></pre></td></tr></table></figure><p><img src="https://pic.gmcj0816.top/image/many_return_out.jpg" style="zoom:80%;" /></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="不定参数"><a href="#不定参数" class="headerlink" title="不定参数"></a>不定参数</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">funcFun4=<span class="function"><span class="keyword">function</span><span class="params">(a,...)</span></span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;变长参数&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">arg</span>=&#123;...&#125;</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">pairs</span>(<span class="built_in">arg</span>) <span class="keyword">do</span></span><br><span class="line"><span class="built_in">print</span>(k,v)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h1 id="C-映射到Lua"><a href="#C-映射到Lua" class="headerlink" title="C#映射到Lua"></a>C#映射到Lua</h1><h2 id="列表和字典映射"><a href="#列表和字典映射" class="headerlink" title="列表和字典映射"></a>列表和字典映射</h2><h3 id="列表映射Lua"><a href="#列表映射Lua" class="headerlink" title="列表映射Lua"></a>列表映射Lua</h3><p>简述:List<T>可以包含指定类型的元素。它提供编译时类型检查，并且不执行装箱/拆箱，因为它是泛型的。</p><p>首先还是需要在lua中实现一个列表的效果，这个还是比较简单，因为列表是可以存相同类型的数据，也可存储不同类型的数据，而lua中是以table来实现相应的效果，这里为了模拟实际中常见的使用创建两个table</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--映射到List</span></span><br><span class="line">testList=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;</span><br><span class="line">testListTwo=&#123;<span class="string">&quot;123&quot;</span>,<span class="string">&quot;456&quot;</span>,<span class="literal">true</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>&#125;</span><br></pre></td></tr></table></figure><p>在c#中使用首先还是需要初始化lua解析器</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化lua解析器</span></span><br><span class="line">LuaMgr.GetInstance().Init();</span><br><span class="line">LuaMgr.GetInstance().DoLuaFile(<span class="string">&quot;main&quot;</span>);</span><br></pre></td></tr></table></figure><p>然后我们就可以用大G表去获取到两个lua中的table表</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//因为在lua中的testList，很容易可以看出全都是存的number，所以完全可以用int来存</span></span><br><span class="line">List&lt;<span class="built_in">int</span>&gt; listOne = LuaMgr.GetInstance().Global.Get&lt;List&lt;<span class="built_in">int</span>&gt;&gt;(<span class="string">&quot;testList&quot;</span>);</span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> listOne)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//打印每一个值</span></span><br><span class="line">    Debug.Log(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//因为在lua中的testListTwo，很容易可以看出全都是存的number，string，boolean值，所以可以用object来存</span></span><br><span class="line">List&lt;<span class="built_in">object</span>&gt; listTwo = LuaMgr.GetInstance().Global.Get&lt;List&lt;<span class="built_in">object</span>&gt;&gt;(<span class="string">&quot;testListTwo&quot;</span>);</span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> listTwo)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//打印每一个值</span></span><br><span class="line">    Debug.Log(item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="字典映射Lua"><a href="#字典映射Lua" class="headerlink" title="字典映射Lua"></a>字典映射Lua</h3><p>其实对于字典来说，在lua中基本就是table1套table2，table2中有两个变量，一个用来存键，一个用来值</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--映射到Dictionary</span></span><br><span class="line">testDic=&#123;</span><br><span class="line">[<span class="string">&quot;1&quot;</span>]=<span class="number">1</span>,</span><br><span class="line">[<span class="string">&quot;2&quot;</span>]=<span class="number">2</span>,</span><br><span class="line">[<span class="string">&quot;3&quot;</span>]=<span class="number">3</span>,</span><br><span class="line">[<span class="string">&quot;4&quot;</span>]=<span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line">testDicTwo=&#123;</span><br><span class="line">[<span class="string">&quot;1&quot;</span>]=<span class="number">1</span>,</span><br><span class="line">[<span class="literal">true</span>]=<span class="number">1</span>,</span><br><span class="line">[<span class="literal">false</span>]=<span class="literal">true</span>,</span><br><span class="line">[<span class="string">&quot;456&quot;</span>]=<span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在c#中使用首先还是需要初始化lua解析器</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化lua解析器</span></span><br><span class="line">LuaMgr.GetInstance().Init();</span><br><span class="line">LuaMgr.GetInstance().DoLuaFile(<span class="string">&quot;main&quot;</span>);</span><br></pre></td></tr></table></figure><p>然后创建字典用大G表获取到testDic和testDicTwo</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">int</span>&gt; dic = LuaMgr.GetInstance().Global.Get&lt;Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">int</span>&gt;&gt;(<span class="string">&quot;testDic&quot;</span>);</span><br><span class="line"><span class="keyword">foreach</span> (<span class="built_in">string</span> item <span class="keyword">in</span> dic.Keys) &#123;</span><br><span class="line">    Debug.Log(item + <span class="string">&quot;_&quot;</span> + dic[item]);</span><br><span class="line">&#125;</span><br><span class="line">Dictionary&lt;<span class="built_in">object</span>, <span class="built_in">object</span>&gt; dicTwo = LuaMgr.GetInstance().Global.Get&lt;Dictionary&lt;<span class="built_in">object</span>, <span class="built_in">object</span>&gt;&gt;(<span class="string">&quot;testDicTwo&quot;</span>);</span><br><span class="line"><span class="keyword">foreach</span> (<span class="built_in">object</span> item <span class="keyword">in</span> dicTwo.Keys) &#123;</span><br><span class="line">    Debug.Log(item + <span class="string">&quot;_&quot;</span> + dicTwo[item]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="类映射Lua的table"><a href="#类映射Lua的table" class="headerlink" title="类映射Lua的table"></a>类映射Lua的table</h2><h3 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h3><p>在lua中创建类基本和c#中创建一个类相比较有些类似，只是在表中加入参数和函数</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">testClass=&#123;</span><br><span class="line">testInt=<span class="number">2</span>,<span class="comment">--Number</span></span><br><span class="line">testBool=<span class="literal">true</span>,<span class="comment">--boolean</span></span><br><span class="line">testFloat=<span class="number">1.2</span>,<span class="comment">--Number</span></span><br><span class="line">testString=<span class="string">&quot;123&quot;</span>,<span class="comment">--String</span></span><br><span class="line">testFun=<span class="function"><span class="keyword">function</span><span class="params">()</span></span><span class="comment">--function</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;123456789&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对于在C#中如何使用，基本就是在创建相同名称的公有变量(这里需要注意<font color=red>私有和保护的变量是无法获取到的，而且公有变量是可多可少的，如果某个变量不需要，可以不写，结果只会被忽略得不到值而已，多出的变量也不会赋值，并且自动忽略，不会影响整体的效果，而类属于值传递，并不会造成lua变量的值的变化</font>)</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">--我们先创建和lua中相同名字的类</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CallLuaClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//这里我们先不忽略，将所有变量都打印一下看看</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> testInt;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> testBool;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> testFloat;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> testString;</span><br><span class="line">    <span class="keyword">public</span> UnityAction testFun;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化Lua解析器</span></span><br><span class="line">LuaMgr.GetInstance().Init();</span><br><span class="line">LuaMgr.GetInstance().DoLuaFile(<span class="string">&quot;Main&quot;</span>);</span><br><span class="line"><span class="comment">//通过_G表获取到testClass这个表</span></span><br><span class="line">CallLuaClass obj = LuaMgr.GetInstance().Global.Get&lt;CallLuaClass&gt;(<span class="string">&quot;testClass&quot;</span>);</span><br><span class="line"><span class="comment">//获取其中的变量</span></span><br><span class="line">Debug.Log(obj.testInt);</span><br><span class="line">Debug.Log(obj.testBool);</span><br><span class="line">Debug.Log(obj.testFloat);</span><br><span class="line">Debug.Log(obj.testString);</span><br><span class="line"><span class="comment">//执行函数</span></span><br><span class="line">obj.testFun();</span><br></pre></td></tr></table></figure><p>这里我们可以通过以下的截图看出结果</p><p><img src="https://pic.gmcj0816.top/image/xlua_call_class_1.jpg" style="zoom:80%;" /></p><p>当我们注释掉testFloat这个变量，如下</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">--我们先创建和lua中相同名字的类</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CallLuaClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//这里我们先不忽略，将所有变量都打印一下看看</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> testInt;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> testBool;</span><br><span class="line">    <span class="comment">//public float testFloat;//省略这个变量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> testFloatTwo;<span class="comment">//添加一个不存在的变量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> testString;</span><br><span class="line">    <span class="keyword">public</span> UnityAction testFun;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>按照上面的方式进行打印</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化Lua解析器</span></span><br><span class="line">LuaMgr.GetInstance().Init();</span><br><span class="line">LuaMgr.GetInstance().DoLuaFile(<span class="string">&quot;Main&quot;</span>);</span><br><span class="line"><span class="comment">//通过_G表获取到testClass这个表</span></span><br><span class="line">CallLuaClass obj = LuaMgr.GetInstance().Global.Get&lt;CallLuaClass&gt;(<span class="string">&quot;testClass&quot;</span>);</span><br><span class="line"><span class="comment">//获取其中的变量</span></span><br><span class="line">Debug.Log(obj.testInt);</span><br><span class="line">Debug.Log(obj.testBool);</span><br><span class="line"><span class="comment">//Debug.Log(obj.testFloat);</span></span><br><span class="line">Debug.Log(obj.testFloatTwo);</span><br><span class="line">Debug.Log(obj.testString);</span><br><span class="line"><span class="comment">//执行函数</span></span><br><span class="line">obj.testFun();</span><br></pre></td></tr></table></figure><p><img src="https://pic.gmcj0816.top/image/xlua_call_class_2.jpg" style="zoom:80%;" /></p><div class="note green no-icon flat"><p>这里很容易会发现，结果不会受影响，并且没有找到的testFloatTwo这个变量结果也并没有进行赋值，而是默认值为0</p></div><h3 id="进阶"><a href="#进阶" class="headerlink" title="进阶"></a>进阶</h3><p>其实在实际的开发过程中，不可能单单是一类，也存在类中在套着类的情况，这种情况对于lua中的写法来说，无外乎就是table套table，例如:</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">testClass=&#123;</span><br><span class="line">testInt=<span class="number">2</span>,</span><br><span class="line">testBool=<span class="literal">true</span>,</span><br><span class="line">testFloat=<span class="number">1.2</span>,</span><br><span class="line">testString=<span class="string">&quot;123&quot;</span>,</span><br><span class="line">testFun=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;123456789&quot;</span>)</span><br><span class="line"><span class="keyword">end</span>,</span><br><span class="line">    <span class="comment">--table中在套一个table</span></span><br><span class="line">testInClass= &#123;</span><br><span class="line">testInInt=<span class="number">5</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在C#来说就是在创建一个Class类，然后在类中添加，例如(需要注意:<font color=red>lua中的表名要和c#中类名要保持一致</font>)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public class CallLuaClass</span><br><span class="line">&#123;</span><br><span class="line">    public int testInt;</span><br><span class="line">    public bool testBool;</span><br><span class="line">    //public float testFloat;</span><br><span class="line">    public float testString;</span><br><span class="line">    public UnityAction testFun;</span><br><span class="line">    public CallLuaInClass testInClass;</span><br><span class="line">    public void Test()</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(testInt);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">public class CallLuaInClass</span><br><span class="line">&#123;</span><br><span class="line">    public int testInInt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>具体的调用</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//初始化Lua解析器</span><br><span class="line">LuaMgr.GetInstance().Init();</span><br><span class="line">//加载lua脚本</span><br><span class="line">LuaMgr.GetInstance().DoLuaFile(<span class="string">&quot;Main&quot;</span>);</span><br><span class="line">//获取到testClass这个表并与CallLuaClass意义对应</span><br><span class="line">CallLuaClass obj = LuaMgr.GetInstance().Global.Get&lt;CallLuaClass&gt;(<span class="string">&quot;testClass&quot;</span>);</span><br><span class="line">Debug.Log(obj.testInt);</span><br><span class="line">Debug.Log(obj.testBool);</span><br><span class="line">//Debug.Log(obj.testFloat);</span><br><span class="line">Debug.Log(obj.testString);</span><br><span class="line">Debug.Log(obj.i);</span><br><span class="line">Debug.Log(<span class="string">&quot;嵌套：&quot;</span> + obj.testInClass.testInInt);</span><br><span class="line">obj.testFun();<span class="comment">--这个基本变量不是很大，就不附上结果截图了</span></span><br></pre></td></tr></table></figure><h2 id="接口映射Lua的table"><a href="#接口映射Lua的table" class="headerlink" title="接口映射Lua的table"></a>接口映射Lua的table</h2><div class="note green no-icon flat"><p>其实接口和类规则一样，也遵循公有变量是可多可少的，如果某个变量不需要，可以不写，结果只会被忽略得不到值而已，多出的变量也不会赋值，并且自动忽略，不会影响整体的效果，但是<font color=red>由于接口拷贝是引用拷贝，对于数值的赋值会影响到lua中的参数数值</font></p></div>，例如### 首先创建一个接口接口中是不允许有成员变量的,我们用属性来接受,而且用接口来接收lua参数是需要添加[CSharpCallLua]<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这里记得Genetate Code</span></span><br><span class="line">[<span class="meta">CSharpCallLua</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICSharpCallInterface</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> testInt&#123; <span class="keyword">get</span>;<span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="built_in">bool</span> testBool&#123; <span class="keyword">get</span>;<span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="built_in">string</span> testString &#123; <span class="keyword">get</span>;<span class="keyword">set</span>; &#125;</span><br><span class="line">    UnityAction testFun &#123; <span class="keyword">get</span>;<span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>示例代码:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化Lua解析器</span></span><br><span class="line">LuaMgr.GetInstance().Init();</span><br><span class="line">LuaMgr.GetInstance().DoLuaFile(<span class="string">&quot;Main&quot;</span>);</span><br><span class="line">ICSharpCallInterface obj = LuaMgr.GetInstance().Global.Get&lt;ICSharpCallInterface&gt;(<span class="string">&quot;testClass&quot;</span>);</span><br><span class="line">Debug.Log(obj.testInt);</span><br><span class="line">Debug.Log(obj.testBool);</span><br><span class="line">Debug.Log(obj.testString);</span><br><span class="line">obj.testFun();</span><br><span class="line"><span class="comment">//接口拷贝 是引用拷贝 改了值 lua表中的值也变了</span></span><br><span class="line">obj.testInt = <span class="number">10000</span>;</span><br><span class="line">ICSharpCallInterface obj2 = LuaMgr.GetInstance().Global.Get&lt;ICSharpCallInterface&gt;(<span class="string">&quot;testClass&quot;</span>);</span><br><span class="line">Debug.Log(obj2.testInt);</span><br></pre></td></tr></table></figure><p><img src="https://pic.gmcj0816.top/image/xlua_call_interface_1.jpg" style="zoom:80%;" /></p><h2 id="LuaTable映射table"><a href="#LuaTable映射table" class="headerlink" title="LuaTable映射table"></a>LuaTable映射table</h2><p>其实这种方式，在官方的文档中是不建议使用的，因为其会造成多余的垃圾，如果不进行清理，会造成垃圾的存留，或多或少的造成效率的降低</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化Lua解析器</span></span><br><span class="line">LuaMgr.GetInstance().DoLuaFile(<span class="string">&quot;Main&quot;</span>);</span><br><span class="line">LuaTable table = LuaMgr.GetInstance().Global.Get&lt;LuaTable&gt;(<span class="string">&quot;testClas&quot;</span>);</span><br><span class="line">Debug.Log(table.Get&lt;<span class="built_in">int</span>&gt;(<span class="string">&quot;testInt&quot;</span>));</span><br><span class="line">Debug.Log(table.Get&lt;<span class="built_in">bool</span>&gt;(<span class="string">&quot;testBool&quot;</span>));</span><br><span class="line">Debug.Log(table.Get&lt;<span class="built_in">float</span>&gt;(<span class="string">&quot;testFloat&quot;</span>));</span><br><span class="line">Debug.Log(table.Get&lt;<span class="built_in">string</span>&gt;(<span class="string">&quot;testString&quot;</span>));</span><br><span class="line">table.Get&lt;LuaFunction&gt;(<span class="string">&quot;testFun&quot;</span>).Call();</span><br><span class="line"><span class="comment">//改  引用</span></span><br><span class="line">table.Set(<span class="string">&quot;testInt&quot;</span>, <span class="number">55</span>);</span><br><span class="line">Debug.Log(table.Get&lt;<span class="built_in">int</span>&gt;(<span class="string">&quot;testInt&quot;</span>));</span><br><span class="line">LuaTable table2 = LuaMgr.GetInstance().Global.Get&lt;LuaTable&gt;(<span class="string">&quot;testClas&quot;</span>);</span><br><span class="line">Debug.Log(table2.Get&lt;<span class="built_in">int</span>&gt;(<span class="string">&quot;testInt&quot;</span>));</span><br><span class="line"><span class="comment">//销毁解析器</span></span><br><span class="line">table.Dispose();</span><br><span class="line">table2.Dispose();</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note primary modern&quot;&gt;&lt;p&gt;本来想着一个文章全都写完，后来才发现，失策了!!!,加上自己感觉要是太长了，后面自己复习也懒得去看，那就细分成三个文章咯！毕竟有些地方还是有些区别的&lt;/p&gt;
&lt;/div&gt;
&lt;h1 id=&quot;获取全局变量&quot;&gt;&lt;a</summary>
      
    
    
    
    <category term="🦋热更新" scheme="https://blog.gmcj0816.top/categories/%F0%9F%A6%8B%E7%83%AD%E6%9B%B4%E6%96%B0/"/>
    
    
    <category term="Unity" scheme="https://blog.gmcj0816.top/tags/Unity/"/>
    
    <category term="热更新" scheme="https://blog.gmcj0816.top/tags/%E7%83%AD%E6%9B%B4%E6%96%B0/"/>
    
    <category term="Lua" scheme="https://blog.gmcj0816.top/tags/Lua/"/>
    
    <category term="xLua" scheme="https://blog.gmcj0816.top/tags/xLua/"/>
    
  </entry>
  
  <entry>
    <title>Unity3d热更新之Lua热更新</title>
    <link href="https://blog.gmcj0816.top/posts/19624/"/>
    <id>https://blog.gmcj0816.top/posts/19624/</id>
    <published>2023-02-15T12:02:20.000Z</published>
    <updated>2023-04-13T09:59:17.281Z</updated>
    
    <content type="html"><![CDATA[<div class="tip bolt"><p>此文章部分内容和思维导图来源于唐老狮相关Lua课程，通过Vistual Studio Code语法测试，如有问题，请在以下留言</p><p>由于全部为本工作室二级网站—学习格整理而成，故本网站对本文章拥有相关创作权，因此在搬运或者转载二次改变前请与本人联系，禁止一切未经允许的搬运行为，若出现或发现侵权行为，本人有权对相关侵权行为进行举报，维护本人和合法权益。</p><p><mark class="hl-label red">因本人知识储备有限，可能存在错误，如有错误，可在评论处进行评论(评论回复将通过qq邮箱进行回复)，一起探讨进步</mark> </p></div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>Sublime Text</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>Visual Studio Code(安装lua)</p>            </div><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>Typora</p>            </div><h1 id="一-Lua相关注释"><a href="#一-Lua相关注释" class="headerlink" title="一.Lua相关注释"></a>一.Lua相关注释</h1><p>这里需要注意的是在C#中单行注释是使用”//“，多行注释是”/%内容%/“，在lua中的单行注释和多行注释相关格式如下图</p><div class="tabs" id="注释"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#注释-1">单行注释</button></li><li class="tab"><button type="button" data-href="#注释-2">多行注释</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="注释-1"><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--单行注释</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="注释-2"><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">多行注释</span></span><br><span class="line"><span class="comment">]]</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="二-数据类型"><a href="#二-数据类型" class="headerlink" title="二.数据类型"></a>二.数据类型</h1><h2 id="写在最前面"><a href="#写在最前面" class="headerlink" title="写在最前面"></a>写在最前面</h2><div class="tip home"><ul><li><p>在lua中<wavy>无需定义数据</wavy>的类型，在使用中会自动识别</p></li><li><p>lua当中的基本数据类型：</p><p>（1）nil（类似于c#中null）</p><p>（2）number（所有的数值都是number==&gt;number包括int float double）</p><p>（3）string （lua中没有char，字符串的声明使用单引号或者双引号包裹）</p><p>（4）boolean（返回的是true或false）</p></li><li><p>lua当中的复杂数据类型：</p><p>（1）函数（function）</p><p>（2）表（table）【表需要特别学习，特别的重要】</p><p>（3）数据结构（userdata）</p><p>（4）协同程序（thread（线程））</p></li><li><p>lua中带 <emp>所有的变量申明，都不需要申明变量类型</emp>，同理可以随便赋值，可以自动判断类型==&gt;类似c#中的var</p></li><li><p>lua中使用<wavy>没有声明过的变量并不会报错，默认返回的是nil</wavy></p></li><li><p>lua<wavy>默认是没有 面向对象的 ，需要自己实现</wavy></p></li><li><p>在lua中的”数组” <wavy>起始位置与c#不同，从1开始</wavy>；</p></li><li><p><wavy>当对变量多赋值时,会将后面多赋的值自动省略</wavy>；</p></li><li><wavy>当对变量少赋值时，会将后面不够的值直接自动赋为空值</wavy></li><li><wavy>多返回值时，用几个变量接就会有多少个值</wavy></li><li><p>如果<wavy>变量数大于方法返回的值数量，则会进行补空处理</wavy></p></li><li><p>如果 <wavy>变量数小于方法返回的值数量，则会根据变量数量进行接取</wavy></p></li></ul></div><h2 id="1-基本数据类型"><a href="#1-基本数据类型" class="headerlink" title="1.基本数据类型"></a>1.基本数据类型</h2><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">nil和number</button></li><li class="tab"><button type="button" data-href="#test1-2">string</button></li><li class="tab"><button type="button" data-href="#test1-3">boolean</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p>nil的使用</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="literal">nil</span>  <span class="comment">--定义a这个变量的值为nil</span></span><br><span class="line"><span class="built_in">print</span>(a) <span class="comment">--这里是输出a这个变量，输出值也同样是nil，不过输出的是字符串类型</span></span><br></pre></td></tr></table></figure><p>number（数值类型）</p><ul><li><font color=red>这里需要注意一点：在上面赋过值得变量，可以重复使用，在下面依然可以重新赋值，也同样会根据相关赋值的类型转化为相对应的类型</font></li></ul><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">1</span> b=<span class="number">1.25</span></span><br><span class="line"><span class="built_in">print</span>(a) <span class="comment">--输出的值是1</span></span><br><span class="line"><span class="built_in">print</span>(b) <span class="comment">--输出的值是1.25</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p>string（字符串类型）</p><ul><li><font color=red>在lua中是没有字符的，在定义字符串时可以使用以下三种方式：<br/>（1）单引号 'SeveneStudio'   <br/>（2）双引号 "SeveneStudio"  <br/>（3）中括号 [[SeveneStudio]]</font></li></ul><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="string">&quot;SeveneStudio_Logo&quot;</span> </span><br><span class="line"><span class="built_in">print</span>(a)  <span class="comment">--输出的值是SeveneStudio_Logo</span></span><br><span class="line">a=<span class="string">&#x27;SeveneStudio——Company&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(a)  <span class="comment">--输出的值是SeveneStudio——Company</span></span><br><span class="line">a=<span class="string">[[SevenStuido_KaiFa]]</span></span><br><span class="line"><span class="built_in">print</span>(a)  <span class="comment">--输出的值是SevenStuido_KaiFa</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p>boolean（Boolean类型）</p><ul><li><font color=red>在lua中只有true和false代表真与假，这个与c#有着区别</font></li></ul><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="literal">true</span></span><br><span class="line"><span class="built_in">print</span>(a) <span class="comment">-- 输出的值是true</span></span><br><span class="line">a=<span class="literal">false</span></span><br><span class="line"><span class="built_in">print</span>(a) <span class="comment">-- 输出的值是false</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-type-的使用和字符串扩展"><a href="#2-type-的使用和字符串扩展" class="headerlink" title="2.type()的使用和字符串扩展"></a>2.type()的使用和字符串扩展</h2><h3 id="type-获取变量类型"><a href="#type-获取变量类型" class="headerlink" title="type() 获取变量类型"></a>type() 获取变量类型</h3><ul><li><font color=red>通过type()可以获取变量类型==>返回值是变量的数据类型，属于string类型</font></li></ul><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">123</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a))  <span class="comment">--因为a的类型是number，所以通过type()获取的输出的是number</span></span><br><span class="line">a=<span class="string">&quot;123&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a))  <span class="comment">--因为a的类型是string，所以通过type()获取的输出的是string</span></span><br></pre></td></tr></table></figure><h2 id="3-字符串的相关使用"><a href="#3-字符串的相关使用" class="headerlink" title="3.字符串的相关使用"></a>3.字符串的相关使用</h2><h3 id="第一小节"><a href="#第一小节" class="headerlink" title="第一小节"></a>第一小节</h3><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">计算字符串长度</button></li><li class="tab"><button type="button" data-href="#-2">字符串的换行</button></li><li class="tab"><button type="button" data-href="#-3">字符串的拼接</button></li><li class="tab"><button type="button" data-href="#-4">字符串转化</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p>相关方法：print(#变量名)</p><div class="table-container"><table><thead><tr><th>注意点</th></tr></thead><tbody><tr><td><font color=red>1.一个汉字占3个长度</font></td></tr><tr><td><font color=red>2.英文字符占1个长度</font></td></tr></tbody></table></div><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s=<span class="string">&quot;aBcDEfG字符串&quot;</span></span><br><span class="line"><span class="built_in">print</span>(#s)</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p>说明：字符串的换行/字符串多行打印在lua中是与c#一样，是<font color=red>支持转义字符的</font>  </p><p>相关格式：可以使用\n或者[[字符串]]</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;123\n123&quot;</span>)</span><br><span class="line">s=<span class="string">[[</span></span><br><span class="line"><span class="string">这里</span></span><br><span class="line"><span class="string">是</span></span><br><span class="line"><span class="string">SeveneStudio</span></span><br><span class="line"><span class="string">]]</span></span><br><span class="line"><span class="built_in">print</span>(s)</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><p>相关格式：</p><p>（1）在lua中字符串的拼接通过..实现，字符串..字符串</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;HaXinXi&quot;</span>..<span class="string">&quot;XueYuan&quot;</span>)  <span class="comment">-- HaXinXiXueYuan</span></span><br><span class="line">s1=<span class="string">&quot;Wang&quot;</span></span><br><span class="line">s2=<span class="string">&quot;Li&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s1..s2)   <span class="comment">-- HaXinXiXueYuan</span></span><br></pre></td></tr></table></figure><p>（2）string.format(）</p><div class="table-container"><table><thead><tr><th style="text-align:left">注意点</th></tr></thead><tbody><tr><td style="text-align:left"><span class='p red'>%d 与数字进行拼接</span></td></tr><tr><td style="text-align:left"><span class='p red'>%a 与任何字符拼接</span></td></tr><tr><td style="text-align:left"><span class='p red'>%s 与字符配对</span></td></tr></tbody></table></div><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;我是哈信息%d级学生&quot;</span>,<span class="number">18</span>))   <span class="comment">--我是哈信息18级学生</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;我的家乡是%s市&quot;</span>,<span class="string">&quot;承德&quot;</span>))   <span class="comment">--我的家乡是承德市</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><p>格式：string.upper(字符串)</p><div class="table-container"><table><thead><tr><th style="text-align:left">注意点</th></tr></thead><tbody><tr><td style="text-align:left"><span class='p red'><strong>string.upper(argument):</strong> 字符串全部转为大写字母，</span></td></tr><tr><td style="text-align:left"><span class='p red'><strong>string.lower(argument):</strong>字符串全部转为小写字母</span></td></tr></tbody></table></div><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s=<span class="string">&quot;SeveneStudio&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">upper</span>(s))  <span class="comment">--SEVENESTUDIO</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">lower</span>(s))  <span class="comment">--sevenestudio</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="第二小节"><a href="#第二小节" class="headerlink" title="第二小节"></a>第二小节</h3><div class="tabs" id="test2"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test2-1">字符串的翻转</button></li><li class="tab"><button type="button" data-href="#test2-2">字符串的查找</button></li><li class="tab"><button type="button" data-href="#test2-3">字符串的截取</button></li><li class="tab"><button type="button" data-href="#test2-4">字符串的拷贝</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test2-1"><p>格式：string.reverse(arg)<font color=red>了解即可，用途不是很大</font></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">reverse</span>(s)) <span class="comment">--oidutSeneveS</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test2-2"><p>格式：string.find (str, substr, [init, [plain]])</p><p><strong>init</strong> 指定了搜索的起始位置，默认为 1，可以一个负数，表示从后往前数的字符个数。<br/><strong>plain</strong> 表示是否以正则表达式匹配。</p><div class="table-container"><table><thead><tr><th>注意点</th></tr></thead><tbody><tr><td><font color=red>（1）lua的起始位置与c#不同，从1开始；</font></td></tr><tr><td><font color=red>（2）string.find (）会返回起始位置和结束位置</font></td></tr></tbody></table></div><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s=<span class="string">&quot;SeveneStudio&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">find</span>(s,<span class="string">&quot;eve&quot;</span>)) <span class="comment">--2       4</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test2-3"><p>格式：string.sub(s, i [, j])</p><p>s：要截取的字符串；</p><p>i：截取开始位置； </p><p>j：截取结束位置，默认为 -1，最后一个字符。</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span>.<span class="built_in">sub</span>(s, i [, j])</span><br><span class="line">s=<span class="string">&quot;SeveneStudio&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">sub</span>(s,<span class="number">2</span>,<span class="number">6</span>)) <span class="comment">--evene</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test2-4"><p>格式：string.rep(string, n)</p><div class="table-container"><table><thead><tr><th style="text-align:left">注意点</th></tr></thead><tbody><tr><td style="text-align:left"><font color=red>返回字符串String的n个拷贝，即将字符串复制n个返回</font></td></tr></tbody></table></div><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s=<span class="string">&quot;SeveneStudio&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">rep</span>(s,<span class="number">3</span>)) <span class="comment">--SeveneStudioSeveneStudioSeveneStudio</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="第三小节"><a href="#第三小节" class="headerlink" title="第三小节"></a>第三小节</h3><div class="tabs" id="test3"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test3-1">字符串的替换</button></li><li class="tab"><button type="button" data-href="#test3-2">字符串的字符和ASCII相互转换</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test3-1"><p>格式：string.gsub(mainString,findString,replaceString,num)</p><p><strong>mainString</strong> 为要操作的字符串；</p><p><strong>replaceString</strong> 要替换的字符；</p><p><strong>findString</strong> 为被替换的字符；</p><p><strong>num</strong> 替换次数（可以忽略，则全部替换）;</p><font color=red>这里会返回两个：1.替换后的字符串，2.替换次数</font><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s=<span class="string">&quot;SeveneStudio&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">gsub</span>(s,<span class="string">&quot;e&quot;</span>,<span class="string">&quot;*&quot;</span>))  <span class="comment">--S*v*n*Studio    3</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-2"><p>格式：字符转ASCII码：string.byte(string,int)</p><p>​            ASCII码转字符：string.char(int)</p><div class="table-container"><table><thead><tr><th style="text-align:left">注意点</th></tr></thead><tbody><tr><td style="text-align:left"><strong>string.byte(string,int)</strong> 字符转ASCII码 ==&gt;string是指字符串，int是需要转换的位置</td></tr><tr><td style="text-align:left"><strong>string.char(int)</strong> ASCII码转字符==&gt;int指需要ASCII码转化为字符</td></tr></tbody></table></div><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;字符转ASCII码&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">byte</span>(s,<span class="number">1</span>))  <span class="comment">-- 83</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ASCII码转字符&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">char</span>(<span class="built_in">string</span>.<span class="built_in">byte</span>(s,<span class="number">1</span>)))  <span class="comment">--S</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="4-复杂数据类型"><a href="#4-复杂数据类型" class="headerlink" title="4.复杂数据类型"></a>4.复杂数据类型</h2><ul><li><p>函数（function）</p></li><li><p>表（table）【表需要特别学习，特别的重要】</p></li><li><p>数据结构（userdata）</p></li><li><p>协同程序（thread（线程））</p></li></ul><div class="tabs" id="循环语句"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#循环语句-1">函数（function）</button></li><li class="tab"><button type="button" data-href="#循环语句-2">表（table）</button></li><li class="tab"><button type="button" data-href="#循环语句-3">迭代器遍历</button></li><li class="tab"><button type="button" data-href="#循环语句-4">字典</button></li><li class="tab"><button type="button" data-href="#循环语句-5">类和结构体</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="循环语句-1"><p><span class='p red'>注意：</span></p><p><span class='p red'>（1）lua函数的使用与c#不同，需要在函数创建后调用</span></p><p><span class='p red'>（2）在lua中当你传入的参数和函数中的参数个数不匹配时，并不会报错，而是少于参数个数补空或者多余参数个数丢失</span></p><p><span class='p red'>（3）多返回值时，在前面申明多个变量来接取即可，如果变量不够，不会影响结果，值会根据实际接取对应位置的返回值</span></p><p><span class='p red'>（4）在lua中并不支持函数的重载，如果函数名相同，参数不同时，则会执行最后声明的函数</span></p><p>基本语法</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function 函数名（）</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">a=function()</span><br><span class="line">end</span><br></pre></td></tr></table></figure><p>1.无参数无返回值的函数</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;**********无参数无返回值**********&quot;</span>)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F1</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;f1函数&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">F1()</span><br><span class="line">F2=<span class="function"><span class="keyword">function</span> <span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;F2函数&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">F2()</span><br></pre></td></tr></table></figure><p>2.有参数无返回值</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;**********有参数无返回值**********&quot;</span>)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F3</span><span class="params">(a)</span></span></span><br><span class="line">    <span class="built_in">print</span>(a)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">F3(<span class="number">1</span>)</span><br><span class="line">F3(<span class="string">&quot;SeveneStudio&quot;</span>)</span><br><span class="line">F3(<span class="literal">true</span>)</span><br><span class="line">F3(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">**********有参数无返回值**********</span><br><span class="line">1</span><br><span class="line">SeveneStudio</span><br><span class="line">true</span><br><span class="line">1</span><br></pre></td></tr></table></figure><p>3.有参数有返回值</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">temp=F4(<span class="string">&quot;1&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;只有一个变量:&quot;</span>,temp)</span><br><span class="line">temp,temp2=F4(<span class="string">&quot;1&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;只有两个变量（1）:&quot;</span>,temp)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;只有两个变量（1）:&quot;</span>,temp2)</span><br><span class="line">temp,temp2,temp3=F4(<span class="string">&quot;1&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;有三个变量（1）:&quot;</span>,temp)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;有三个变量（2）:&quot;</span>,temp2)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;有三个变量（3）:&quot;</span>,temp3)</span><br></pre></td></tr></table></figure><p>相关的测试结果</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">只有一个变量:   1</span><br><span class="line">只有两个变量（1）:      1</span><br><span class="line">只有两个变量（1）:      123</span><br><span class="line">有三个变量（1）:        1</span><br><span class="line">有三个变量（2）:        123</span><br><span class="line">有三个变量（3）:        true</span><br></pre></td></tr></table></figure><p>4.变长参数</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;**********变长参数**********&quot;</span>)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F7</span><span class="params">(...)</span></span></span><br><span class="line">    <span class="comment">--变长参数使用一个表存起来</span></span><br><span class="line">    <span class="comment">--这里需要注意变长参数以...代表</span></span><br><span class="line">    <span class="built_in">arg</span> = &#123;...&#125;</span><br><span class="line">    <span class="keyword">for</span> i = <span class="number">1</span>, #<span class="built_in">arg</span>, <span class="number">1</span> <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="built_in">arg</span>[i])</span><br><span class="line">    <span class="keyword">end</span>    </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">F7(<span class="number">1</span>,<span class="string">&quot;HX&quot;</span>,<span class="literal">true</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br></pre></td></tr></table></figure><p>5.嵌套函数</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;**********嵌套函数**********&quot;</span>)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F8</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">()</span></span></span><br><span class="line">        <span class="built_in">print</span>(<span class="number">123</span>)</span><br><span class="line">    <span class="keyword">end</span>    </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">f9=F8()</span><br><span class="line">f9()</span><br></pre></td></tr></table></figure><p>在嵌套函数中引入了一个新的词：<font  color=red>闭包</font>【面试常问】</p><div class="tip sync"><p>闭包：通过调用含有一个内部函数加上该外部函数持有的外部局部变量（upvalue）的外部函数（就是工厂）产生的一个实例函数</p></div><div class="tip sync"><p>闭包组成：外部函数+外部函数创建的upvalue+内部函数（闭包函数）</p></div><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F9</span><span class="params">(x)</span></span></span><br><span class="line">    <span class="comment">--改变传入参数的生命周期</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">(y)</span></span></span><br><span class="line">        <span class="keyword">return</span> x+y</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">f10=F9(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(f10(<span class="number">5</span>))</span><br></pre></td></tr></table></figure><p>相关的测试结果</p><p>这里最后执行的结果为15==&gt;F9(10)执行的x=10，f(10)执行的是y=5</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="循环语句-2"><div class="tip bell"><p>这里需要注意一个知识点:所有复杂类型本质都是table表</p></div><p><span class='p red'>注意：</span></p><p><span class='p red'>1.在lua中索引是从1开始的</span></p><p><span class='p red'>2.通常在获取长度的时候关键字是#</span></p><p><span class='p red'>3.打印长度时，nil（空）在末尾是被忽略的，但是不在末尾而是在某一位置，则会影响获取长度，由于底层的不同，有时转而打印在nil(空)之前的长度，有时会出现计算长度包括nil</span></p><p>1.数组的定义与长度获取</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">&quot;SeveneStudio&quot;</span>,<span class="literal">true</span>,<span class="literal">nil</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;打印数组第一个值&quot;</span>,a[<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;a这个数组的长度为&quot;</span>,#a)</span><br><span class="line">b=&#123;<span class="number">1</span>,<span class="literal">nil</span>,<span class="string">&quot;SeveneStudio&quot;</span>,<span class="literal">true</span>,<span class="number">8</span>,<span class="number">5</span>,<span class="number">6</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;b这个数组的长度为&quot;</span>,#b)</span><br></pre></td></tr></table></figure><p>相关的测试结果<br><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">打印数组第一个值        1</span><br><span class="line">a这个数组的长度为       5</span><br><span class="line">b这个数组的长度为       7</span><br></pre></td></tr></table></figure></p><p>2.数组的遍历</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;*********数组遍历*********&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>,#a <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(a[i])</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;---------------------------&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>,#b <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(b[i])</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>相关的测试结果<br><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">*********数组遍历*********</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">SeveneStudio</span><br><span class="line">true</span><br><span class="line">---------------------------</span><br><span class="line">1</span><br><span class="line">nil</span><br><span class="line">SeveneStudio</span><br><span class="line">true</span><br><span class="line">8</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td></tr></table></figure></p><p>3.二维数组的定义</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;*********二维数组*********&quot;</span>)</span><br><span class="line">a=&#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="literal">true</span>&#125;,&#123;<span class="number">4</span>,<span class="number">5</span>,<span class="string">&quot;SeveneStudio&quot;</span>&#125;&#125;</span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">1</span>][<span class="number">3</span>])</span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">2</span>][<span class="number">3</span>])</span><br></pre></td></tr></table></figure><p>相关的测试结果<br><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*********二维数组*********</span><br><span class="line">true</span><br><span class="line">SeveneStudio</span><br></pre></td></tr></table></figure></p><p>4.二维数组的遍历</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;*********二维数组遍历*********&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i = <span class="number">1</span>, #a <span class="keyword">do</span></span><br><span class="line">    b=a[i]</span><br><span class="line">    <span class="keyword">for</span> j = <span class="number">1</span>, #b <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">print</span>(b[j])</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>相关的测试结果</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">*********二维数组遍历*********</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">true</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">SeveneStudio</span><br></pre></td></tr></table></figure><p>5.自定义索引</p><p><span class='p red'>注意：</span></p><p><span class='p red'>1.计算长度时会忽略小于等于0的索引</span></p><p><span class='p red'>2.当对自定义索引进行跳跃性设置时，若只跳跃一个值并不会断掉，长度受最大的索引影响</span></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="循环语句-3"><p>【迭代器遍历主要是用于遍历表】</p><ul><li>ipairs遍历</li></ul><p>pairs遍历是从1开始往后遍历的，小于等于是不会获取到的<br>智能找到连续索引的键值，若中间断序，无法遍历后面的内容</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">a=&#123;[<span class="number">0</span>]=<span class="number">1</span>,<span class="number">2</span>,[<span class="number">-1</span>]=<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,[<span class="number">5</span>]=<span class="number">6</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;***********ipairs迭代器遍历&quot;</span>)</span><br><span class="line"><span class="comment">--第一种方式</span></span><br><span class="line"><span class="keyword">for</span> i, k <span class="keyword">in</span> <span class="built_in">ipairs</span>(a) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ipairs遍历键值&quot;</span>..i..<span class="string">&quot;_&quot;</span>..k)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--第二种方式==&gt;可以省略k</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">ipairs</span>(a) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ipairs遍历键值&quot;</span>..i)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>相关的测试结果<br><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">***********ipairs迭代器遍历</span><br><span class="line">ipairs遍历键值1<span class="built_in">_</span>2</span><br><span class="line">ipairs遍历键值2<span class="built_in">_</span>4</span><br><span class="line">ipairs遍历键值3<span class="built_in">_</span>5</span><br><span class="line">ipairs遍历键值1</span><br><span class="line">ipairs遍历键值2</span><br><span class="line">ipairs遍历键值3</span><br></pre></td></tr></table></figure></p><ul><li>pairs【<font  color=red>推荐使用pairs遍历不规则数组</font>】</li></ul><p>能够把所有的键都可以找到，通过键可以得到值</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">a=&#123;[<span class="number">0</span>]=<span class="number">1</span>,<span class="number">2</span>,[<span class="number">-1</span>]=<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,[<span class="number">5</span>]=<span class="number">6</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;***********pairs迭代器遍历&quot;</span>)</span><br><span class="line"><span class="comment">--ipairs遍历是从1开始往后遍历的，小于等于是不会获取到的</span></span><br><span class="line"><span class="comment">--智能找到连续索引的键值，若中间断序，无法遍历后面的内容</span></span><br><span class="line"><span class="keyword">for</span> i, k <span class="keyword">in</span> <span class="built_in">pairs</span>(a) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;pairs遍历键值&quot;</span>..i..<span class="string">&quot;_&quot;</span>..k)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">pairs</span>(a) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;pairs遍历键值&quot;</span>..i)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>相关的测试结果</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">***********pairs迭代器遍历</span><br><span class="line">pairs遍历键值1<span class="built_in">_</span>2</span><br><span class="line">pairs遍历键值2<span class="built_in">_</span>4</span><br><span class="line">pairs遍历键值3<span class="built_in">_</span>5</span><br><span class="line">pairs遍历键值0<span class="built_in">_</span>1</span><br><span class="line">pairs遍历键值5<span class="built_in">_</span>6</span><br><span class="line">pairs遍历键值-1<span class="built_in">_</span>3</span><br><span class="line">pairs遍历键值1</span><br><span class="line">pairs遍历键值2</span><br><span class="line">pairs遍历键值3</span><br><span class="line">pairs遍历键值0</span><br><span class="line">pairs遍历键值5</span><br><span class="line">pairs遍历键值-1</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="循环语句-4"><font color=red>lua字典的使用与C#相似</font><p>1.字典的声明与访问使用</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;****************字典的声明和使用****************&quot;</span>)</span><br><span class="line"><span class="comment">--字典由键值对构成</span></span><br><span class="line">a=&#123;[<span class="string">&quot;id&quot;</span>]=<span class="number">1</span>,[<span class="string">&quot;name&quot;</span>]=<span class="string">&quot;SeveneStudio&quot;</span>,[<span class="string">&quot;age&quot;</span>]=<span class="number">22</span>,[<span class="string">&quot;hobby&quot;</span>]=<span class="string">&quot;踢足球，打篮球&quot;</span>&#125;</span><br><span class="line"><span class="comment">--第一种方式访问</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="string">&quot;id&quot;</span>])</span><br><span class="line"><span class="built_in">print</span>(a[<span class="string">&quot;name&quot;</span>])</span><br><span class="line"><span class="built_in">print</span>(a[<span class="string">&quot;age&quot;</span>])</span><br><span class="line"><span class="built_in">print</span>(a[<span class="string">&quot;hobby&quot;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;--------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="comment">--第二种方式访问</span></span><br><span class="line"><span class="built_in">print</span>(a.id)</span><br><span class="line"><span class="built_in">print</span>(a.name)</span><br><span class="line"><span class="built_in">print</span>(a.age)</span><br><span class="line"><span class="built_in">print</span>(a.hobby)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;***修改***&quot;</span>)</span><br><span class="line">a[<span class="string">&quot;name&quot;</span>]=<span class="string">&quot;HYH&quot;</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="string">&quot;name&quot;</span>])</span><br><span class="line"><span class="built_in">print</span>(a.name)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;***增加***&quot;</span>)</span><br><span class="line">a[<span class="string">&quot;sex&quot;</span>]=<span class="string">&quot;man&quot;</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="string">&quot;sex&quot;</span>])</span><br><span class="line"><span class="built_in">print</span>(a.sex)</span><br></pre></td></tr></table></figure><p>相关的测试结果</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">****************字典的声明和使用****************</span><br><span class="line">1</span><br><span class="line">SeveneStudio</span><br><span class="line">22</span><br><span class="line">踢足球，打篮球</span><br><span class="line">--------------------------------------------------</span><br><span class="line">1</span><br><span class="line">SeveneStudio</span><br><span class="line">22</span><br><span class="line">踢足球，打篮球</span><br><span class="line">***修改***</span><br><span class="line">HYH</span><br><span class="line">HYH</span><br><span class="line">***增加***</span><br><span class="line">man</span><br><span class="line">man</span><br></pre></td></tr></table></figure><p>2.字典的遍历</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;****************字典的遍历****************&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">pairs</span>(a) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(k,v)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;****************字典的值遍历****************&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> _,v <span class="keyword">in</span> <span class="built_in">pairs</span>(a) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;单个值:&quot;</span>,v)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;带上键:&quot;</span>,_,v)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;****************字典的键遍历****************&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">pairs</span>(a) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(k)</span><br><span class="line">    <span class="built_in">print</span>(a[k])</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>相关的测试结果</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">****************字典的遍历****************</span><br><span class="line">sex     man</span><br><span class="line">name    HYH</span><br><span class="line">hobby   踢足球，打篮球</span><br><span class="line">age     22</span><br><span class="line">id      1</span><br><span class="line">****************字典的值遍历****************</span><br><span class="line">单个值  man</span><br><span class="line">带上键  sex     man</span><br><span class="line">单个值  HYH</span><br><span class="line">带上键  name    HYH</span><br><span class="line">单个值  踢足球，打篮球</span><br><span class="line">带上键  hobby   踢足球，打篮球</span><br><span class="line">单个值  22</span><br><span class="line">带上键  age     22</span><br><span class="line">单个值  1</span><br><span class="line">带上键  id      1</span><br><span class="line">****************字典的键遍历****************</span><br><span class="line">sex</span><br><span class="line">man</span><br><span class="line">name</span><br><span class="line">HYH</span><br><span class="line">hobby</span><br><span class="line">踢足球，打篮球</span><br><span class="line">age</span><br><span class="line">22</span><br><span class="line">id</span><br><span class="line">1</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="循环语句-5"><p><span class='p red'>在开始的时候已经说过了lua没有面向对象的，所以这里通过表类实现类</span></p><p>下面给大家说明一下相关知识逻辑</p><p>TODO:这里到时候叙说</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">Student=&#123;</span><br><span class="line">    <span class="comment">--变量==&gt;年龄,性别,姓名</span></span><br><span class="line">    name=<span class="string">&quot;小明&quot;</span>,<span class="comment">--姓名</span></span><br><span class="line">    age=<span class="number">18</span>,<span class="comment">--年龄</span></span><br><span class="line">    sex=<span class="literal">true</span>,<span class="comment">--性别==&gt;这里通过true代表男</span></span><br><span class="line">    <span class="comment">--函数</span></span><br><span class="line">    Eat=<span class="function"><span class="keyword">function</span> <span class="params">(food)</span></span></span><br><span class="line">        <span class="comment">--如果采用这种方式进行书写，是与表中的name是毫无关系的，print中的name会看成全局变量哦</span></span><br><span class="line">        <span class="comment">--想要在表内部函数中调用表本身的属性和方法，一定要使用表名.属性或者表名.方法</span></span><br><span class="line">        <span class="built_in">print</span>(name)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;我们中午吃的:&quot;</span>,food)</span><br><span class="line">    <span class="keyword">end</span>,</span><br><span class="line">    Learn=<span class="function"><span class="keyword">function</span> <span class="params">()</span></span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;好好学习，天天向上&quot;</span>)</span><br><span class="line">    <span class="keyword">end</span>,</span><br><span class="line">    <span class="comment">--在函数中调用自己属性或者方法的方式是把自己作为一个参数传进去，在内部访问</span></span><br><span class="line">    Sleep=<span class="function"><span class="keyword">function</span> <span class="params">(s)</span></span></span><br><span class="line">        <span class="built_in">print</span>(s.sex)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line">Student.Sleep(Student)</span><br><span class="line"><span class="comment">--lua在申明表后，在表外是可以申明表没有的变量和方法</span></span><br><span class="line">Student.hobby=<span class="string">&quot;踢足球，打篮球&quot;</span>;</span><br><span class="line">Student.Speak=<span class="function"><span class="keyword">function</span> <span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(Student.name,<span class="string">&quot;说话了&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student.SpeakTwo</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;又说话了&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--lua无法通过实例化对象new的方式，更像是一个类中有很多静态方法和变量，通过类名点的方式调用</span></span><br><span class="line"><span class="built_in">print</span>(Student.name,<span class="string">&quot;今年&quot;</span>,Student.age)</span><br><span class="line"><span class="built_in">print</span>(Student.Eat(<span class="string">&quot;汉堡包&quot;</span>))</span><br><span class="line">Student.Speak();</span><br><span class="line"><span class="built_in">print</span>(Student.hobby);</span><br><span class="line">Student.SpeakTwo();</span><br><span class="line">Student:SpeakTwo();</span><br><span class="line"></span><br><span class="line"><span class="comment">--lua中的点和冒号的区别</span></span><br><span class="line"><span class="comment">--冒号调用方法会默认把调用者作为第一个参数传入方法中</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student:SpeakThree</span><span class="params">()</span></span></span><br><span class="line">    <span class="comment">--lua中有一个关键字self表示默认传入的第一个参数</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">self</span>.name..<span class="string">&quot;说话&quot;</span>)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">Student:SpeakThree()</span><br><span class="line">Student.SpeakThree(Student)</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="三-运算符"><a href="#三-运算符" class="headerlink" title="三.运算符"></a>三.运算符</h1><div class="tabs" id="运算符"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#运算符-1">算数运算符</button></li><li class="tab"><button type="button" data-href="#运算符-2">条件运算符</button></li><li class="tab"><button type="button" data-href="#运算符-3">逻辑运算符</button></li><li class="tab"><button type="button" data-href="#运算符-4">位运算符</button></li><li class="tab"><button type="button" data-href="#运算符-5">三目运算符</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="运算符-1"><font color=red>（1）在lua中是没有自增自减和复合运算的</font>       <font color=red>（2）字符串可以进行算数运算符操作，可自动转化成number</font><p>加法（+）减法（-）乘法（*）除法（/）取余（%） 幂（^） 整除（//）</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="运算符-2"><p>大于(&gt;)   小于(&lt;)   大于等于(&gt;=)   小于等于(&lt;=)    等于等于(==)   <font color=red> 不等于(~=)</font></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="运算符-3"><ul><li>在lua中逻辑与==&gt;and</li><li>在lua中逻辑或==&gt;or</li><li>在lua中逻辑否==&gt;not</li><li><font color=red>在lua中同样遵守逻辑运算的“短路”规则</font></li></ul><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="literal">true</span> <span class="keyword">and</span> <span class="literal">false</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="literal">true</span> <span class="keyword">or</span> <span class="literal">false</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="keyword">not</span> <span class="literal">false</span>)</span><br></pre></td></tr></table></figure><font color=red><span class='p red'>*特殊知识记录</span></font><div class="table-container"><table><thead><tr><th>and 逻辑与 or 逻辑或</th></tr></thead><tbody><tr><td>and or 他们不仅可以连接boolean ，任何东西都可以连接</td></tr><tr><td>在lua中只有nil和false才会认为是假</td></tr><tr><td>“短路”===&gt;对于and 是有假则假，对于 or 则是有真则真</td></tr><tr><td>所以只需要判断第一个是否满足就会停止计算</td></tr><tr><td>对于运算符and来说，假设它的第一个操作数为假，就返回第一个操作数；不然返回第二个操作数</td></tr><tr><td>对于运算符or来说，假设它的第一个操作数为真。就返回第一个操作数，不然返回第二个操作数</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="运算符-4"><p><strong><font color=red>在lua中不支持位运算（&amp; |），需要自己去实现</font></strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="运算符-5"><font color=red>在lua中不支持三目运算符（？：）,需要自身根据需要实现</font><p>模拟三目运算符</p><p>说明：这里x=3，y=2，所以很明显的说明x&gt;y返回时true，然后继续看便是 true and x ，由于and是有假则假，所以true and x肯定是true了，对于or来说，true or y这个已经有一个真的了，所以直接返回3</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="number">3</span></span><br><span class="line">y=<span class="number">2</span></span><br><span class="line"><span class="comment">--这里x&gt;y返回的是true  （x&gt;y） and x==&gt;3 是真的，就不用看or了</span></span><br><span class="line"><span class="keyword">local</span> res=(x&gt;y) <span class="keyword">and</span> x <span class="keyword">or</span> y</span><br><span class="line"><span class="built_in">print</span>(res)</span><br></pre></td></tr></table></figure><p>说明：（1）这里x=1，y=3，所以x&gt;y返回的是false，所以现在变化成了false and y，在前面逻辑运算符中说到过and的逻辑，当第一个值为假，则返回第一个值，所以r是false</p><p>（2）根据上一个所知转化为 false or y，根据or的逻辑，第一个为假，则会返回第二个值，所以res是3</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="number">1</span></span><br><span class="line">y=<span class="number">3</span></span><br><span class="line"><span class="comment">--这里x&gt;y返回的是false，则(x&gt;y)==&gt;false and x==&gt;x ==&gt;false or y or是真则真==&gt;取y，则是3 </span></span><br><span class="line"><span class="keyword">local</span> r=(x&gt;y) <span class="keyword">and</span> x</span><br><span class="line"><span class="built_in">print</span>(r)</span><br><span class="line"><span class="keyword">local</span> res=(x&gt;y) <span class="keyword">and</span> x <span class="keyword">or</span> y</span><br><span class="line"><span class="built_in">print</span>(res)</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="四-Lua循环和条件分支"><a href="#四-Lua循环和条件分支" class="headerlink" title="四.Lua循环和条件分支"></a><i class="iconfont icon-ningmeng"></i>四.Lua循环和条件分支</h1><span class='p red'>注意：lua中是没有Switch语句的</span><h2 id="1-条件分支语句"><a href="#1-条件分支语句" class="headerlink" title="1.条件分支语句"></a><i class="iconfont icon-yingtao"></i>1.条件分支语句</h2><p>Lua 提供了以下条件分支语句：</p><div class="table-container"><table><thead><tr><th style="text-align:left">语句</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:left">[if 语句]</td><td style="text-align:left"><strong>if 语句</strong> 由一个布尔表达式作为条件判断，其后紧跟其他语句组成。</td></tr><tr><td style="text-align:left">[if…else 语句]</td><td style="text-align:left"><strong>if 语句</strong> 可以与 <strong>else 语句</strong>搭配使用, 在 if 条件表达式为 false 时执行 else 语句代码。</td></tr><tr><td style="text-align:left">[if 嵌套语句]</td><td style="text-align:left">你可以在<strong>if</strong> 或 <strong>else if</strong>中使用一个或多个 <strong>if</strong> 或 <strong>else if</strong> 语句 。</td></tr></tbody></table></div><div class="tabs" id="条件分支语句"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#条件分支语句-1">单分支语句</button></li><li class="tab"><button type="button" data-href="#条件分支语句-2">双分支语句</button></li><li class="tab"><button type="button" data-href="#条件分支语句-3">多分支语句</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="条件分支语句-1"><p>基本语法：</p><p>if  条件 then ……end</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">8</span></span><br><span class="line"><span class="keyword">if</span> a&gt;<span class="number">5</span> <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;大于5&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="条件分支语句-2"><p>基本语法</p><p>if  条件 then ……else ……end</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">22</span></span><br><span class="line"><span class="keyword">if</span> a&gt;<span class="number">15</span> <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;大于15&quot;</span>)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;小于15&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="条件分支语句-3"><p>if 条件 then ……elseif 条件 then ……end</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">5</span></span><br><span class="line"><span class="keyword">if</span> a&lt;<span class="number">5</span> <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;小于5&quot;</span>)</span><br><span class="line"><span class="keyword">elseif</span> a==<span class="number">5</span> <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;等于5&quot;</span>)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;大于5&quot;</span>)</span><br><span class="line"><span class="keyword">end</span> </span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-循环语句"><a href="#2-循环语句" class="headerlink" title="2.循环语句"></a>2.循环语句</h2><p>Lua 语言提供了以下几种循环处理方式：</p><div class="table-container"><table><thead><tr><th style="text-align:left">循环类型</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:left">[while 循环]</td><td style="text-align:left">在条件为 true 时，让程序重复地执行某些语句。执行语句前会先检查条件是否为 true。</td></tr><tr><td style="text-align:left">[for 循环]</td><td style="text-align:left">重复执行指定语句，重复次数可在 for 语句中控制。</td></tr><tr><td style="text-align:left">[repeat…until]</td><td style="text-align:left">重复执行循环，直到 指定的条件为真时为止</td></tr><tr><td style="text-align:left">[循环嵌套]</td><td style="text-align:left">可以在循环内嵌套一个或多个循环语句（while do … end;for … do … end;repeat … until;）</td></tr></tbody></table></div><div class="tabs" id="循环语句"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#循环语句-1">while循环语句</button></li><li class="tab"><button type="button" data-href="#循环语句-2">do-while循环语句</button></li><li class="tab"><button type="button" data-href="#循环语句-3">for循环语句</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="循环语句-1"><p>基本语法：</p><p>while 条件 do……end</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">num=<span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> num&lt;<span class="number">5</span> <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(num)</span><br><span class="line">    num=num+<span class="number">1</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="循环语句-2"><p>基本语法</p><p>repeat ……until 条件（条件事结束条件）</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">num=<span class="number">0</span></span><br><span class="line"><span class="keyword">repeat</span></span><br><span class="line">    <span class="built_in">print</span>(num)</span><br><span class="line">    num=num+<span class="number">1</span></span><br><span class="line"><span class="keyword">until</span>  num&gt;<span class="number">5</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="循环语句-3"><p>for 初始值,结束值,递增值</p><p><span class='p red'>注意：lua中默认递增，i会默认+1，若保持默认递增值可以省略，若递减则需将递增值改为负数</span></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;****默认递增for循环****&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i = <span class="number">1</span>, <span class="number">10</span> <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;****每次递增3的for循环****&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i = <span class="number">1</span>, <span class="number">10</span>, <span class="number">3</span> <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;****每次递减1的for循环****&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i = <span class="number">5</span>, <span class="number">1</span>, <span class="number">-1</span> <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="五-多脚本执行"><a href="#五-多脚本执行" class="headerlink" title="五.多脚本执行"></a>五.多脚本执行</h1><p>在实际的开发过程中，无论是Java还是C#都需要多脚本的调用</p><h2 id="1-全局变量和本地变量"><a href="#1-全局变量和本地变量" class="headerlink" title="1.全局变量和本地变量"></a>1.全局变量和本地变量</h2><p>这里全局变量直接就可以定义。例如</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">123</span> <span class="comment">--number类型</span></span><br><span class="line">b=<span class="string">&quot;SeriousWission&quot;</span>  <span class="comment">--字符串类型</span></span><br><span class="line">c=<span class="literal">true</span>  <span class="comment">--boolean类型</span></span><br></pre></td></tr></table></figure><p>在c#中的本地变量（亦可以说局部变量）是可以用private【私有】protected（保护，只有子类可以访问），在lua中就比较简易了，直接用local 来表示，例如</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> d=<span class="string">&quot;HaXinXi&quot;</span>  <span class="comment">--局部字符串类型</span></span><br><span class="line"><span class="keyword">local</span> e=<span class="number">123456</span>  <span class="comment">--局部字符串类型</span></span><br></pre></td></tr></table></figure><h2 id="2-全局方法和本地方法"><a href="#2-全局方法和本地方法" class="headerlink" title="2.全局方法和本地方法"></a>2.全局方法和本地方法</h2><p>前面已经说明了全局变量和本地变量，其实全局方法和本地方法是和其相差不多的</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 全局方法</span></span><br><span class="line">funOne=<span class="function"><span class="keyword">function</span> <span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;方法&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">-- 本地方法</span></span><br><span class="line"><span class="keyword">local</span> funTwo=<span class="function"><span class="keyword">function</span> <span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;local方法&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h2 id="3-脚本的调用"><a href="#3-脚本的调用" class="headerlink" title="3.脚本的调用"></a>3.脚本的调用</h2><p>前面两个标题已经说明了一大部分知识点了，下面就是脚本的调用</p><p>这里先写一个Test.lua文件作为后面使用</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Test这里加载了这个lua文件测试&quot;</span>)</span><br><span class="line">testA=<span class="string">&quot;123456&quot;</span></span><br><span class="line"><span class="keyword">local</span> testLocalA=<span class="string">&quot;456789&quot;</span></span><br><span class="line">funOne=<span class="function"><span class="keyword">function</span> <span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;方法&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">local</span> funTwo=<span class="function"><span class="keyword">function</span> <span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;local方法&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">return</span> testLocalA</span><br></pre></td></tr></table></figure><p>在lua中如果想用其他脚本，需要使用一个关键字：require(‘脚本名’)/ require(“脚本名”)这两种格式都是可以的，例如：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">&quot;Test&quot;</span>)  <span class="comment">-- 调用同路径中的Test脚本</span></span><br><span class="line">funOne()  <span class="comment">-- 这里因为上一行已经加载了Test脚本，而且Test脚本中funOne方法是共有的，所以可以直接使用</span></span><br><span class="line"><span class="built_in">print</span>(testA) <span class="comment">--打印testA参数的值</span></span><br><span class="line"><span class="built_in">print</span>(testLocalA) <span class="comment">-- 打印testLocalA参数的值</span></span><br></pre></td></tr></table></figure><p>这里需要说明重要的点</p><div class="table-container"><table><thead><tr><th>相关说明</th></tr></thead><tbody><tr><td>只要require执行完的脚本，任何全局变量，包括表，方法是可以直接拿来用的</td></tr><tr><td>这里需要注意若调用相同路径的文件可以直接使用文件名，而不同路径需要写入路径名</td></tr><tr><td>require不会重复加载同一个lua</td></tr></tbody></table></div><h2 id="4-脚本的卸载-移除"><a href="#4-脚本的卸载-移除" class="headerlink" title="4.脚本的卸载/移除"></a>4.脚本的卸载/移除</h2><p>前面已经说完了脚本的声明调用，当这个脚本不需要了，该如何呢</p><p>先说明如何判断脚本是否声明过了</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">package</span>.<span class="built_in">loaded</span>[<span class="string">&quot;Test&quot;</span>]</span><br></pre></td></tr></table></figure><p>当知道了判断脚本是否被调用了，在后面不需要了直接将其判断为空或者将判断是否调用过直接定义为false也是也是可以的</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">package</span>.<span class="built_in">loaded</span>[<span class="string">&quot;Test&quot;</span>]=<span class="literal">nil</span>  <span class="comment">-- 将判断包是否加载过为nil</span></span><br><span class="line"><span class="built_in">package</span>.<span class="built_in">loaded</span>[<span class="string">&quot;Test&quot;</span>]=<span class="literal">false</span> <span class="comment">--将判断包是否加载过为false</span></span><br></pre></td></tr></table></figure><h2 id="5-局部变量使用"><a href="#5-局部变量使用" class="headerlink" title="5.局部变量使用"></a>5.局部变量使用</h2><p>对于局部变量的使用可以在lua文件的最后一行返回一个局部参数，然后在需要的地方来用local 参数接收即可</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> a=<span class="built_in">require</span>(<span class="string">&quot;Test&quot;</span>) <span class="comment">--这里调用Test.lua文件，用local a来接收，其实收到的也就是Test.lua中的testLocalA</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br></pre></td></tr></table></figure><h2 id="6-大G表"><a href="#6-大G表" class="headerlink" title="6.大G表"></a>6.大G表</h2><p>_G是一个总表，本质是table，他将我们申明的所有全局变量都存储在其中</p><p>声明的local本地/局部变量是不会存到_G表中的</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">1</span></span><br><span class="line">b=<span class="string">&quot;serious&quot;</span></span><br><span class="line">c=<span class="literal">true</span></span><br><span class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> <span class="built_in">pairs</span>(<span class="built_in">_G</span>) <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">print</span>(key,value)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>相关参考信息</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">string  table: 0000021B456413D0</span><br><span class="line">ipairs  function: 00007FFDB36C9980        </span><br><span class="line">setmetatable    function: 00007FFDB36C8B20</span><br><span class="line"><span class="built_in">_</span>G      table: 0000021B45633FA0</span><br><span class="line">rawequal        function: 00007FFDB36C8C90</span><br><span class="line">c       true</span><br><span class="line">b       serious</span><br><span class="line">load    function: 00007FFDB36C9EB0        </span><br><span class="line">rawlen  function: 00007FFDB36C8DB0        </span><br><span class="line">getmetatable    function: 00007FFDB36C8A40</span><br><span class="line">assert  function: 00007FFDB36CA580        </span><br><span class="line">debug   table: 0000021B45641690</span><br><span class="line">package table: 0000021B45641050</span><br><span class="line">os      table: 0000021B45641190</span><br><span class="line">xpcall  function: 00007FFDB36CAA80</span><br><span class="line">table   table: 0000021B45641510</span><br><span class="line">dofile  function: 00007FFDB36CA3A0</span><br><span class="line">io      table: 0000021B456411D0</span><br><span class="line">pairs   function: 00007FFDB36C9780</span><br><span class="line">next    function: 00007FFDB36C9640</span><br><span class="line">loadfile        function: 00007FFDB36C9AC0</span><br><span class="line">require function: 0000021B456412D0</span><br><span class="line">utf8    table: 0000021B45640F90</span><br><span class="line">tonumber        function: 00007FFDB36C85C0</span><br><span class="line">select  function: 00007FFDB36CA620</span><br><span class="line">a       1</span><br><span class="line">rawget  function: 00007FFDB36C8E80</span><br><span class="line">arg     table: 0000021B45641010</span><br><span class="line">math    table: 0000021B456415D0</span><br><span class="line">pcall   function: 00007FFDB36CA800</span><br><span class="line"><span class="built_in">_</span>VERSION        Lua 5.4</span><br><span class="line">print   function: 00007FFDB36C8210</span><br><span class="line">warn    function: 00007FFDB36C8330</span><br><span class="line">collectgarbage  function: 00007FFDB36C91E0</span><br><span class="line">type    function: 00007FFDB36C9590</span><br><span class="line">coroutine       table: 0000021B45641490</span><br><span class="line">tostring        function: 00007FFDB36CADA0</span><br><span class="line">rawset  function: 00007FFDB36C8FF0</span><br></pre></td></tr></table></figure><h1 id="六-协同程序"><a href="#六-协同程序" class="headerlink" title="六.协同程序"></a>六.协同程序</h1><p>前言：协程其实可以看作是一个线程对象，前面已经说了方法的定义与使用，这里就直接写一个方法</p><p>首先是一个比较简单的方法，打印的是SeriousWission这个字符串</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fun=<span class="function"><span class="keyword">function</span> <span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;SeriousWission&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h2 id="协同程序的创建"><a href="#协同程序的创建" class="headerlink" title="协同程序的创建"></a>协同程序的创建</h2><p>这里需要说明的便是这两种方式的使用和运行是不一样的</p><h3 id="第一种方式-coroutine-create"><a href="#第一种方式-coroutine-create" class="headerlink" title="第一种方式-coroutine.create"></a>第一种方式-coroutine.create</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">co=<span class="built_in">coroutine</span>.<span class="built_in">create</span>(fun)</span><br><span class="line"><span class="built_in">print</span>(co)  <span class="comment">--打印结果 thread: 0000025793510878</span></span><br></pre></td></tr></table></figure><h3 id="第二种方式-coroutine-warp"><a href="#第二种方式-coroutine-warp" class="headerlink" title="第二种方式-coroutine.warp"></a>第二种方式-coroutine.warp</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">co2=<span class="built_in">coroutine</span>.<span class="built_in">wrap</span>(fun)</span><br><span class="line"><span class="built_in">print</span>(co2)  <span class="comment">-- function: 0000025793542920</span></span><br></pre></td></tr></table></figure><p>这样看的还是不太明显，使用type()看看这两个协程程序的类型</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建协程的第一种方式</span></span><br><span class="line">co=<span class="built_in">coroutine</span>.<span class="built_in">create</span>(fun)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(co))  <span class="comment">--thread</span></span><br><span class="line"><span class="comment">-- 创建协程的第二种方式</span></span><br><span class="line">co2=<span class="built_in">coroutine</span>.<span class="built_in">wrap</span>(fun)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(co2))  <span class="comment">--function</span></span><br></pre></td></tr></table></figure><p>这样就能看出来这两种创建协程的方式类型是不同的，第一种方式本质是线程，但是第二种则本质是方法</p><h2 id="协同程序的运行"><a href="#协同程序的运行" class="headerlink" title="协同程序的运行"></a>协同程序的运行</h2><p>这里运行协程程序因为前面用到的方式不同，使用也是不同的</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--运行通过coroutine.create()创建的协程</span></span><br><span class="line"><span class="built_in">coroutine</span>.<span class="built_in">resume</span>(co)</span><br><span class="line"><span class="comment">--运行通过coroutine.wrap()创建的协程</span></span><br><span class="line"><span class="comment">--直接用接收coroutine.wrap()的方法名运行即可</span></span><br><span class="line">co2()<span class="comment">--因为本质是方法，可以直接使用方法来运行</span></span><br></pre></td></tr></table></figure><h2 id="协同程序的挂起"><a href="#协同程序的挂起" class="headerlink" title="协同程序的挂起"></a>协同程序的挂起</h2><p>这里需要注意一个点，c#的协程在启动后会按照一定时间不停的执行，但是lua只会执行一次</p><p>首先我们重新在定义一个方法并在里面放上协程的挂起函数</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fun2 =<span class="function"><span class="keyword">function</span> <span class="params">()</span></span></span><br><span class="line">    <span class="keyword">local</span> i=<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">true</span> <span class="keyword">do</span></span><br><span class="line">        i=i+<span class="number">1</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;I Like Lua&quot;</span>..<span class="string">&quot;==&gt;&quot;</span>..i)</span><br><span class="line">        <span class="comment">-- 协程挂起函数</span></span><br><span class="line">        <span class="built_in">coroutine</span>.<span class="built_in">yield</span>()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>使用上面说到的运行协同程序的方式看看效果</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--coroutine.create()创建</span></span><br><span class="line">co3=<span class="built_in">coroutine</span>.<span class="built_in">create</span>(fun2)</span><br><span class="line"><span class="comment">--coroutine.resume()运行</span></span><br><span class="line"><span class="built_in">coroutine</span>.<span class="built_in">resume</span>(co3)  <span class="comment">--输出结果为：I Like Lua==&gt;1</span></span><br><span class="line"><span class="built_in">coroutine</span>.<span class="built_in">resume</span>(co3)  <span class="comment">--输出结果为：I Like Lua==&gt;2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--coroutine.wrap()创建</span></span><br><span class="line">co4=<span class="built_in">coroutine</span>.<span class="built_in">wrap</span>(fun2)</span><br><span class="line"><span class="comment">--运行</span></span><br><span class="line">co4() <span class="comment">--输出结果为：I Like Lua==&gt;1</span></span><br><span class="line">co4() <span class="comment">--输出结果为：I Like Lua==&gt;2</span></span><br></pre></td></tr></table></figure><p>即使while是一个死循环，这两种方式都只会执行一次，只有再创建相应的开始程序才会执行</p><h2 id="协同程序的挂（加返回值）"><a href="#协同程序的挂（加返回值）" class="headerlink" title="协同程序的挂（加返回值）"></a>协同程序的挂（加返回值）</h2><p>协程的挂起说完了，其实协程是可以有返回值的</p><p>定义一个function()【为了方便直接使用fun2的】</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fun3 =<span class="function"><span class="keyword">function</span> <span class="params">()</span></span></span><br><span class="line">    <span class="keyword">local</span> i=<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">true</span> <span class="keyword">do</span></span><br><span class="line">        i=i+<span class="number">1</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;I Like Lua&quot;</span>..<span class="string">&quot;==&gt;&quot;</span>..i)</span><br><span class="line">        <span class="comment">-- 协程挂起函数</span></span><br><span class="line">        <span class="built_in">coroutine</span>.<span class="built_in">yield</span>(i)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>执行这两个程序</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">-- 这里需要明白，是coroutine.resume这时有两个返回值，第一个返回的是程序是否执行成功，第二个是yield的值</span><br><span class="line">co3=coroutine.create(fun3)</span><br><span class="line">isOK,tempOne=coroutine.resume(co3)</span><br><span class="line">print(isOK,tempOne)</span><br><span class="line"></span><br><span class="line">-- coroutine.wrap返回的是没有程序是否成功这个值，只会返回程序中的值和yield的值</span><br><span class="line">co4=coroutine.wrap(fun3)</span><br><span class="line">print(&quot;返回值==&gt;&quot;..co4())</span><br></pre></td></tr></table></figure><h1 id="七-元表"><a href="#七-元表" class="headerlink" title="七.元表"></a>七.元表</h1><p>首先先对元表是什么来一个大白话的解释</p><div class="tip success"><p>元表可以解释为一个表的父亲，也就是父表，<br>任何表变量都可以作为另一个表变量的元表<br>任何表变量都可以有自己的元表（父亲）<br>当我们子表中进行一些特定操作时，会执行元表的内容（其中包括<strong>tostring(),</strong>index()等）</p></div><ol><li>设置元表</li></ol><p>设置元表就相比较简单了==&gt;setmetatable(子表，元表【可以看做是父表】),下面举个例子看看</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mytable = &#123;&#125;                          <span class="comment">-- 普通表</span></span><br><span class="line">mymetatable = &#123;&#125;                      <span class="comment">-- 元表</span></span><br><span class="line"><span class="built_in">setmetatable</span>(mytable,mymetatable)     <span class="comment">-- 把 mymetatable 设为 mytable 的元表</span></span><br></pre></td></tr></table></figure><ol><li>特定操作</li></ol><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10102;</span>__tostring()：当子表要被当做字符串使用时，会默认调用这个元表中的tostring方法</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mytable2=&#123;</span><br><span class="line">    <span class="built_in">__tostring</span>=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;爱吃大饼的小虎&quot;</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">&#125;   <span class="comment">--定义一个表</span></span><br><span class="line">mymetatable2=&#123;&#125;  <span class="comment">--定义一个元表</span></span><br><span class="line"><span class="built_in">setmetatable</span>(mytable2,mymetatable2)  <span class="comment">--- 输出结果:爱吃大饼的小虎</span></span><br><span class="line"><span class="built_in">print</span>(myTable2)   <span class="comment">--这里print是输出语句，里面输出的字符串，因此便会输出 爱吃大饼的小虎</span></span><br></pre></td></tr></table></figure><p>同样里面function里面也是可以带参数的，那就再写一个</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mytable3=&#123;</span><br><span class="line">    <span class="built_in">__tostring</span>=<span class="function"><span class="keyword">function</span><span class="params">(t)</span></span></span><br><span class="line">        <span class="keyword">return</span> t.name</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">&#125;   <span class="comment">--定义一个表</span></span><br><span class="line">mymetatable3=&#123;</span><br><span class="line">name=<span class="string">&quot;爱吃大饼的小虎&quot;</span></span><br><span class="line">&#125;  <span class="comment">--定义一个元表</span></span><br><span class="line"><span class="built_in">setmetatable</span>(mytable3,mymetatable3)  <span class="comment">---输出结果:爱吃大饼的小虎</span></span><br><span class="line"><span class="built_in">print</span>(mytable3)  <span class="comment">--这里不难看出，子表需要知道父表有name这个参数，才可以输出</span></span><br></pre></td></tr></table></figure><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10103;</span>__call :在 Lua 调用一个值时调用:简单来说就是当做函数来用时调用</p><p>这里需要注意一点:<font color=red>只有元表里有__call元方法，才可以使用方法调用，不然会报错误</font></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">meta4=&#123;</span><br><span class="line">    <span class="comment">--当子表要被当做字符串使用时，会默认调用这个元表中的tostring方法</span></span><br><span class="line">    <span class="comment">--这里为了凸显出不同，特意换了一个字符串输出</span></span><br><span class="line">    <span class="built_in">__tostring</span>=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;爱吃大饼的小虎&quot;</span></span><br><span class="line">    <span class="keyword">end</span>,</span><br><span class="line">    <span class="built_in">__call</span>=<span class="function"><span class="keyword">function</span> <span class="params">()</span></span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;七鳄学习格&quot;</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line">myTable4=&#123;&#125;</span><br><span class="line"><span class="comment">--设置元表函数setmetatable(子表，元表【可以看做是父表】)</span></span><br><span class="line"><span class="built_in">setmetatable</span>(myTable4,meta4)</span><br><span class="line"><span class="comment">--当作函数来调用，这时不会调用__tostring(),而是__call()</span></span><br><span class="line">myTable4()  <span class="comment">--输出结果:七鳄学习格</span></span><br></pre></td></tr></table></figure><p>这时 <mark class="hl-label red">传入一个参数</mark> 会出现什么效果呢？</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">meta5=&#123;</span><br><span class="line">    <span class="comment">--当子表要被当做字符串使用时，会默认调用这个元表中的tostring方法</span></span><br><span class="line">    <span class="comment">--这里为了凸显出不同，特意换了一个字符串输出</span></span><br><span class="line">    <span class="built_in">__tostring</span>=<span class="function"><span class="keyword">function</span><span class="params">(t)</span></span></span><br><span class="line">        <span class="keyword">return</span> t.name</span><br><span class="line">    <span class="keyword">end</span>,</span><br><span class="line">    <span class="built_in">__call</span>=<span class="function"><span class="keyword">function</span> <span class="params">(a)</span></span></span><br><span class="line">        <span class="built_in">print</span>(a)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;七鳄学习格&quot;</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line">myTable5=&#123;</span><br><span class="line">name=<span class="string">&quot;黄雨涵123&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">--设置元表函数setmetatable(子表，元表【可以看做是父表】)</span></span><br><span class="line"><span class="built_in">setmetatable</span>(myTable5,meta5)</span><br><span class="line"><span class="comment">--当作函数来调用，这时不会调用__tostring(),而是__call()</span></span><br><span class="line">myTable5(<span class="number">1</span>)  </span><br><span class="line"><span class="comment">--输出结果:</span></span><br><span class="line">黄雨涵<span class="number">123</span></span><br><span class="line">        七鳄学习格</span><br><span class="line"><span class="comment">--这里可能会意外，需要解释一下:当方法中带参数，会将myTable5本身传进去，所以打印的便是myTable5中的name参数的值，</span></span><br><span class="line"><span class="comment">--当__call=function (a)中在传入一个参数，是__call=function (a,b)时便会打印传入的数值1，</span></span><br><span class="line"><span class="comment">--简单来说第一个是表本身，第二个参数是传入的数值</span></span><br></pre></td></tr></table></figure><ol><li>元表中运算符</li></ol><p>其实元表也是支持 <mark class="hl-label red">运算符</mark> 的,下面就直接用程序做解释吧(以下罗列了常用的运算符)</p><font color=red>翻阅Lua官网API可知：需要注意元表中的运算符只有小于或者小于等于，如果想实现大于或者大于等于可以选择取反实现</font><div class="table-container"><table><thead><tr><th style="text-align:center">模式</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">__add</td><td style="text-align:center">对应的运算符 ‘+’.</td></tr><tr><td style="text-align:center">__sub</td><td style="text-align:center">对应的运算符 ‘-‘.</td></tr><tr><td style="text-align:center">__mul</td><td style="text-align:center">对应的运算符 ‘*’.</td></tr><tr><td style="text-align:center">__div</td><td style="text-align:center">对应的运算符 ‘/‘.</td></tr><tr><td style="text-align:center">__mod</td><td style="text-align:center">对应的运算符 ‘%’.</td></tr><tr><td style="text-align:center">__unm</td><td style="text-align:center">对应的运算符 ‘-‘.</td></tr><tr><td style="text-align:center">__concat</td><td style="text-align:center">对应的运算符 ‘..’.</td></tr><tr><td style="text-align:center">__eq</td><td style="text-align:center">对应的运算符 ‘==’.</td></tr><tr><td style="text-align:center">__lt</td><td style="text-align:center">对应的运算符 ‘&lt;’.</td></tr><tr><td style="text-align:center">__pow</td><td style="text-align:center">对应的运算符‘^’</td></tr><tr><td style="text-align:center">__le</td><td style="text-align:center">对应的运算符 ‘&lt;=’.</td></tr></tbody></table></div><p>这里罗列了代码实现效果与输出结果，可能有些乱，但是看上去还是比较容易看明白的</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">meta5=&#123;</span><br><span class="line">    <span class="comment">------对应的是运算符+，当执行加法执行此方法</span></span><br><span class="line">    <span class="built_in">__add</span>=<span class="function"><span class="keyword">function</span><span class="params">(t1,t2)</span></span></span><br><span class="line">        <span class="keyword">return</span> t1.age+t2.age</span><br><span class="line">    <span class="keyword">end</span>,</span><br><span class="line">    <span class="comment">----对应的是运算符-，当执行减法执行此方法</span></span><br><span class="line">    <span class="built_in">__sub</span>=<span class="function"><span class="keyword">function</span> <span class="params">(t1,t2)</span></span></span><br><span class="line">        <span class="keyword">return</span> t1.age-t2.age</span><br><span class="line">    <span class="keyword">end</span>,</span><br><span class="line">    <span class="comment">----对应的是运算符*，当执行乘法执行此方法</span></span><br><span class="line">    <span class="built_in">__mul</span>=<span class="function"><span class="keyword">function</span> <span class="params">(t1,t2)</span></span></span><br><span class="line">        <span class="keyword">return</span> t1.age*t2.age</span><br><span class="line">    <span class="keyword">end</span>,</span><br><span class="line">    <span class="comment">----对应的是运算符/，当执行除法执行此方法</span></span><br><span class="line">    <span class="built_in">__div</span>=<span class="function"><span class="keyword">function</span> <span class="params">(t1,t2)</span></span></span><br><span class="line">        <span class="keyword">return</span> t1.age/t2.age</span><br><span class="line">    <span class="keyword">end</span>,</span><br><span class="line">    <span class="comment">----对应的是运算符==，当执行相等执行此方法</span></span><br><span class="line">    <span class="built_in">__eq</span>=<span class="function"><span class="keyword">function</span> <span class="params">(t1,t2)</span></span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>  <span class="comment">--这里只会返回true或者false</span></span><br><span class="line">    <span class="keyword">end</span>,</span><br><span class="line">    <span class="comment">----对应的是拼接，当执行拼接执行此方法</span></span><br><span class="line">    <span class="built_in">__concat</span>=<span class="function"><span class="keyword">function</span> <span class="params">(t1,t2)</span></span></span><br><span class="line">        <span class="keyword">return</span> t1.str..t2.str</span><br><span class="line">    <span class="keyword">end</span>,</span><br><span class="line">    <span class="comment">----对应的是运算符==，当执行相等执行此方法</span></span><br><span class="line">    <span class="built_in">__lt</span>=<span class="function"><span class="keyword">function</span> <span class="params">(t1,t2)</span></span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>  <span class="comment">--这里只会返回true或者false</span></span><br><span class="line">    <span class="keyword">end</span>,</span><br><span class="line">&#125;</span><br><span class="line">myTable5=&#123;age=<span class="number">1</span>,str=<span class="string">&#x27;黄雨涵&#x27;</span>&#125;</span><br><span class="line">myTable6=&#123;age=<span class="number">2</span>,str=<span class="string">&#x27;真帅&#x27;</span>&#125;</span><br><span class="line"><span class="comment">--设置元表函数setmetatable(子表，元表【可以看做是父表】)</span></span><br><span class="line"><span class="built_in">setmetatable</span>(myTable5,meta5)</span><br><span class="line"><span class="built_in">setmetatable</span>(myTable5,meta6)</span><br><span class="line"><span class="built_in">print</span>(myTable5+myTable6)  <span class="comment">--3</span></span><br><span class="line"><span class="built_in">print</span>(myTable5-myTable6)  <span class="comment">---1</span></span><br><span class="line"><span class="built_in">print</span>(myTable5*myTable6)  <span class="comment">--2</span></span><br><span class="line"><span class="built_in">print</span>(myTable5/myTable6)  <span class="comment">--0.5</span></span><br><span class="line"><span class="built_in">print</span>(myTable5==myTable6) <span class="comment">--false</span></span><br><span class="line"><span class="built_in">print</span>(myTable5..myTable6) <span class="comment">--黄雨涵真帅</span></span><br><span class="line"><span class="built_in">print</span>(myTable5&lt;myTable6)  <span class="comment">--true</span></span><br></pre></td></tr></table></figure><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10104;</span>__index:当子表中，找不到某一个属性时，会到元表中的 _index中<mark class="hl-label red">指定的表</mark> 去找索引；</p><font color=green>__index遵循向上查找原则</font><p>这里其实有一个坑，举个例子阐述一下</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">meta7=&#123;</span><br><span class="line">    age=<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">myTable7=&#123;&#125;</span><br><span class="line"><span class="comment">--设置元表函数setmetatable(子表，元表【可以看做是父表】)</span></span><br><span class="line"><span class="built_in">setmetatable</span>(myTable7,meta7)</span><br><span class="line"><span class="built_in">print</span>(myTable7.age)<span class="comment">--输出结果:nil</span></span><br></pre></td></tr></table></figure> <mark class="hl-label red">解释:</mark> <p>这里很有可能会认为输出的是1，因为age=1，但是他的结果为nil，也就是意味着为空；在使用_index时需要用 _index指定表，如下代码：</p><font color=red>这里有一个小小的坑：__index的赋值需要放到表外面赋值</font><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">meta7=&#123;</span><br><span class="line">    age=<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">--用元表指定所指定的表，这里就指向元表本身即可，其实指向一个新表也是可以的=&gt;meta7.__index=&#123;age=2&#125; </span></span><br><span class="line">meta7.<span class="built_in">__index</span>=meta7</span><br><span class="line">myTable7=&#123;&#125;</span><br><span class="line"><span class="comment">--设置元表函数setmetatable(子表，元表【可以看做是父表】)</span></span><br><span class="line"><span class="built_in">setmetatable</span>(myTable7,meta7)</span><br><span class="line"><span class="built_in">print</span>(myTable7.age) <span class="comment">--输出结果:1</span></span><br></pre></td></tr></table></figure><p>其实到这里就基本上够用了，但是再上升一个高度[层层查找]</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">meta7=&#123;</span><br><span class="line"><span class="comment">--这里将myTable7的元表中的age注释上</span></span><br><span class="line">    <span class="comment">--age=1</span></span><br><span class="line">&#125;</span><br><span class="line">meta7Father=&#123;</span><br><span class="line">    age=<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">meta7Father.<span class="built_in">__index</span>=meta7Father</span><br><span class="line">meta7.<span class="built_in">__index</span>=meta7</span><br><span class="line">myTable7=&#123;&#125;</span><br><span class="line"><span class="comment">--设置元表函数setmetatable(子表，元表【可以看做是父表】)</span></span><br><span class="line"><span class="built_in">setmetatable</span>(meta7,meta7Father)</span><br><span class="line"><span class="built_in">setmetatable</span>(myTable7,meta7)</span><br><span class="line"><span class="built_in">print</span>(myTable7.age)  <span class="comment">--输出结果:1</span></span><br></pre></td></tr></table></figure> <mark class="hl-label red">解释:</mark> <p>这里很显然，myTable7中没有age这个字段，然后到其元表的meta7中查找，但是meta7的age被注释上了，刚刚我们设置了meta7的元表是meta7Father，这个时候便会到meta7Father中查找，如果没有便无法在找了，便会返回nil，但是meta7Father中有age字段，便会返回1</p><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10105;</span>__newindex：当赋值时，如果赋值一个不存在的索引，会把这个值赋值到newindex所指的表中，不会修改自己</p><font color=green>__newindex同样遵循向上查找原则</font><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">meta8=&#123;&#125;</span><br><span class="line">meta8.<span class="built_in">__newindex</span>=&#123;&#125;</span><br><span class="line">myTable8=&#123;&#125;</span><br><span class="line"><span class="comment">--设置元表函数setmetatable(子表，元表【可以看做是父表】)</span></span><br><span class="line"><span class="built_in">setmetatable</span>(myTable8,meta8)</span><br><span class="line">myTable8.age=<span class="number">10</span></span><br><span class="line"><span class="comment">--这时打印出的是nil</span></span><br><span class="line"><span class="built_in">print</span>(myTable8.age)</span><br><span class="line"><span class="comment">--如果想获取到age的值,则需要获取__newindex中的age</span></span><br><span class="line"><span class="built_in">print</span>(meta8.<span class="built_in">__newindex</span>.age)  <span class="comment">--输出结果:10</span></span><br></pre></td></tr></table></figure><ol><li>得到元表</li></ol><p><strong>getmetatable(table):</strong> 返回对象的元表(metatable</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">meta9=&#123;&#125;</span><br><span class="line">myTable9=&#123;&#125;</span><br><span class="line"><span class="built_in">setmetatable</span>(myTable9,meta9)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">getmetatable</span>(myTable9))  </span><br></pre></td></tr></table></figure><ol><li>查找参数/设置参数</li></ol><p>rawget():绕过__index,在自身身上查找有没有这个变量</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">meta10=&#123;&#125;</span><br><span class="line">myTable10=&#123;&#125;</span><br><span class="line"><span class="built_in">setmetatable</span>(myTable10,meta10)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">rawget</span>(myTable10,<span class="string">&quot;age&quot;</span>))</span><br></pre></td></tr></table></figure><p>rawset():绕过__newindex,在自身身上设置变量</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">meta11=&#123;&#125;</span><br><span class="line">meta11.<span class="built_in">__newindex</span>=&#123;&#125;</span><br><span class="line">myTable11=&#123;&#125;</span><br><span class="line"><span class="built_in">setmetatable</span>(myTable11,meta11)</span><br><span class="line"><span class="built_in">rawset</span>(myTable11,<span class="string">&quot;age&quot;</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(myTable11)</span><br></pre></td></tr></table></figure><h1 id="八-面向对象"><a href="#八-面向对象" class="headerlink" title="八.面向对象"></a>八.面向对象</h1><p><img src="https://cdnimage.gmcj0816.top/mianxiangduixiang.png" alt="面向对象思维导图"></p><div class="tip bolt"><p>这里复习一下c#知识，在c#中面向对象的三大特性：继承，封装，多态；</p><ul><li>封装：指能够把一个实体的信息、功能、响应都装入一个单独的对象中的特性。</li><li>继承：继承的方法允许在不改动原程序的基础上对其进行扩充，这样使得原功能得以保存，而新功能也得以扩展。这有利于减少重复编码，提高软件的开发效率。</li><li>多态：同一操作作用于不同的对象，可以有不同的解释，产生不同的执行结果。在运行时，可以通过指向基类的指针，来调用实现派生类中的方法。</li></ul></div><p>在lua中的对象便是由<mark class="hl-label red">属性</mark> 和<mark class="hl-label red">方法</mark> 组成，lua中<mark class="hl-label red">最基本的结构</mark> 是table，所以需要用table来<mark class="hl-label red">描述对象的属性</mark> </p><h2 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Object =&#123;&#125;</span><br><span class="line">Object.id=<span class="number">1</span></span><br></pre></td></tr></table></figure><p>这还是只是一个表，还有一个参数是id等于1，想要实现c#的实例化，就要有一个实例化方法</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 冒号是会自动将调用这个函数的对象作为第一个参数传入的写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Object:new</span><span class="params">()</span></span></span><br><span class="line">    <span class="comment">--self 代表的是我们默认传入的第一个参数</span></span><br><span class="line">    <span class="comment">--对象就是变量，返回一个新的变量</span></span><br><span class="line">    <span class="comment">--返回出去的内容 本质上就是表对象</span></span><br><span class="line">    <span class="keyword">local</span> obj=&#123;&#125;</span><br><span class="line">    <span class="comment">--元表知识: __index 当找自己的变量找不到时，就会找元表当中的__index指向的内容</span></span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>这时我们即可调用这个方法来完成实例化</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> myObj=Object:new()</span><br><span class="line"><span class="built_in">print</span>(myObj)</span><br></pre></td></tr></table></figure><p>此时你想要得到id的值，你会发现print(myObj.id)的值为nil，这是因为你获取的是Object:new()里面的obj，这是没有id的，而且又没指定元表，当然id是nil(空)咯，所以想要获取id的值，你需要指定其元表</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 冒号是会自动将调用这个函数的对象作为第一个参数传入的写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Object:new</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">local</span> obj=&#123;&#125;</span><br><span class="line">    <span class="comment">--元表知识: __index 当找自己的变量找不到时，就会找元表当中的__index指向的内容</span></span><br><span class="line">    <span class="comment">-- 这里的self可以理解为函数调用者</span></span><br><span class="line">    <span class="built_in">self</span>.<span class="built_in">__index</span>=<span class="built_in">self</span></span><br><span class="line">    <span class="built_in">setmetatable</span>(obj,<span class="built_in">self</span>)</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>这是在通过print(myOj.id)时，obj中没有id，然后到其元表，这里使用self是因为<font color=red>冒号是会自动将调用这个函数的对象作为第一个参数</font>，也就是Object了，这样就可以获取Object里的id的值了，所以打印结果为：1</p><p>上面说完了参数的使用，当然少不了在c#中的方法的调用，那我们就设置一个无参的方法和一个有参的方法</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Object.name=<span class="string">&quot;爱吃大饼的小虎&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Object:Test</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">self</span>.name)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Object:TestTwo</span><span class="params">(age)</span></span></span><br><span class="line">    Object.age=age</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">self</span>.age)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">-- 冒号是会自动将调用这个函数的对象作为第一个参数传入的写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Object:new</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">local</span> obj=&#123;&#125;</span><br><span class="line">    <span class="comment">--元表知识: __index 当找自己的变量找不到时，就会找元表当中的__index指向的内容</span></span><br><span class="line">    <span class="comment">-- 这里的self可以理解为函数调用者</span></span><br><span class="line">    <span class="built_in">self</span>.<span class="built_in">__index</span>=<span class="built_in">self</span></span><br><span class="line">    <span class="built_in">setmetatable</span>(obj,<span class="built_in">self</span>)</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>这个时候我们就可以调用这个Test()方法和Test(age)的方法了</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">myObj:Test() <span class="comment">--因为获取的Object.name的值，所以为：爱吃大饼的小虎</span></span><br><span class="line">myObj:TestTwo(<span class="number">2</span>)<span class="comment">--因为是将age这个值2赋给Object.age，所以为：2</span></span><br></pre></td></tr></table></figure><p>那当name的值赋值是什么结果呢？</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myObj.name=<span class="string">&quot;七鳄学习格&quot;</span></span><br><span class="line"><span class="built_in">print</span>(Object.name)  <span class="comment">---这里的结果还是：爱吃大饼的小虎</span></span><br><span class="line">myObj:Test() <span class="comment">--这里的结果还是：七鳄学习格</span></span><br></pre></td></tr></table></figure><mark class="hl-label red">解释：</mark>  这是因为通过myObj.name等于是对obj空表申明一个新的属性是叫作name,所以并未对元表的Object的name造成影响，同理当调用myObj:Test()时打印的也是myObj的name的值是 ：七鳄学习格## 继承在c#中的继承是 class 类名:需要继承的类（父类），在lua是需要自己写来实现，首先我们先复用上面的Object代码<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Object =&#123;&#125;</span><br><span class="line">Object.id=<span class="number">1</span></span><br><span class="line">Object.name=<span class="string">&quot;爱吃大饼的小虎&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Object:Test</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">self</span>.name)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Object:TestTwo</span><span class="params">(age)</span></span></span><br><span class="line">    Object.age=age</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">self</span>.age)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">-- 冒号是会自动将调用这个函数的对象作为第一个参数传入的写法</span></span><br><span class="line"><span class="comment">-- 冒号是会自动将调用这个函数的对象作为第一个参数传入的写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Object:new</span><span class="params">()</span></span></span><br><span class="line">    <span class="comment">--self 代表的是我们默认传入的第一个参数</span></span><br><span class="line">    <span class="comment">--对象就是变量，返回一个新的变量</span></span><br><span class="line">    <span class="comment">--返回出去的内容 本质上就是表对象</span></span><br><span class="line">    <span class="keyword">local</span> obj=&#123;&#125;</span><br><span class="line">    <span class="comment">--元表知识: __index 当找自己的变量找不到时，就会找元表当中的__index指向的内容</span></span><br><span class="line">    <span class="built_in">self</span>.<span class="built_in">__index</span>=<span class="built_in">self</span></span><br><span class="line">    <span class="built_in">setmetatable</span>(obj,<span class="built_in">self</span>)</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>这里需要复习一下<em>G(大G表)的相关知识，我们知道</em>  _G是一个总表，本质是table，他将我们申明的所有全局变量都存储在其中</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--这里相当于将a和b的值传入到_G表中，方可通过_G.a和_G.b获取值</span></span><br><span class="line"><span class="built_in">_G</span>[<span class="string">&quot;a&quot;</span>]=<span class="number">1</span></span><br><span class="line"><span class="built_in">_G</span>.b=<span class="number">123</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">_G</span>.a)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">_G</span>.b)</span><br></pre></td></tr></table></figure><p>其实到这里就比较容易说通了，我们可以通过结合_G表来实现继承，示例代码如下</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--className表示一个新的类的名称</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Object:subClass</span><span class="params">(className)</span></span></span><br><span class="line">    <span class="comment">--相当于将新的类放到_G表中</span></span><br><span class="line">    <span class="built_in">_G</span>[className]=&#123;&#125;</span><br><span class="line">    <span class="keyword">local</span> obj= <span class="built_in">_G</span>[className]</span><br><span class="line">    <span class="comment">--指向元表</span></span><br><span class="line">    <span class="built_in">self</span>.<span class="built_in">__index</span>=<span class="built_in">self</span></span><br><span class="line">    <span class="built_in">setmetatable</span>(obj,<span class="built_in">self</span>)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--调用这个subClass方法</span></span><br><span class="line">Object:subClass(<span class="string">&quot;Person&quot;</span>)</span><br><span class="line"><span class="comment">--相当于实例化Person</span></span><br><span class="line"><span class="keyword">local</span> p1=Person:new()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;获取Person的值:&quot;</span>..p1.id) <span class="comment">--这里的结果为1</span></span><br></pre></td></tr></table></figure><mark class="hl-label red">解释：</mark>   这里需要说明一下p1的new方法相当于执行的function Object:new()方法,那么就需要按照如下推理了<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">（1）p1:Person:new()===&gt;function Object:new()</span><br><span class="line">（2）所以function Object:new()中的obj，self相当于Person，所以p1中没有id，就要到Person中找，诚然也是没有的</span><br><span class="line">（3）那么就要到Person的元表中__index去找</span><br><span class="line">（4）这里就用到function Object:subClass(className)了，Person相当于className，然后local obj= _G[className]，所以Person就是obj，self相当于Object，这里就找到id了，结果是1</span><br></pre></td></tr></table></figure><p>然后说一下赋值</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Object:subClass(<span class="string">&quot;Person&quot;</span>)</span><br><span class="line"><span class="keyword">local</span> p1=Person:new()</span><br><span class="line"><span class="comment">--这里p1.id获取到的是元表Person的元表Object的id的值</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;获取Person的值:&quot;</span>..p1.id) <span class="comment">--1</span></span><br><span class="line">p1.id=<span class="number">100</span>  </span><br><span class="line"><span class="comment">--这里相当于给p1添加一个新的属性id，并为其赋值为100，既然自己有id属性，当然就不会在向上找了</span></span><br><span class="line"><span class="built_in">print</span>(p1.id)  <span class="comment">--100</span></span><br><span class="line">Object:subClass(<span class="string">&quot;Monster&quot;</span>)</span><br><span class="line"><span class="keyword">local</span> m1=Person:new()</span><br><span class="line"><span class="comment">--这里m1.id相当于新建一个类，名字交Monster，然后没有id这个属性，所以就向上找，获取到的是元表Person的元表Object的id的值</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;获取Monster的值:&quot;</span>..m1.id) <span class="comment">--1</span></span><br><span class="line"><span class="comment">--这里相当于给m1添加一个新的属性id，并为其赋值为200，既然自己有id属性，当然就不会在向上找了</span></span><br><span class="line">m1.id=<span class="number">200</span> </span><br><span class="line"><span class="built_in">print</span>(m1.id) <span class="comment">--200</span></span><br></pre></td></tr></table></figure><h2 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h2><p>首先主要明白什么是多态</p><p>（1）相同行为 不同表象 就是多态</p><p>（2）相同方法 不同执行逻辑 就是多态</p><p>而需要实现多态需要拥有三个条件：继承，重写，父类引用指向子类对象：<strong>Parent p = new Child();</strong></p><p>因为需要用到上面的代码，复用一下</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">Object =&#123;&#125;</span><br><span class="line">Object.id=<span class="number">1</span></span><br><span class="line">Object.name=<span class="string">&quot;爱吃大饼的小虎&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Object:Test</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">self</span>.name)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Object:TestTwo</span><span class="params">(age)</span></span></span><br><span class="line">    Object.age=age</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">self</span>.age)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">-- 冒号是会自动将调用这个函数的对象作为第一个参数传入的写法</span></span><br><span class="line"><span class="comment">-- 冒号是会自动将调用这个函数的对象作为第一个参数传入的写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Object:new</span><span class="params">()</span></span></span><br><span class="line">    <span class="comment">--self 代表的是我们默认传入的第一个参数</span></span><br><span class="line">    <span class="comment">--对象就是变量，返回一个新的变量</span></span><br><span class="line">    <span class="comment">--返回出去的内容 本质上就是表对象</span></span><br><span class="line">    <span class="keyword">local</span> obj=&#123;&#125;</span><br><span class="line">    <span class="comment">--元表知识: __index 当找自己的变量找不到时，就会找元表当中的__index指向的内容</span></span><br><span class="line">    <span class="built_in">self</span>.<span class="built_in">__index</span>=<span class="built_in">self</span></span><br><span class="line">    <span class="built_in">setmetatable</span>(obj,<span class="built_in">self</span>)</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--className表示一个新的类的名称</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Object:subClass</span><span class="params">(className)</span></span></span><br><span class="line">    <span class="comment">--相当于将新的类放到_G表中</span></span><br><span class="line">    <span class="built_in">_G</span>[className]=&#123;&#125;</span><br><span class="line">    <span class="keyword">local</span> obj= <span class="built_in">_G</span>[className]</span><br><span class="line">    <span class="comment">--指向元表</span></span><br><span class="line">    <span class="built_in">self</span>.<span class="built_in">__index</span>=<span class="built_in">self</span></span><br><span class="line">    <span class="comment">--子类 定义个base属性 base属性代表父类</span></span><br><span class="line">obj.base = <span class="built_in">self</span></span><br><span class="line">    <span class="built_in">setmetatable</span>(obj,<span class="built_in">self</span>)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>实现所谓的继承，重写，父类引用指向子类对象</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--相当于创建一个GameObject类</span></span><br><span class="line">Object:subClass(<span class="string">&quot;GameObject&quot;</span>)</span><br><span class="line"><span class="comment">-- 创建posX和posY两个属性</span></span><br><span class="line">GameObject.posX = <span class="number">0</span>;</span><br><span class="line">GameObject.posY = <span class="number">0</span>;</span><br><span class="line"><span class="comment">--创建一个方法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GameObject:Move</span><span class="params">()</span></span></span><br><span class="line"><span class="built_in">self</span>.posX = <span class="built_in">self</span>.posX + <span class="number">1</span></span><br><span class="line"><span class="built_in">self</span>.posY = <span class="built_in">self</span>.posY + <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">self</span>.posX)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">self</span>.posY)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--相当于创建一个GameObject类</span></span><br><span class="line">GameObject:subClass(<span class="string">&quot;Player&quot;</span>)</span><br><span class="line"><span class="comment">--调用Move其方法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Player:Move</span><span class="params">()</span></span></span><br><span class="line"><span class="comment">--base 指的是 GameObject 表（类）</span></span><br><span class="line">    <span class="comment">--这里相当于继承GameObject的Move方法</span></span><br><span class="line"><span class="built_in">self</span>.base:Move()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--实例化p1</span></span><br><span class="line"><span class="keyword">local</span> p1 = Player:new()</span><br><span class="line">p1:Move() </span><br></pre></td></tr></table></figure><p>这样基本的多态就ok了，但是当我们在创建一个p2</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--实例化p2</span></span><br><span class="line"><span class="keyword">local</span> p2 = Player:new()</span><br><span class="line">p2:Move() <span class="comment">--结果可以自己看看是2，2，这是超级大的bug，他等于改变了GameObject的posX和posY的值了</span></span><br></pre></td></tr></table></figure><mark class="hl-label red">原因：</mark> 通过冒号调用p1的Move方法，因为self.base:Move()指的是GameObject的Move方法，因为用冒号调用等于将GmaeObject本身作为第一个值，相当于就是公用一张表的属性了，然后将在不停的改变posX和posY的值，如果要执行父类逻辑 我们不要直接使用冒号调用，要通过.调用 然后自己传入第一个参数 所以这里就需要用self.base.Move(self)这样调用方可解决这个问题（Bug）# 九.自带库## 时间库- os.time ([table])按table的内容返回一个时间值(数字),若不带参数则返回当前时间.（在许多系统中该数值是当前距离某个特定时间的秒数。）,按照这种方式写即可<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">os</span>.<span class="built_in">time</span>()) </span><br></pre></td></tr></table></figure><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--自己传入参数，得到时间</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">os</span>.<span class="built_in">time</span>(&#123;year=<span class="number">2014</span>,month=<span class="number">8</span>,day=<span class="number">14</span>&#125;))</span><br></pre></td></tr></table></figure><ul><li>os.date ([format [, time]])</li></ul><p>功能：返回一个按format格式化日期、时间的字串或表</p><p>*t”:将返一个带year(4位),month(1-12), day (1—31), hour (0-23), min (0-59), sec (0-61), wday (星期几, 星期天为1), yday (年内天数), and isdst (是否为日光节约时间true/false)的带键名的表; </p><p>若没有”*t”则返回一个按C的strftime函数格式化的字符串;</p><p>若不带参数，则按当前系统的设置返回格式化的字符串 os.date() &lt;=&gt; os.date(“%c”)</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> nowTime=<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;*t&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> index, value <span class="keyword">in</span> <span class="built_in">pairs</span>(nowTime) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(index,value)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">print</span>(nowTime.hour)</span><br><span class="line"><span class="comment">--结果如下</span></span><br><span class="line">sec     <span class="number">26</span></span><br><span class="line">month   <span class="number">2</span></span><br><span class="line">isdst   <span class="literal">false</span></span><br><span class="line">wday    <span class="number">3</span></span><br><span class="line">yday    <span class="number">45</span></span><br><span class="line">year    <span class="number">2023</span></span><br><span class="line"><span class="built_in">min</span>     <span class="number">6</span></span><br><span class="line">hour    <span class="number">21</span></span><br><span class="line">day     <span class="number">14</span></span><br></pre></td></tr></table></figure><p>如果使用带标记（见下表）的特殊字符串，os.data函数会将相应的标记位以时间信息进行填充，得到一个包含时间的字符串。</p><div class="table-container"><table><thead><tr><th>特殊字符串</th><th>说明</th></tr></thead><tbody><tr><td>%a</td><td>一星期中天数的简称(Wed)</td></tr><tr><td>%A</td><td>一星期中天数的全称(Wednesday)</td></tr><tr><td>%b</td><td>月份的简称(Sep)</td></tr><tr><td>%B</td><td>月份的全称(September)</td></tr><tr><td>%c</td><td>日期和时间(11/11/11 11:11:11)</td></tr><tr><td>%d</td><td>一个月中的第几天(0-31)</td></tr><tr><td>%H</td><td>24小时制中的小时数</td></tr><tr><td>%I</td><td>12小时制中的小时数</td></tr><tr><td>%j</td><td>一年中的第几天(259)</td></tr><tr><td>%M</td><td>分钟数</td></tr><tr><td>%m</td><td>月份数</td></tr><tr><td>%P</td><td>上午(am)或者下午(pm)</td></tr><tr><td>%S</td><td>秒数(00-59)</td></tr><tr><td>%w</td><td>一星期的第几天(3)</td></tr><tr><td>%W</td><td>一年中的第几个星期(0-52)</td></tr><tr><td>%x</td><td>日期(01/01/01)</td></tr><tr><td>%X</td><td>时间(00:00:00)</td></tr><tr><td>%y</td><td>两位数的年份(00-99)</td></tr><tr><td>%Y</td><td>完整的年份(2001)</td></tr><tr><td>%%</td><td>字符串”%”</td></tr></tbody></table></div><p>例如:</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;today is %A, in %B&quot;</span>))  <span class="comment">--运行结果: today is Tuesday, in February</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%X&quot;</span>, <span class="number">906000490</span>))  <span class="comment">--运行结果: 10:48:10</span></span><br></pre></td></tr></table></figure><h2 id="数学库"><a href="#数学库" class="headerlink" title="数学库"></a>数学库</h2><p>比较常用的</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;绝对值:&quot;</span>..<span class="built_in">math</span>.<span class="built_in">abs</span>(<span class="number">-11</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;π的值:&quot;</span>..<span class="built_in">math</span>.<span class="built_in">pi</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;返回小于或等于 x 的最大整数:&quot;</span>..<span class="built_in">math</span>.<span class="built_in">floor</span>(<span class="number">8.15</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;返回其参数中的最大值:&quot;</span>..<span class="built_in">math</span>.<span class="built_in">max</span>(<span class="number">1</span>,<span class="number">8</span>,<span class="number">11</span>,<span class="number">98</span>,<span class="number">14</span>,<span class="number">32</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;返回其参数中的最小值:&quot;</span>..<span class="built_in">math</span>.<span class="built_in">min</span>(<span class="number">11</span>,<span class="number">-8</span>,<span class="number">1</span>,<span class="number">98</span>,<span class="number">14</span>,<span class="number">32</span>))</span><br></pre></td></tr></table></figure><p>这里按照实际需求来用咯</p><div class="table-container"><table><thead><tr><th style="text-align:left">库/方法</th><th style="text-align:left">功能</th></tr></thead><tbody><tr><td style="text-align:left">math.abs (x)</td><td style="text-align:left">返回 x 的绝对值</td></tr><tr><td style="text-align:left">math.acos (x)</td><td style="text-align:left">返回 x 的反余弦值（以弧度为单位）</td></tr><tr><td style="text-align:left">math.asin (x)</td><td style="text-align:left">返回 x 的反正弦（以弧度为单位）</td></tr><tr><td style="text-align:left">math.atan (x)</td><td style="text-align:left">返回 x 的反正切（以弧度为单位）</td></tr><tr><td style="text-align:left">math.atan2 (y, x)</td><td style="text-align:left">返回 y/x 的反正切（以弧度为单位），但使用两个参数的符号来查找结果的象限。 （它还可以正确处理 x 为零的情况。）</td></tr><tr><td style="text-align:left">math.ceil (x)</td><td style="text-align:left">返回大于或等于 x 的最小整数。</td></tr><tr><td style="text-align:left">math.cos (x)</td><td style="text-align:left">返回 x 的余弦（假定为弧度）。</td></tr><tr><td style="text-align:left">math.cosh (x)</td><td style="text-align:left">返回 x 的双曲余弦值。</td></tr><tr><td style="text-align:left">math.deg (x)</td><td style="text-align:left">返回以度为单位的角度 x（以弧度为单位）。</td></tr><tr><td style="text-align:left">math.exp (x)</td><td style="text-align:left">返回值 e 幂 x。</td></tr><tr><td style="text-align:left">math.floor (x)</td><td style="text-align:left">返回小于或等于 x 的最大整数。</td></tr><tr><td style="text-align:left">math.fmod (x, y)</td><td style="text-align:left">返回 x 除以 y 的余数，该余数将商向零舍入。</td></tr><tr><td style="text-align:left">math.frexp (x)</td><td style="text-align:left">返回 m 和 e 使得 x = m2e, e 是一个整数并且 m 的绝对值在 [0.5, 1) 范围内（或者当 x 为零时为零）。</td></tr><tr><td style="text-align:left">math.huge</td><td style="text-align:left">值 HUGE_VAL，大于或等于任何其他数值的值。</td></tr><tr><td style="text-align:left">math.ldexp (m, e)</td><td style="text-align:left">返回 m2e（e 应该是一个整数）。</td></tr><tr><td style="text-align:left">math.log (x)</td><td style="text-align:left">返回 x 的自然对数。</td></tr><tr><td style="text-align:left">math.log10 (x)</td><td style="text-align:left">返回 x 的以 10 为底的对数。</td></tr><tr><td style="text-align:left">math.max (x, …)</td><td style="text-align:left">返回其参数中的最大值。</td></tr><tr><td style="text-align:left">math.min (x, …)</td><td style="text-align:left">返回其参数中的最小值。</td></tr><tr><td style="text-align:left">math.modf (x)</td><td style="text-align:left">返回两个数字，x 的整数部分和 x 的小数部分。</td></tr><tr><td style="text-align:left">math.pi</td><td style="text-align:left">pi 的值。</td></tr><tr><td style="text-align:left">math.pow (x, y)</td><td style="text-align:left">返回 xy。 （您也可以使用表达式 x^y 来计算此值。）</td></tr><tr><td style="text-align:left">math.rad (x)</td><td style="text-align:left">返回以弧度为单位的角度 x（以度为单位）。</td></tr><tr><td style="text-align:left">math.random ([m [, n]])</td><td style="text-align:left">此函数是 ANSI C 提供的简单伪随机生成器函数 rand 的接口。当不带参数调用时，返回范围 [0,1) 内的统一伪随机实数。 当使用整数 m 调用时，math.random 返回范围 [1, m] 内的统一伪随机整数。 当使用两个整数 m 和 n 调用时，math.random 返回范围 [m, n] 内的统一伪随机整数。</td></tr><tr><td style="text-align:left">math.randomseed (x)</td><td style="text-align:left">将 x 设置为伪随机生成器的”种子”：相等的种子产生相等的数字序列。</td></tr><tr><td style="text-align:left">math.sin (x)</td><td style="text-align:left">返回 x 的正弦值（假定为弧度）。</td></tr><tr><td style="text-align:left">math.sinh (x)</td><td style="text-align:left">返回 x 的双曲正弦值。</td></tr><tr><td style="text-align:left">math.sqrt (x)</td><td style="text-align:left">返回 x 的平方根。 （您也可以使用表达式 x^0.5 来计算此值。）</td></tr><tr><td style="text-align:left">math.tan (x)</td><td style="text-align:left">返回 x 的正切（假定为弧度）。</td></tr><tr><td style="text-align:left">math.tanh (x)</td><td style="text-align:left">返回 x 的双曲正切。</td></tr></tbody></table></div><h2 id="文件路径"><a href="#文件路径" class="headerlink" title="文件路径"></a>文件路径</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">package</span>.<span class="built_in">path</span>)</span><br></pre></td></tr></table></figure><h1 id="十-I-O"><a href="#十-I-O" class="headerlink" title="十.I/O"></a>十.I/O</h1><p>Lua I/O 库用于读取和处理文件。分为简单模式（和C一样）、完全模式</p><ul><li>简单模式</li></ul><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">file = <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="string">&quot;test.lua&quot;</span>, <span class="string">&quot;r&quot;</span>) <span class="comment">-- 以只读方式打开文件 </span></span><br><span class="line"><span class="comment">--打开文件的格式file = io.open (filename [, mode])这里的mode是类型，具体类型如下表</span></span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th style="text-align:left">模式</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:left">r</td><td style="text-align:left">以只读方式打开文件，该文件必须存在。</td></tr><tr><td style="text-align:left">w</td><td style="text-align:left">打开只写文件，若文件存在则文件长度清为0，即该文件内容会消失。若文件不存在则建立该文件。</td></tr><tr><td style="text-align:left">a</td><td style="text-align:left">以附加的方式打开只写文件。若文件不存在，则会建立该文件，如果文件存在，写入的数据会被加到文件尾，即文件原先的内容会被保留。（EOF符保留）</td></tr><tr><td style="text-align:left">r+</td><td style="text-align:left">以可读写方式打开文件，该文件必须存在。</td></tr><tr><td style="text-align:left">w+</td><td style="text-align:left">打开可读写文件，若文件存在则文件长度清为零，即该文件内容会消失。若文件不存在则建立该文件。</td></tr><tr><td style="text-align:left">a+</td><td style="text-align:left">与a类似，但此文件可读可写</td></tr><tr><td style="text-align:left">b</td><td style="text-align:left">二进制模式，如果文件是二进制文件，可以加上b</td></tr><tr><td style="text-align:left">+</td><td style="text-align:left">号表示对文件既可以读也可以写</td></tr></tbody></table></div><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">io</span>.<span class="built_in">input</span>(file) <span class="comment">-- 设置默认输入文件为 test.lua</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">io</span>.<span class="built_in">read</span>()) <span class="comment">-- 输出文件第一行</span></span><br></pre></td></tr></table></figure><p>这里io.read()是可以添加参数的，具体如下:</p><div class="table-container"><table><thead><tr><th>“*n”</th><th>读取一个数字并返回它。例：file.read(“*n”)</th></tr></thead><tbody><tr><td>“*a”</td><td>从当前位置读取整个文件。例：file.read(“*a”)</td></tr><tr><td>“*l”（默认）</td><td>读取下一行，在文件尾 (EOF) 处返回 nil。例：file.read(“*l”)</td></tr><tr><td>number</td><td>返回一个指定字符个数的字符串，或在 EOF 时返回 nil。例：file.read(5)</td></tr></tbody></table></div><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">io</span>.<span class="built_in">close</span>(file) <span class="comment">-- 关闭打开的文件</span></span><br><span class="line">file = <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="string">&quot;test.lua&quot;</span>, <span class="string">&quot;a&quot;</span>) <span class="comment">-- 以附加的方式打开只写文件</span></span><br><span class="line"><span class="built_in">io</span>.<span class="built_in">output</span>(file) <span class="comment">-- 设置默认输出文件为 test.lua</span></span><br><span class="line"><span class="built_in">io</span>.<span class="built_in">write</span>(<span class="string">&quot;--  test.lua 文件末尾注释&quot;</span>) <span class="comment">-- 在文件最后一行添加 Lua 注释</span></span><br><span class="line"><span class="built_in">io</span>.<span class="built_in">close</span>(file) <span class="comment">-- 关闭打开的文件</span></span><br></pre></td></tr></table></figure><h1 id="十一-垃圾回收"><a href="#十一-垃圾回收" class="headerlink" title="十一.垃圾回收"></a>十一.垃圾回收</h1><p>在lua中垃圾回收的关键字是collectgaabage，其中加入不同的参数实现不同的功能，其实比较常用的基本就count和collect两个；</p><h2 id="collectgarbage-“count”"><a href="#collectgarbage-“count”" class="headerlink" title="collectgarbage(“count”)"></a>collectgarbage(“count”)</h2><p> 以 K 字节数为单位返回 Lua 使用的总内存数。 这个值有小数部分，所以只需要乘上 1024 就能得到 Lua 使用的准确字节数（除非溢出）。</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--使用就比较简单了</span></span><br><span class="line">test=&#123;id=<span class="number">1</span>,name=<span class="string">&quot;123&quot;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">collectgarbage</span>(<span class="string">&quot;count&quot;</span>)) <span class="comment">--74.1328125</span></span><br></pre></td></tr></table></figure><h2 id="collectgarbage-“collect”"><a href="#collectgarbage-“collect”" class="headerlink" title="collectgarbage(“collect”)"></a>collectgarbage(“collect”)</h2><p>做一次完整的垃圾收集循环,即垃圾回收，这里lua中的机制和C#中垃圾回收机制很类似 解除羁绊 就是变垃圾，所以如下代码会发现</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">--复用一下上面的代码</span><br><span class="line">test=&#123;id=1,name=&quot;123&quot;&#125;</span><br><span class="line">print(collectgarbage(&quot;count&quot;))  --74.4267578125</span><br><span class="line">test = nil</span><br><span class="line">collectgarbage(&quot;collect&quot;)  --做一次垃圾回收</span><br><span class="line">print(collectgarbage(&quot;count&quot;))  --45.8173828125==&gt;这里会发现内存数变小了</span><br></pre></td></tr></table></figure><p>做个最后的结语咯</p><div class="tip error"><p>其实lua中 有自动定时进行GC的方法，采用了自动内存管理。 这意味着你不用操心新创建的对象需要的内存如何分配出来， 也不用考虑在对象不再被使用后怎样释放它们所占用的内存。这也就可以说：Unity中热更新开发，尽量不要去用自动垃圾回收</p></div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>对所有代码都严格审核规范</p>            </div><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>数据类型知识点</p>            </div><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>多脚本执行</p>            </div><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>面向对象</p>            </div><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>对每一个知识点都做细节</p>            </div><div class='checkbox yellow checked'><input type="checkbox" checked="checked"/>            <p>lua知识点覆盖，并能够应用于学习和工作当中</p>            </div><div class="note green no-icon flat"><p>如果感觉这篇文章不错，记得点击一下的分享和复制地址按钮转发一下，经济充裕的话可以打赏一下作者，感激不尽，创作不易，期待每一个点滴</p></div><p>爱发电:<a href="https://afdian.net/a/sevene">爱吃大饼的小虎正在创作博客，独立游戏 | 爱发电 (afdian.net)</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;tip bolt&quot;&gt;&lt;p&gt;此文章部分内容和思维导图来源于唐老狮相关Lua课程，通过Vistual Studio Code语法测试，如有问题，请在以下留言&lt;/p&gt;
&lt;p&gt;由于全部为本工作室二级网站—学习格整理而成，故本网站对本文章拥有相关创作权，因此在搬运或</summary>
      
    
    
    
    <category term="🦋热更新" scheme="https://blog.gmcj0816.top/categories/%F0%9F%A6%8B%E7%83%AD%E6%9B%B4%E6%96%B0/"/>
    
    
    <category term="Unity" scheme="https://blog.gmcj0816.top/tags/Unity/"/>
    
    <category term="热更新" scheme="https://blog.gmcj0816.top/tags/%E7%83%AD%E6%9B%B4%E6%96%B0/"/>
    
    <category term="Lua" scheme="https://blog.gmcj0816.top/tags/Lua/"/>
    
  </entry>
  
  <entry>
    <title>Unity3d热更新之xLua热更新[基础]</title>
    <link href="https://blog.gmcj0816.top/posts/7beb5b01/"/>
    <id>https://blog.gmcj0816.top/posts/7beb5b01/</id>
    <published>2023-02-14T04:12:29.000Z</published>
    <updated>2023-04-13T10:00:09.315Z</updated>
    
    <content type="html"><![CDATA[<p>其实热更新的原理比较简单，就是本地的客户端与资源服务器进行比对相关信息与文件，然后从资源服务器获取到需要更新的资源与代码逻辑，从而完成热更新,效果图如下:</p><p><img src="https://cdnimage.gmcj0816.top/hotupdate_yuanli.png" alt=""></p><p>本文所有开发工具</p><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>Unity3D(个人版)-2021.3.13f1</p>            </div><div class='checkbox yellow checked'><input type="checkbox" checked="checked"/>            <p>JetBrains Rider(学生版) 2022.2.4</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>Sublime Text</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>Visual Studio Code</p>            </div><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>Typora</p>            </div><h1 id="xLua基础"><a href="#xLua基础" class="headerlink" title="xLua基础"></a>xLua基础</h1><p>其实xLua可以说是Lua热更新的升级版，无论是在功能，性能还是易用性上都有诸多的突破的，主要表现在以下几个方面（这里主要参考了官方网站:<a href="https://tencent.github.io/xLua/public/v1/guide/index.html">介绍 — XLua (tencent.github.io)</a>）</p><ul><li>可以运行时把C#实现（方法，操作符，属性，事件等等）替换成lua实现；</li><li>出色的GC优化，自定义struct，枚举在Lua和C#间传递无C# gc alloc；</li><li>编辑器下无需生成代码，开发更轻量；</li></ul><h2 id="引入命名空间"><a href="#引入命名空间" class="headerlink" title="引入命名空间"></a>引入命名空间</h2><p>在一切准备之前，需要导入相关文件，点击下方的下载按钮下载后解压直接拖到Unity3d工程文件中就ok了</p><p><a href="https://pan.gmcj0816.top/d/U3d%E8%B5%84%E6%BA%90/Assets.7z">点击此处下载文件</a></p><p>然后需要用的时候还是需要引入命名空间，这个还是比较好记忆的</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> XLua;</span><br></pre></td></tr></table></figure><h2 id="xLua的基本使用"><a href="#xLua的基本使用" class="headerlink" title="xLua的基本使用"></a>xLua的基本使用</h2><p>在Unity3d中执行Lua，需要使用Lua解析器，也就是 <strong>LuaEnv</strong> ，那我们就可以先初始化一下 <strong>LuaEnv</strong> </p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LuaEnv env = <span class="keyword">new</span> LuaEnv();</span><br></pre></td></tr></table></figure><mark class="hl-label red">注意点：</mark> 一般情况下，处于减少性能的消耗和减少执行时间，最好保持它的唯一性那我们就可以来打印一句lua语句试试，<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LuaEnv env = <span class="keyword">new</span> LuaEnv();</span><br><span class="line"><span class="comment">//执行Lua语言</span></span><br><span class="line">env.DoString(<span class="string">&quot;print(&#x27;你好世界&#x27;)&quot;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://cdnimage.gmcj0816.top/xlua_print_helloworld.jpg" alt="实例结果" style="zoom:80%;" /></p><p>这里回顾一个lua知识点，在lua中双引号和单引号都是可以代表字符串的，但是在c#中是不能全都用双引号，要么就用转义字符来划分，要么就是外面双引号，里面单引号来区分，这里为了节省时间，就用第二种方式了，这样一个渐渐单单的在unity中执行lua语言就ok了</p><p>那如果是读取Lua脚本时</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LuaEnv env = <span class="keyword">new</span> LuaEnv();</span><br><span class="line">env.DoString(<span class="string">&quot;require(&#x27;main&#x27;)&quot;</span>);</span><br></pre></td></tr></table></figure><mark class="hl-label red">知识点：</mark> <ul><li>执行一个Lua脚本 Lua知识点 ：多脚本执行 require；</li><li>默认寻找脚本的路径 是在 Resources下 并且 因为在这里,估计是通过 Resources.Load去加载Lua脚本  txt bytes等等,所以Lua脚本 后缀要加一个txt；</li></ul><p>然后我们就可以在项目的Resources中创建一个main.lua.txt(原因上面已经说了，不过可以创建一个main.lua的lua文件，但是肯定会报<font color=red>LuaException: [string “chunk”]:1: module ‘main’ not found;</font>大致意思就是找不到该文件)</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;lua重定向&quot;</span>)</span><br></pre></td></tr></table></figure><p>剩下还有两个方法分别是</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">env.Tick();<span class="comment">//其作用是帮助我们清除Lua中我们没有手动释放的对象 垃圾回收，一般用于帧更新中定时执行 或者 切场景时执行</span></span><br><span class="line">env.Dispose();<span class="comment">//销毁Lua解析器</span></span><br></pre></td></tr></table></figure><h2 id="重定向路径"><a href="#重定向路径" class="headerlink" title="重定向路径"></a>重定向路径</h2><p>上面说到xLua解析器读取lua文件默认是在项目的Resources中，而且要把lua脚本文件的格式写成xx.lua.txt,这样在实际的开发过程中是非常不方便，况且放到项目的Resources文件中打包时是定死的，而且只可作为只读文件来使用，无法进行修改，这对于热更新的理念是背道而驰的，所以就需要用到xLua提供的路径重定向方法</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重定向路径</span></span><br><span class="line">env.AddLoader(MyCustomLoader);</span><br></pre></td></tr></table></figure><p>这里需要记住的便是env.AddLoader可以注册多个回调，该回调参数是字符串，字符串的名称则是需要回调的lua脚本名称，xLua解析器通过对注册的回调方法进行逐层回调，回调的返回值是一个byte数组，如果为空表示该loader找不到，否则则为lua文件的内容</p><p>这里也是设置自定义的路径的回调方法，此此方法在env.AddLoader注册后会自动执行</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="built_in">byte</span>[] <span class="title">MyCustomLoader</span>(<span class="params"><span class="keyword">ref</span> <span class="built_in">string</span> filePath</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">      <span class="comment">//通过函数中的逻辑 去加载 Lua文件 </span></span><br><span class="line">      <span class="comment">//传入的参数 是 require执行的lua脚本文件名</span></span><br><span class="line">      <span class="comment">//拼接一个Lua文件所在路径</span></span><br><span class="line">      <span class="built_in">string</span> path = Application.dataPath + <span class="string">&quot;/Lua/&quot;</span> + filePath + <span class="string">&quot;.lua&quot;</span>;</span><br><span class="line">      Debug.Log(path);</span><br><span class="line">      <span class="comment">//有路径 就去加载文件 </span></span><br><span class="line">      <span class="comment">//File知识点 C#提供的文件读写的类</span></span><br><span class="line">      <span class="comment">//判断文件是否存在</span></span><br><span class="line">      <span class="keyword">if</span> ( File.Exists(path) ) &#123;</span><br><span class="line">          <span class="keyword">return</span> File.ReadAllBytes(path);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">          Debug.Log(<span class="string">&quot;MyCustomLoader重定向失败，文件名为&quot;</span> + filePath);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>这样xLua解析器最最最基本的东西就罗列出来了</p><h2 id="封装xLua管理器"><a href="#封装xLua管理器" class="headerlink" title="封装xLua管理器"></a>封装xLua管理器</h2><p>我们可以结合唐老狮的<a href="https://www.taikr.com/my/course/1083">【唐老狮】Unity中Lua热更新解决方案 - 泰课在线 — 志存高远，稳如泰山 - 国内专业的在线学习平台|Unity3d培训|Unity教程|Unity教程 Unreal 虚幻 AR|移动开发|美术CG - Powered By EduSoho (taikr.com)</a>视频封装一套lua管理器类</p><p>首先需要写一个BaseManager，之前有说到对于lua解析器最好保证其唯一性，唯一性最大的特点便是单例</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BaseManager</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> <span class="title">T</span>:<span class="title">new</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> T _instance;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> T <span class="title">GetInstance</span>()</span> &#123;</span><br><span class="line">        <span class="comment">//判断是否存在，当不存在时则新生成</span></span><br><span class="line">        <span class="keyword">if</span> (_instance == <span class="literal">null</span>) &#123;</span><br><span class="line">            _instance = <span class="keyword">new</span> T();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> _instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在unity3d中实现热更新最重要的便是生成ab包，而ab包一般打包生成的路径是assetbundle文件夹中，所以封装一套ab包管理器</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.Events;</span><br><span class="line"></span><br><span class="line"><span class="comment">//知识点</span></span><br><span class="line"><span class="comment">//字典</span></span><br><span class="line"><span class="comment">//协程</span></span><br><span class="line"><span class="comment">//AB包相关API</span></span><br><span class="line"><span class="comment">//委托</span></span><br><span class="line"><span class="comment">//lambda表达式</span></span><br><span class="line"><span class="comment">//单例模式基类——&gt;观看Unity小框架视频 进行学习</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ABMgr</span> : <span class="title">SingletonAutoMono</span>&lt;<span class="title">ABMgr</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//主包</span></span><br><span class="line">    <span class="keyword">private</span> AssetBundle mainAB = <span class="literal">null</span>;</span><br><span class="line">    <span class="comment">//主包依赖获取配置文件</span></span><br><span class="line">    <span class="keyword">private</span> AssetBundleManifest manifest = <span class="literal">null</span>;</span><br><span class="line">    <span class="comment">//选择存储 AB包的容器</span></span><br><span class="line">    <span class="comment">//AB包不能够重复加载 否则会报错</span></span><br><span class="line">    <span class="comment">//字典知识 用来存储 AB包对象</span></span><br><span class="line">    <span class="keyword">private</span> Dictionary&lt;<span class="built_in">string</span>, AssetBundle&gt; abDic = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">string</span>, AssetBundle&gt;();</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 获取AB包加载路径</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> PathUrl &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> Application.persistentDataPath + <span class="string">&quot;/&quot;</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 主包名 根据平台不同 报名不同</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> MainName</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> UNITY_IOS</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;IOS&quot;</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> UNITY_ANDROID</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;Android&quot;</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;PC&quot;</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 加载主包 和 配置文件</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 因为加载所有包是 都得判断 通过它才能得到依赖信息</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 所以写一个方法</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">LoadMainAB</span>()</span>  &#123;</span><br><span class="line">        <span class="keyword">if</span> (mainAB == <span class="literal">null</span>) &#123;</span><br><span class="line">            mainAB = AssetBundle.LoadFromFile(PathUrl + MainName);</span><br><span class="line">            manifest = mainAB.LoadAsset&lt;AssetBundleManifest&gt;(<span class="string">&quot;AssetBundleManifest&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 加载指定包的依赖包</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;abName&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">LoadDependencies</span>(<span class="params"><span class="built_in">string</span> abName</span>)</span> &#123;</span><br><span class="line">        <span class="comment">//加载主包</span></span><br><span class="line">        LoadMainAB();</span><br><span class="line">        <span class="comment">//获取依赖包</span></span><br><span class="line">        <span class="built_in">string</span>[] strs = manifest.GetAllDependencies(abName);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; strs.Length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!abDic.ContainsKey(strs[i])) &#123;</span><br><span class="line">                AssetBundle ab = AssetBundle.LoadFromFile(PathUrl + strs[i]);</span><br><span class="line">                abDic.Add(strs[i], ab);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 泛型资源同步加载</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;typeparam name=&quot;T&quot;&gt;</span><span class="doctag">&lt;/typeparam&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;abName&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;resName&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">LoadRes</span>&lt;<span class="title">T</span>&gt;(<span class="params"><span class="built_in">string</span> abName, <span class="built_in">string</span> resName</span>) <span class="keyword">where</span> T : Object</span> &#123;</span><br><span class="line">        <span class="comment">//加载依赖包</span></span><br><span class="line">        LoadDependencies(abName);</span><br><span class="line">        <span class="comment">//加载目标包</span></span><br><span class="line">        <span class="keyword">if</span> (!abDic.ContainsKey(abName)) &#123;</span><br><span class="line">            AssetBundle ab = AssetBundle.LoadFromFile(PathUrl + abName);</span><br><span class="line">            abDic.Add(abName, ab);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//得到加载出来的资源</span></span><br><span class="line">        T obj = abDic[abName].LoadAsset&lt;T&gt;(resName);</span><br><span class="line">        <span class="comment">//如果是GameObject 因为GameObject 100%都是需要实例化的</span></span><br><span class="line">        <span class="comment">//所以我们直接实例化</span></span><br><span class="line">        <span class="keyword">if</span> (obj <span class="keyword">is</span> GameObject)</span><br><span class="line">            <span class="keyword">return</span> Instantiate(obj);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Type同步加载指定资源(ab包文件名,资源名,Type)</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;abName&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;resName&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;type&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">LoadRes</span>(<span class="params"><span class="built_in">string</span> abName, <span class="built_in">string</span> resName, System.Type type</span>)</span> &#123;</span><br><span class="line">        <span class="comment">//加载依赖包</span></span><br><span class="line">        LoadDependencies(abName);</span><br><span class="line">        <span class="comment">//加载目标包</span></span><br><span class="line">        <span class="keyword">if</span> (!abDic.ContainsKey(abName)) &#123;</span><br><span class="line">            AssetBundle ab = AssetBundle.LoadFromFile(PathUrl + abName);</span><br><span class="line">            abDic.Add(abName, ab);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//得到加载出来的资源</span></span><br><span class="line">        Object obj = abDic[abName].LoadAsset(resName, type);</span><br><span class="line">        <span class="comment">//如果是GameObject 因为GameObject 100%都是需要实例化的</span></span><br><span class="line">        <span class="comment">//所以我们直接实例化</span></span><br><span class="line">        <span class="keyword">if</span> (obj <span class="keyword">is</span> GameObject)</span><br><span class="line">            <span class="keyword">return</span> Instantiate(obj);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 名字 同步加载指定资源(ab包文件名,资源名)</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;abName&quot;&gt;</span>ab包文件名<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;resName&quot;&gt;</span>资源文件名<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">LoadRes</span>(<span class="params"><span class="built_in">string</span> abName, <span class="built_in">string</span> resName</span>)</span> &#123;</span><br><span class="line">        <span class="comment">//加载依赖包</span></span><br><span class="line">        LoadDependencies(abName);</span><br><span class="line">        <span class="comment">//加载目标包</span></span><br><span class="line">        <span class="keyword">if</span> (!abDic.ContainsKey(abName)) &#123;</span><br><span class="line">            AssetBundle ab = AssetBundle.LoadFromFile(PathUrl + abName);</span><br><span class="line">            abDic.Add(abName, ab);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//得到加载出来的资源</span></span><br><span class="line">        Object obj = abDic[abName].LoadAsset(resName);</span><br><span class="line">        <span class="comment">//如果是GameObject 因为GameObject 100%都是需要实例化的</span></span><br><span class="line">        <span class="comment">//所以我们直接实例化</span></span><br><span class="line">        <span class="keyword">if</span> (obj <span class="keyword">is</span> GameObject)</span><br><span class="line">            <span class="keyword">return</span> Instantiate(obj);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 泛型异步加载资源(ab包文件名,资源名,事件)</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;typeparam name=&quot;T&quot;&gt;</span>泛型<span class="doctag">&lt;/typeparam&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;abName&quot;&gt;</span>ab包文件名<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;resName&quot;&gt;</span>资源文件名<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;callBack&quot;&gt;</span>调用的事件<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">LoadResAsync</span>&lt;<span class="title">T</span>&gt;(<span class="params"><span class="built_in">string</span> abName, <span class="built_in">string</span> resName, UnityAction&lt;T&gt; callBack</span>) <span class="keyword">where</span> T : Object</span> &#123;</span><br><span class="line">        StartCoroutine(ReallyLoadResAsync&lt;T&gt;(abName, resName, callBack));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//正儿八经的 协程函数</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> IEnumerator <span class="title">ReallyLoadResAsync</span>&lt;<span class="title">T</span>&gt;(<span class="params"><span class="built_in">string</span> abName, <span class="built_in">string</span> resName, UnityAction&lt;T&gt; callBack</span>) <span class="keyword">where</span> T : Object</span> &#123;</span><br><span class="line">        <span class="comment">//加载依赖包</span></span><br><span class="line">        LoadDependencies(abName);</span><br><span class="line">        <span class="comment">//加载目标包</span></span><br><span class="line">        <span class="keyword">if</span> (!abDic.ContainsKey(abName)) &#123;</span><br><span class="line">            AssetBundle ab = AssetBundle.LoadFromFile(PathUrl + abName);</span><br><span class="line">            abDic.Add(abName, ab);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//异步加载包中资源</span></span><br><span class="line">        AssetBundleRequest abq = abDic[abName].LoadAssetAsync&lt;T&gt;(resName);</span><br><span class="line">        <span class="keyword">yield</span> <span class="keyword">return</span> abq;</span><br><span class="line">        <span class="keyword">if</span> (abq.asset <span class="keyword">is</span> GameObject)</span><br><span class="line">            callBack(Instantiate(abq.asset) <span class="keyword">as</span> T);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            callBack(abq.asset <span class="keyword">as</span> T);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Type异步加载资源(ab包文件名,资源名,Type,事件)</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;abName&quot;&gt;</span>ab包文件名<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;resName&quot;&gt;</span>资源文件名<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;type&quot;&gt;</span>资源的类型(UI,GameObject,Int,String......)<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;callBack&quot;&gt;</span>调用的事件<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">LoadResAsync</span>(<span class="params"><span class="built_in">string</span> abName, <span class="built_in">string</span> resName, System.Type type, UnityAction&lt;Object&gt; callBack</span>)</span> &#123;</span><br><span class="line">        StartCoroutine(ReallyLoadResAsync(abName, resName, type, callBack));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> IEnumerator <span class="title">ReallyLoadResAsync</span>(<span class="params"><span class="built_in">string</span> abName, <span class="built_in">string</span> resName, System.Type type, UnityAction&lt;Object&gt; callBack</span>)</span> &#123;</span><br><span class="line">        <span class="comment">//加载依赖包</span></span><br><span class="line">        LoadDependencies(abName);</span><br><span class="line">        <span class="comment">//加载目标包</span></span><br><span class="line">        <span class="keyword">if</span> (!abDic.ContainsKey(abName)) &#123;</span><br><span class="line">            AssetBundle ab = AssetBundle.LoadFromFile(PathUrl + abName);</span><br><span class="line">            abDic.Add(abName, ab);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//异步加载包中资源</span></span><br><span class="line">        AssetBundleRequest abq = abDic[abName].LoadAssetAsync(resName, type);</span><br><span class="line">        <span class="keyword">yield</span> <span class="keyword">return</span> abq;</span><br><span class="line">        <span class="keyword">if</span> (abq.asset <span class="keyword">is</span> GameObject)</span><br><span class="line">            callBack(Instantiate(abq.asset));</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            callBack(abq.asset);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 名字 异步加载 指定资源</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;abName&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;resName&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;callBack&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">LoadResAsync</span>(<span class="params"><span class="built_in">string</span> abName, <span class="built_in">string</span> resName, UnityAction&lt;Object&gt; callBack</span>)</span> &#123;</span><br><span class="line">        StartCoroutine(ReallyLoadResAsync(abName, resName, callBack));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> IEnumerator <span class="title">ReallyLoadResAsync</span>(<span class="params"><span class="built_in">string</span> abName, <span class="built_in">string</span> resName, UnityAction&lt;Object&gt; callBack</span>)</span> &#123;</span><br><span class="line">        <span class="comment">//加载依赖包</span></span><br><span class="line">        LoadDependencies(abName);</span><br><span class="line">        <span class="comment">//加载目标包</span></span><br><span class="line">        <span class="keyword">if</span> (!abDic.ContainsKey(abName)) &#123;</span><br><span class="line">            AssetBundle ab = AssetBundle.LoadFromFile(PathUrl + abName);</span><br><span class="line">            abDic.Add(abName, ab);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//异步加载包中资源</span></span><br><span class="line">        AssetBundleRequest abq = abDic[abName].LoadAssetAsync(resName);</span><br><span class="line">        <span class="keyword">yield</span> <span class="keyword">return</span> abq;</span><br><span class="line">        <span class="keyword">if</span> (abq.asset <span class="keyword">is</span> GameObject)</span><br><span class="line">            callBack(Instantiate(abq.asset));</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            callBack(abq.asset);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//卸载AB包的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">UnLoadAB</span>(<span class="params"><span class="built_in">string</span> name</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (abDic.ContainsKey(name))&#123;</span><br><span class="line">            abDic[name].Unload(<span class="literal">false</span>);</span><br><span class="line">            abDic.Remove(name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//清空AB包的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ClearAB</span>()</span>&#123;</span><br><span class="line">        AssetBundle.UnloadAllAssetBundles(<span class="literal">false</span>);</span><br><span class="line">        abDic.Clear();</span><br><span class="line">        <span class="comment">//卸载主包</span></span><br><span class="line">        mainAB = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> XLua;</span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Lua管理器</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 提供 lua解析器</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 保证解析器的唯一性</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LuaMgr</span> : <span class="title">BaseManager</span>&lt;<span class="title">LuaMgr</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//执行Lua语言的函数</span></span><br><span class="line">    <span class="comment">//释放垃圾</span></span><br><span class="line">    <span class="comment">//销毁</span></span><br><span class="line">    <span class="comment">//重定向</span></span><br><span class="line">    <span class="keyword">private</span> LuaEnv luaEnv;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 得到Lua中的_G</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> LuaTable Global &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> luaEnv.Global;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 初始化解析器</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Init</span>()</span> &#123;</span><br><span class="line">        <span class="comment">//已经初始化了 别初始化 直接返回</span></span><br><span class="line">        <span class="keyword">if</span> (luaEnv != <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">//初始化</span></span><br><span class="line">        luaEnv = <span class="keyword">new</span> LuaEnv();</span><br><span class="line">        <span class="comment">//加载lua脚本 重定向</span></span><br><span class="line">        luaEnv.AddLoader(MyCustomLoader);</span><br><span class="line">        luaEnv.AddLoader(MyCustomABLoader);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//自动执行</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="built_in">byte</span>[] <span class="title">MyCustomLoader</span>(<span class="params"><span class="keyword">ref</span> <span class="built_in">string</span> filePath</span>)</span> &#123;</span><br><span class="line">        <span class="comment">//通过函数中的逻辑 去加载 Lua文件 </span></span><br><span class="line">        <span class="comment">//传入的参数 是 require执行的lua脚本文件名</span></span><br><span class="line">        <span class="comment">//拼接一个Lua文件所在路径</span></span><br><span class="line">        <span class="built_in">string</span> path = Application.dataPath + <span class="string">&quot;/Lua/&quot;</span> + filePath + <span class="string">&quot;.lua&quot;</span>;</span><br><span class="line">        <span class="comment">//有路径 就去加载文件 </span></span><br><span class="line">        <span class="comment">//File知识点 C#提供的文件读写的类</span></span><br><span class="line">        <span class="comment">//判断文件是否存在</span></span><br><span class="line">        <span class="keyword">if</span> (File.Exists(path)) &#123;</span><br><span class="line">            <span class="keyword">return</span> File.ReadAllBytes(path);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            Debug.Log(<span class="string">&quot;MyCustomLoader重定向失败，文件名为&quot;</span> + filePath);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//Lua脚本会放在AB包 </span></span><br><span class="line">    <span class="comment">//最终我们会通过加载AB包再加载其中的Lua脚本资源 来执行它</span></span><br><span class="line">    <span class="comment">//重定向加载AB包中的LUa脚本</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="built_in">byte</span>[] <span class="title">MyCustomABLoader</span>(<span class="params"><span class="keyword">ref</span> <span class="built_in">string</span> filePath</span>)</span> &#123;</span><br><span class="line">        <span class="comment">//Debug.Log(&quot;进入AB包加载 重定向函数&quot;);</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span>/从AB包中加载lua文件</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span>/加载AB包</span></span><br><span class="line">        <span class="comment">//string path = Application.streamingAssetsPath + &quot;/lua&quot;;</span></span><br><span class="line">        <span class="comment">//AssetBundle ab = AssetBundle.LoadFromFile(path);</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span>/加载Lua文件 返回</span></span><br><span class="line">        <span class="comment">//TextAsset tx = ab.LoadAsset&lt;TextAsset&gt;(filePath + &quot;.lua&quot;);</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span>/加载Lua文件 byte数组</span></span><br><span class="line">        <span class="comment">//return tx.bytes;</span></span><br><span class="line">        <span class="comment">//通过我们的AB包管理器 加载的lua脚本资源</span></span><br><span class="line">        TextAsset lua = ABMgr.GetInstance().LoadRes&lt;TextAsset&gt;(<span class="string">&quot;lua&quot;</span>, filePath + <span class="string">&quot;.lua&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (lua != <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> lua.bytes;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            Debug.Log(<span class="string">&quot;MyCustomABLoader重定向失败，文件名为：&quot;</span> + filePath);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 传入lua文件名 执行lua脚本</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;fileName&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DoLuaFile</span>(<span class="params"><span class="built_in">string</span> fileName</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">string</span> str = <span class="built_in">string</span>.Format(<span class="string">&quot;require(&#x27;&#123;0&#125;&#x27;)&quot;</span>, fileName);</span><br><span class="line">        DoString(str);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 执行Lua语言</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;str&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DoString</span>(<span class="params"><span class="built_in">string</span> str</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(luaEnv == <span class="literal">null</span>) &#123;</span><br><span class="line">            Debug.Log(<span class="string">&quot;解析器为初始化&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        luaEnv.DoString(str);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 释放lua 垃圾</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Tick</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (luaEnv == <span class="literal">null</span>) &#123;</span><br><span class="line">            Debug.Log(<span class="string">&quot;解析器为初始化&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        luaEnv.Tick();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 销毁解析器</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Dispose</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (luaEnv == <span class="literal">null</span>) &#123;</span><br><span class="line">            Debug.Log(<span class="string">&quot;解析器为初始化&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        luaEnv.Dispose();</span><br><span class="line">        luaEnv = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>基本上这样就封装好了，具体的使用就比较容易了</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化解析器</span></span><br><span class="line">LuaMgr.GetInstance().Init();</span><br><span class="line"><span class="comment">//执行lua脚本</span></span><br><span class="line">LuaMgr.GetInstance().DoLuaFile(<span class="string">&quot;main&quot;</span>); <span class="comment">//这里会调用MyCustomLoader，然后判断文件是否存在，若存在则读取打印出所有</span></span><br></pre></td></tr></table></figure><div class="tip bolt"><p>我的博客即将同步至腾讯云开发者社区，邀请大家一同入驻：<a href="https://cloud.tencent.com/developer/support-plan?invite_code=2hc8e6q8fxa8w">https://cloud.tencent.com/developer/support-plan?invite_code=2hc8e6q8fxa8w</a></p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;其实热更新的原理比较简单，就是本地的客户端与资源服务器进行比对相关信息与文件，然后从资源服务器获取到需要更新的资源与代码逻辑，从而完成热更新,效果图如下:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdnimage.gmcj0816.top/hotupdate_yu</summary>
      
    
    
    
    <category term="🦋热更新" scheme="https://blog.gmcj0816.top/categories/%F0%9F%A6%8B%E7%83%AD%E6%9B%B4%E6%96%B0/"/>
    
    
    <category term="Unity" scheme="https://blog.gmcj0816.top/tags/Unity/"/>
    
    <category term="热更新" scheme="https://blog.gmcj0816.top/tags/%E7%83%AD%E6%9B%B4%E6%96%B0/"/>
    
    <category term="Lua" scheme="https://blog.gmcj0816.top/tags/Lua/"/>
    
    <category term="xLua" scheme="https://blog.gmcj0816.top/tags/xLua/"/>
    
  </entry>
  
  <entry>
    <title>Unity3D网络开发基础</title>
    <link href="https://blog.gmcj0816.top/posts/88470508/"/>
    <id>https://blog.gmcj0816.top/posts/88470508/</id>
    <published>2023-02-03T13:07:49.000Z</published>
    <updated>2023-04-13T10:00:21.309Z</updated>
    
    <content type="html"><![CDATA[<div class="note red no-icon flat"><p>Unity是 实时3D互动内容创作和运营平台 。包括游戏开发、美术、建筑、汽车设计、影视在内的所有创作者，借助 Unity 将创意变成现实。Unity 平台提供一整套完善的软件解决方案，可用于创作、运营和变现任何实时互动的2D和3D内容，支持平台包括手机、平板电脑、PC、游戏主机、增强现实和虚拟现实设备。简单来说，Unity3D不单单可以做游戏，还可以通过相关接口与API来进行设备的交互【例如虚拟仿真】</p></div><h1 id="一-网络简述"><a href="#一-网络简述" class="headerlink" title="一.网络简述"></a>一.网络简述</h1><div class="note blue no-icon flat"><p>其实对于前端开发者来说呢，不单单要学会前端的，你还要知道如何去调取后台的接口，网络的意义通俗的来讲，便是打破纯客户端的操作，即单机游戏，让服务端参与其中，作为客户端之间能够互相交互介质</p></div><h2 id="1-网络的概念"><a href="#1-网络的概念" class="headerlink" title="1.网络的概念"></a>1.网络的概念</h2><p>网络是由如果敢设备和连接这些设备的链路构成，各种设备间接或者直接通过介质相连</p><p>当设备之间想要信息传递时，将想要传递的数据编码为2进制数值便更可以被有效的传输（二进制中1是通过产生一个正电压来传输的，二进制中0是通过产生一个负电压类传输的）</p><p>简单来说：网络的出现便是让设备之间能够相互通信，最大程度的解决设备之间的相互孤立的弊端</p><h2 id="2-网络的类型"><a href="#2-网络的类型" class="headerlink" title="2.网络的类型"></a>2.网络的类型</h2><p>（这里就简单来说，其实知道大概意思就行）</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 网络：由若干设备和连接这些设备的链路构成，设备间可以相互通信</span><br><span class="line">2. 局域网：指某一个小区域内由多台设备互联成的计算机组</span><br><span class="line">3. 以太网：网络连接的一种规则，定义了连接传输规范</span><br><span class="line">4. 城域网：是在一个城市范围内所建立的网络，几十到一百公里</span><br><span class="line">5. 广域网：是连接不同地区、城市、国家的远程网络，几十到几千公里</span><br><span class="line">6. 互联网（因特网）：是目前国际上最大的互联网，定义了通信规则等</span><br><span class="line">7. 万维网：是基于因特网的网站和网页的统称</span><br></pre></td></tr></table></figure><h1 id="二-网络基础"><a href="#二-网络基础" class="headerlink" title="二.网络基础"></a>二.网络基础</h1><h2 id="1-IP地址"><a href="#1-IP地址" class="headerlink" title="1.IP地址"></a>1.IP地址</h2><p>基本来说呢，IP地址用术语来说，</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">是指互联网协议地址（网际协议地址），是IP协议提供的一种统一的地址格式，同样也是设备在网络中的具体地址。</span><br></pre></td></tr></table></figure><p>这样来说确实不太好理解，简单来说呢IP地址可以看作为设备的家庭地址，IP地址之间的传输，可以看作为需要用自己设备的电话号码去拨打他人的设备的电话号码，他人同意接收呢，才能够真正的打通。</p><h3 id="1-1按照IP协议分类"><a href="#1-1按照IP协议分类" class="headerlink" title="1.1按照IP协议分类"></a>1.1按照IP协议分类</h3><p>其实IP协议可以分为IPv4和IPv6两个</p><ul><li>IPv4</li></ul><p>简单说：就是互联网协议第四版，由四个数组成，取值范围从0~255，每个数以.来分隔</p><p>这里需要的注意的便是，不同类段的IP地址代表不同的，具体如下表</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">A类：0.x.x.x~127.x.x.x （32位2进制最高位为0，适用于网内主机数达1600万台的大型网络）</span><br><span class="line">--这个举例便是例如轻量级服务器，这个建议大家去学习用一下，毕竟现在是云服务的时代了嘛</span><br><span class="line">B类：128.x.x.x~191.x.x.x（32位2进制最高2位为10，适用于中等规模网络，每个网络能容纳6万台设备，）</span><br><span class="line">--这个在我们生活中见到比较多的，一般我们常常用到</span><br><span class="line">C类：192.x.x.x~223.x.x.x（32位2进制最高3位为110，适用小规模局域网，每个网内最多只包含254台设备，）</span><br><span class="line">D类：224.x.x.x~239.x.x.x（32位2进制最高4位为1110，属于特殊类型IP，一般为广播地址）</span><br><span class="line">E类：240.x.x.x~255.x.x.x（32位2进制最高5位为11110，作为特殊使用）</span><br></pre></td></tr></table></figure><ul><li>IPv6</li></ul><p>其实IPv6可以作为对IPv4存在有限性的不足，而设计出来的【据目前来看基本是无限的，但是未来不代表不会出现，但是基本那会很久久以后了吧】</p><p>IPv6是互联网协议第六版，由八个数组成，每个数取值范围是0~65535 每个数用 : 来分隔</p><p>举个例子</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0:0:0:0:0:0:0:0~65535:65535:65535:65535:65535:65535:65535:65535</span><br></pre></td></tr></table></figure><h3 id="1-2按照使用范围分类"><a href="#1-2按照使用范围分类" class="headerlink" title="1.2按照使用范围分类"></a>1.2按照使用范围分类</h3><font color =red> 其实基本就是公网和内网，这个玩过Linux，云服务器，虚拟主机的都知道，如果说这个有啥区别，简单来说就是<strong>公网IP可以在百度中查询到，内网/私网不能上网，只可局域网内部通信</strong></font><ul><li><p>公网IP：</p><p> 用于连接外网，想要和远程设备进行通信时使用的IP地址 查看方式：百度搜索IP地址查询 便可以查看到公网IP </p></li><li><p>私网IP： </p><p>也称局域网IP，私网IP不能上网，只用于局域网内通信：查看方式：控制台输入ipconfig</p></li></ul><h2 id="2-端口"><a href="#2-端口" class="headerlink" title="2.端口"></a>2.端口</h2><p>如果说IP地址我们可以在网络上找到一台设备，但仅仅只是找到这台设备，我们想要完成和设备通信，本质上是和运行在设备上的某一个应用程序进行通信 而一台设备上可能运行n个应用程序，而端口号就是用来区分这些应用程序的 让我们可以明确到底是和哪一个应用程序进行通信，这便是端口的意义。</p><font color=red>【简单来说：IP地址决定了设备在网络中的具体地址，而端口是不同应用程序在该设备上的门牌号码，一台设备上不同的应用程序想要进行通信就必须对应一个唯一的端口号，<strong>也就是说想找到人家不单单要知道位置哪个省市区村，还要知道门牌号，不同人家不可能用同一个门牌号</strong>】</font><p>端口号的取值范围：0~~65535（这里需要注意的便是端口不能与其他应用服务程序相同，并且最好是端口号要大于1024，以免不必要的冲突）</p><h2 id="3-Mac地址"><a href="#3-Mac地址" class="headerlink" title="3.Mac地址"></a>3.Mac地址</h2><h3 id="3-1定义"><a href="#3-1定义" class="headerlink" title="3.1定义"></a>3.1定义</h3><p>直译为媒体存取控制地址，也称局域网地址，Mac地址，以太网地址，物理地址</p><p>它是用来确认网络设备位置的地址，在OSI模型中，第三层网络层负责IP地址，第二层数据链路层 则负责Mac地址，Mac地址是用于在网络中唯一标识一个网卡的，一台设备可以有多个网卡，每个 网卡都会有一个唯一的Mac地址 </p><p>在早期，单单用Mac地址便可以实现两台设备间的通信，但随着设备的增多，Mac地址虽然 具备唯一性但是并不携带位置信息，这就造成：</p><div class="note orange no-icon flat"><p>若有5台设备，1想要发送信息到5，需要以广播的方式来发送到每台设备中，每台设备与自身的Mac地址进行对比，不同就抛弃，相同则通信，这所造成的便是网络的浪费。</p></div><p>所以才有了IP地址来定位网络中的设备</p><h3 id="3-2基本构成"><a href="#3-2基本构成" class="headerlink" title="3.2基本构成"></a>3.2基本构成</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MAC地址的长度为48位(6个字节)，通常表示为12个16进制数</span><br><span class="line">如：00-16-EA-AE-3C-40就是一个MAC地址</span><br><span class="line">前3个字节，16进制数00-16-EA代表网络硬件制造商的编号，它由IEEE(电气与电子工程师协会)分配</span><br><span class="line">后3个字节，16进制数AE-3C-40代表该制造商所制造的某个网络产品(如网卡)的系列号</span><br></pre></td></tr></table></figure><h3 id="3-3与IP地址的区别"><a href="#3-3与IP地址的区别" class="headerlink" title="3.3与IP地址的区别"></a>3.3与IP地址的区别</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MAC地址就像身份证号，IP地址就好像你的住址。</span><br><span class="line">MAC地址是物理层面上通信的基础，IP地址是逻辑层面上通信的基础</span><br></pre></td></tr></table></figure><font color=red><strong>简单来说便是如下：</strong></font><div class="note green no-icon flat"><p>在网络通信中 我们通过IP地址 以及 端口号定位想要通信的远端计算机中的某一个应用程序 </p><p>IP地址 = 设备在外网中位置 </p><p>端口 = 运行在该设备上的应用程序位置 </p><p>Mac地址 = 设备进行网络通信的唯一标识，设备真正进行物理信息传输用来定位的标识</p></div><h2 id="4-客户端"><a href="#4-客户端" class="headerlink" title="4.客户端"></a>4.客户端</h2><p>其实客户端比较好理解，便是用户使用的设备（包括电脑，手机，平板等），用户可以安装所需要的应用程序，来直接使用操作的内容，而现在火的Unity，UE4/5，Laya等开发引擎本质是客户端应用程序，是用户操作用的</p><h2 id="5-服务端"><a href="#5-服务端" class="headerlink" title="5.服务端"></a>5.服务端</h2><p>其便是为客户端服务的设备，因为其服务的可能是多台，乃至上百台，因此服务端设备性能一般要求较高。其是以下的统称（服务端应用程序，服务器，后端，Server），其实服务端的作用便是能够在远端计算机为游戏客户端提供消息分发，数据存储，逻辑处理等服务的服务端应用程序【这里包括用C++，C#以及Java等语言开发的程序】</p><p>这里就延伸出网络游戏</p><h1 id="三-数据通信模型"><a href="#三-数据通信模型" class="headerlink" title="三.数据通信模型"></a>三.数据通信模型</h1><h2 id="早期"><a href="#早期" class="headerlink" title="早期"></a>早期</h2><p>其实在早前的数据通信模型，考虑到有效利用计算机，因此大体可分为三种：</p><ul><li>分散式</li></ul><p>在分散式系统中，用户只负责管理自己的计算机系统，各自独立的系统之间没有资源或 信息的交换和共享。就类似一台台没有联网的设备</p><p>这种模式由于存在大量共享数据的重复存储，除了引起数据冗余之外，也容易导致一个 组织内各部门数据的不一致性。 同时还会造成硬件、支持和运营维护等成本的大量增加，因此早被淘汰</p><ul><li>集中式</li></ul><p>在集中式环境中，用一台主计算机保存一个组织的全部数据，而用户则通过设备连接到 这台计算机系统并和它通信，从而达到访问数据的目的 </p><p>优点：方便数据共享、消除了数据的冗余和不一致性</p><p> 缺点：可靠性不如分散式，主机出现故障所有系统全部瘫痪</p><ul><li>分布式</li></ul><p>分布式是分散式和集中式的混合，类似我们学习过的计算机网络 是分散式的水平交互和集中式的垂直控制相结合的一种模式 </p><p>它兼具了分散式和集中式的优点 方便数据共享、消除了数据的冗余和不一致性，同样也加强了容错性</p><h2 id="目前主流"><a href="#目前主流" class="headerlink" title="目前主流"></a>目前主流</h2><ul><li>C/S模型（C/S模式）</li></ul><p>C代表Client，也就是客户端，S代表Server，即服务端，所代表的便是客户端/服务端模式【目前所主流通信模型】</p><ul><li>B/S模型（B/S模式）</li></ul><p>这个一般做Web开发或者Java开发的比较熟悉，它是一种基于Web的通信模型，使用HTTP超文本传送协议通信 B/S是一种特殊的C/S模型，特殊之处就是这种模型的客户端不需要我们自己开发 一般是某种浏览器，比如IE、Chrome、QQ浏览器、360浏览器等等</p><p>其优点便是：单台计算机可以访问任何一个Web服务器</p><p>这里还是拿一个参照表来对比两个模型的区别</p><p><img src="https://tse4-mm.cn.bing.net/th/id/OIP-C.OsNAm5gT1_ajKUMgCc-UbAHaEK?pid=ImgDet&amp;rs=1" alt="B/S和C/S的区别"></p><ul><li>P2P模型</li></ul><p>P2P(Peer-to-Peer)模型也叫对等互联 </p><p>每个联网的设备同时运行一个应用程序的<font color=red><strong>客户端（Client）</strong></font>和<font color=red><strong>服务端（Server）</strong></font>部分 也就是说一个应用程序同时作为客户端和服务端 </p><p>优点是通信方便，成本低 </p><p>缺点是可靠性不如C/S模型</p><center>未完待续</center>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note red no-icon flat&quot;&gt;&lt;p&gt;Unity是 实时3D互动内容创作和运营平台 。包括游戏开发、美术、建筑、汽车设计、影视在内的所有创作者，借助 Unity 将创意变成现实。Unity 平台提供一整套完善的软件解决方案，可用于创作、运营和</summary>
      
    
    
    
    <category term="网络开发" scheme="https://blog.gmcj0816.top/categories/%E7%BD%91%E7%BB%9C%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="Unity" scheme="https://blog.gmcj0816.top/tags/Unity/"/>
    
    <category term="U3D" scheme="https://blog.gmcj0816.top/tags/U3D/"/>
    
    <category term="C#" scheme="https://blog.gmcj0816.top/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>新年快乐，2023一路前行</title>
    <link href="https://blog.gmcj0816.top/posts/a2312eaa/"/>
    <id>https://blog.gmcj0816.top/posts/a2312eaa/</id>
    <published>2023-01-22T02:38:43.000Z</published>
    <updated>2023-04-13T09:57:16.827Z</updated>
    
    <content type="html"><![CDATA[<p>今天是2023年的第一天，也是传统的大年初一，过去的新年是鞭炮连天起，拜年拜到红包拿到手发软，虽然现在有所变化，烟花限放政策已经成为大河北的惯例，但是新年还是要有新年的样子，不能单单是一个形式。<br>经历这三年困难的时光之后，我真的真的希望各位身体健康不生任何病，每天能够平平安安的生活，希望新的一年生活的开开心心，希望新的一年财源滚滚。<br>阴霾已经散去，阳光更加温暖。愿疫情过后的2023年春暖花开之时，人长久。海有舟可渡，山有路可行。余下岁月，无灾难。</p><p><img src="https://mcdn.jschina.com.cn//XJS/publish/20230107/1673076981077018057.jpg" alt=""></p><div class="note red no-icon flat"><p>1.开发自己的独立游戏代号：《曙光重生》；</p><p>2.坚持运营自己的公众号和博客网站；</p><p>3.祝愿自己的2023年的最后半年毕业设计圆满结束，拿到属于自己的学位证和毕业证；</p><p>4.希望身边的人都能健健康康的，平平安安的，待春暖花开来临之时，友谊长存，最爱的那个”傻狍子”好好的；</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;今天是2023年的第一天，也是传统的大年初一，过去的新年是鞭炮连天起，拜年拜到红包拿到手发软，虽然现在有所变化，烟花限放政策已经成为大河北的惯例，但是新年还是要有新年的样子，不能单单是一个形式。&lt;br&gt;经历这三年困难的时光之后，我真的真的希望各位身体健康不生任何病，每天能够</summary>
      
    
    
    
    <category term="🥤启航2023" scheme="https://blog.gmcj0816.top/categories/%F0%9F%A5%A4%E5%90%AF%E8%88%AA2023/"/>
    
    
    <category term="2023新年" scheme="https://blog.gmcj0816.top/tags/2023%E6%96%B0%E5%B9%B4/"/>
    
  </entry>
  
  <entry>
    <title>关于我的备案总结</title>
    <link href="https://blog.gmcj0816.top/posts/25c2e781/"/>
    <id>https://blog.gmcj0816.top/posts/25c2e781/</id>
    <published>2023-01-17T11:56:17.000Z</published>
    <updated>2023-04-13T09:55:53.606Z</updated>
    
    <content type="html"><![CDATA[<div class="note red no-icon flat"><p>突然转眼自己的ICP备案和公安备案都已经过去快半年了，总的来说感觉这两个备案都还是比较快的，既然备案都快半年了，起码还是有一些话语权的嘛，总得有一个总结来记录和分享整个自己的备案历程</p></div><h1 id="ICP备案"><a href="#ICP备案" class="headerlink" title="ICP备案"></a>ICP备案</h1><ol><li>备案要求</li></ol><p>总得来说网站备案主要是使用的是国内的服务器或者服务器在国内的小伙伴，如果使用Github或者Vercel部署的就没什么必要备案了，因为也备案不了，就拿腾讯云举例子吧，以下便是腾讯云ICP备案的要求</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">所购买的是中国大陆地区的云服务器（中国香港地区及境外地区的云服务无需进行备案，也不能用于备案）。</span><br><span class="line">云服务器的计费模式需为包年包月（暂时不支持按量计费的云服务器进行备案）。</span><br><span class="line">有公网IP（购买云服务器时，带宽不能为0）。</span><br><span class="line">购买时长不少于3个月且尚未到期（如购买时长不足3个月，需进行续费，使购买时长不少于3个月）。</span><br><span class="line">同一云服务器实例备案的网站不超过5个。</span><br></pre></td></tr></table></figure><div class="note red no-icon flat"><p>补充一下:如果是未成年人（法定年龄低于18周岁的小伙伴无法备案，还是先要以学业为重，这里感谢<a href="https://www.codeqihan.com/">启涵的博客 (codeqihan.com)</a>的提醒）</p></div><p>一般买云服务器的小伙伴这些要求还是都还是可以满足的，下面就开始ICP备案咯，这里可能会问，<mark class="hl-label blue">为什么不可以先公安备案呢</mark> ，问就因为这是<mark class="hl-label blue">乌龟的屁股</mark> ，<mark class="hl-label red">“铁定的规定”</mark> </p><p>不备案的坏处便是</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">出于安全原因，你要对你的网站负责，也要为网络安全负责，更是遵守相关法律法规，会对你的网站就行拦截，你的网站无法进行浏览与使用</span><br></pre></td></tr></table></figure><ol><li>ICP备案材料</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">你的域名要备案,因为要提交域名证书</span><br><span class="line">单位性质，一般就填个人就可以</span><br><span class="line">负责人的证件照【这个一定要清晰，而且要保证背景清晰】</span><br><span class="line">负责人的证件正反面【建议保持光线一致，而且证件每个信息都清晰（第一次失败就因为这个原因）】、、</span><br><span class="line">你的个人信息</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>网站名称【这个极其重要】，需是3个汉字以上命名，不能填写博客、空间、网站、网络、网址、导航、主页等，详见下图禁止使用的词汇。</p><p><img src="https://pic1.zhimg.com/v2-746a8cab117c63f6f5ca8d0e4f187170_r.jpg" style="zoom:80%;" /></p><p>以下是一些网站名称建议：</p><div class="note green no-icon flat"><p>工作经验分享类网站： 网页制作经验谈、小工具应用、XXX的研发日志、前端经验分享、自动化测试开源、文字极客、个人开发测试使用网站、PHP 开发等。</p><p>摄影作品分享： 我的照片墙、雕刻时光、我的摄影小空间、我的作品展览等。</p><p>个人生活感悟： 人生百味、吃货分享、美食分享、快乐小窝、柠檬草的味道、一起考研吧、怀念时光、时光飞逝、电影爱好小分享、个人杂货铺、我的生活秀等。</p></div><ol><li>备案流程</li></ol><p>其实谁买服务器还没一个服务商了，国内的云服务厂商，比如“阿里云”，“腾讯云”，“百度智能云”都是有“幕布”的哦，这可正经八辈的正常程序，其作用便是</p><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10102;</span>减少重复审核的时长问题，如果自己提交到管局审核，原则上3-22个工作日，但是一般都需要10多天，所以来回驳回在提交时间可不短哦；</p><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10103;</span>为不了解如何ICP备案提供支持，因为一般小伙伴都是第一次准备这个东西，官方提供对你所提交的ICP备案审核，就拿我当时百度智能云提交ICP备案，好像1-2天就有官方联系你，对你提交的信息进行纠正，一般按照官方人员的提示改正就能够备案成功，这里要提醒的便是<mark class="hl-label red">一定要保持电话畅通!</mark> <mark class="hl-label red">一定要保持电话畅通!</mark> <mark class="hl-label red">一定要保持电话畅通!</mark> ,这电话可不会害你哦，是在帮你。</p><p>一般流程如下（以百度智能云为例）：</p><p>填写信息→ 百度智能云初审 → 短信核验 → 管局终审 → 备案后处理</p><p>这个基本在国内云服务器厂商都会有备案进入窗口</p><p>百度智能云的地址：<a href="https://beian.bce.baidu.com/beian/web/validate">百度智能云-备案系统 (baidu.com)</a></p><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10102;</span>填写完个人信息【包括第二个备案材料中的所有信息，这里要记住<mark class="hl-label purple">网站名称千万要注意哦，我的就是七鳄学习格</mark> 】，这不仅突出了我网站的作用时学习与分享，而且符合要求</p><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10103;</span>你提交完就会初审，对你的个人信息进行审核，如果没有问题就会让你<mark class="hl-label purple">短信核验</mark> 了，这个一定要核验，不然你等于没申请一样，然后就是管局审核咯，官方说的3-22个工作日，这个还是和所在省份有区别的<mark class="hl-label red">(重申一遍，管局审核不同地区，不同时长，具体时长要看所在省市，这个无法统一)</mark> ，河北一般就得15-20个工作日吧，但是广东好像7-9天就可以，可能河北人多吧；</p><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10104;</span>到时候管局审核完就会短信提醒你，你的网站信息在管局就能看到了，记得把icp备案号放到网站底部哦，以免不必要的问题；</p><h1 id="公安备案"><a href="#公安备案" class="headerlink" title="公安备案"></a>公安备案</h1><p>公安备案在ICP备案之后，其实一般还是要看你所在的省市政策，还有就是你的地址在哪，原则上网站都是需要<mark class="hl-label red">ICP备案</mark> 和<mark class="hl-label red">公安备案</mark> 的，但是如果没有强制性备案的话，可以选择性选择备案与否，但是以防后面不必要的问题，还是建议公安备案，因为如果后面有事来不及拦截了就得不偿失了</p><ol><li>网站开办主体</li></ol><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10102;</span>这里基本就填写个人即可，然后填写自己的身份证信息，家庭住址（这里建议留的是你常驻地，因为审核也是常驻地审核下发备案号），还是比较简单的，也没什么好说的</p><p><img src="https://pic.gmcj0816.top/image/gov (6).png" style="zoom:80%;" /></p><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10103;</span>以上全部填写完成后会让你核对一下，应该没什么问题就可以点击下一步了</p><p><img src="https://pic.gmcj0816.top/image/gov (3).png" style="zoom:80%;" /></p><ol><li>负责人信息</li></ol><p><img src="https://pic.gmcj0816.top/image/gov (2).png" style="zoom:80%;" /></p><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10102;</span>负责人：填写你的姓名和联系电话;</p><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10103;</span>证件信息：如实填写并上传证件照片，这里不仅包括证件的照片，还有你手持身份证的照片，一定要双手举着身份证，并保持信息清晰可见哦；</p><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10104;</span>负责人常驻地址：这个一定要填写你长期居住的地方，不要填写临时地址，因为提交审核也是按照你填写最近的区级/县级公安部门审核;</p><ol><li>网站信息</li></ol><p>可能前面的比较简单，但是后面的网站信息填写才是重中之重，一定要谨慎哦</p><p><img src="https://pic.gmcj0816.top/image/gov_web.png" style="zoom:80%;" /></p><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10103;</span>网站名称：与你ICP备案网站名称一致;</p><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10103;</span>是否工信部备案:最好先ICP备案后公安备案，因为这样方便，而且审核容易；</p><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10104;</span>网站域名与IP：这个按照实际填写，域名证书可以到你的域名服务商获取，IP填写公网IP</p><p><img src="https://pic.gmcj0816.top/image/gov_web02.png" style="zoom:80%;" /></p><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10102;</span>服务器运营商：可以点击<mark class="hl-label red">“查询网络接入服务商”</mark> 查看并填写</p><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10103;</span>域名注册商：点击<mark class="hl-label red">“查询域名注册服务商”</mark> 查看并填写，基本没什么难度</p><p><img src="https://pic.gmcj0816.top/image/gov (5).png" style="zoom:80%;" /></p><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10102;</span>服务类型：这个需要注意一下，如果在<mark class="hl-label red">“是否提供互联网交互服务”</mark> 选择是，则简单说：便是你网站拥有<mark class="hl-label red">评论功能或者聊天交互功能</mark> ，如果选择否，公安部门审核后便会进行下发备案号，但是如果选择是，则需要线下进行审核，然后下发备案号，这个需要大家进行考量 ，<mark class="hl-label red">这里七鳄提醒您：严格遵守法律法规，如实填写相关信息，切勿传播违法信息"</mark> ；</p><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10103;</span>互联网危险物品信息发布：这个一般不涉及，直接选择否即可</p><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10104;</span>前置许可：一般是企业所涉及的，这里选择否即可</p><p><span style="color:#0000ff;padding:0;font-size:1.35em">&#10105;</span>网络语种：按照自己实际填写即可（这里七鳄直接是中文简体和中文繁体），原因便是爱国</p><ol><li>责任书</li></ol><p>最后一个是一封《网络安全责任告知书》，还是认真看看咯，然后选择我已知晓即可，然后就等1-7个工作日就ok了，如果有网警让你去线下审核一定要积极尽早去哦</p><div class="tip success"><p>想啥呢，结束了，基本这就是我的双备案历程咯，如果有问题还是可以在评论处评论的哦，看到了就尽量回复，最后还是那就话：“严格遵守法律法规，如实填写相关信息，切勿传播违法信息”</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note red no-icon flat&quot;&gt;&lt;p&gt;突然转眼自己的ICP备案和公安备案都已经过去快半年了，总的来说感觉这两个备案都还是比较快的，既然备案都快半年了，起码还是有一些话语权的嘛，总得有一个总结来记录和分享整个自己的备案历程&lt;/p&gt;
&lt;/div&gt;</summary>
      
    
    
    
    <category term="🦄博客魔改" scheme="https://blog.gmcj0816.top/categories/%F0%9F%A6%84%E5%8D%9A%E5%AE%A2%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Butterfly" scheme="https://blog.gmcj0816.top/tags/Butterfly/"/>
    
    <category term="备案" scheme="https://blog.gmcj0816.top/tags/%E5%A4%87%E6%A1%88/"/>
    
  </entry>
  
  <entry>
    <title>Say-Bye 我的2022</title>
    <link href="https://blog.gmcj0816.top/posts/51d4821b/"/>
    <id>https://blog.gmcj0816.top/posts/51d4821b/</id>
    <published>2023-01-04T13:14:45.000Z</published>
    <updated>2023-04-13T10:01:24.911Z</updated>
    
    <content type="html"><![CDATA[<div class="note red no-icon flat"><p>马上就到2023年了，想想就开心，想了半天如何总结，那就写个文章吧！！！</p></div><p>正如好多人都说过的：时间真的是转瞬即逝，前一秒还是元旦，下一秒2022即将成为过去式，这一年或喜或悲，或有所收获，或有所丢失，2022用一个字来总结便是：“悦”；</p><p><span style="color:#0000ff;padding:0;font-size:1.45em">&#10102;</span><mark class="hl-label red">“悦”过了</mark> ，3年疫情过后，行程卡一去不复返，每天催你做核酸的日子不会回来，一切安好安在，一切在2023年春暖花开之时，一切都能回来；</p><p><span style="color:#0000ff;padding:0;font-size:1.45em">&#10103;</span><mark class="hl-label red">“悦”过了</mark> ，在成年后的今天能够以一个独立的个体去在社会中成长，学会了许多道理，也学会了为人处世，更看到了另一面；</p><p><span style="color:#0000ff;padding:0;font-size:1.45em">&#10104;</span><mark class="hl-label red">“悦”过了</mark> ，要努力的一天都要从早上睁眼开始，以心安结束，但是学到了很多东西，也努力做了很多，拥有了自己的云服务器，自己的博客网站，云盘网站；</p><h2 id="关于游戏开发"><a href="#关于游戏开发" class="headerlink" title="关于游戏开发"></a>关于游戏开发</h2><p>这一年还是比较不平凡的，尝试过<mark class="hl-label blue">独立游戏</mark> ，但是还是以<mark class="hl-label orange">夯实为主</mark> 吧！！！不过还是回想一下，自己真的做了几个好玩点的游戏（虽然是有些荒废了，但是还是可以东山再起的嘛）</p><p><img src="https://blog.gmcj0816.top/img/zuopin_01.png" style="zoom: 50%;" /></p><iframe src="//player.bilibili.com/player.html?aid=306622144&bvid=BV1BA411X7xH&cid=932954943&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" width="100%" height="500"> </iframe><h2 id="关于学业"><a href="#关于学业" class="headerlink" title="关于学业"></a>关于学业</h2><p>其实转眼成为大学生，2022年应该是第4年头了，但是学业还没有修完，因为自己是专升本上来的，然后就是3年专科的浑浑噩噩，2年努力换之前懒惰的债，但是还好吧，现在是大四了，马上就可以离开学校了，都说离开学校要对学校多一分尊敬与推荐，转观念想了一下，学校还算可以吧，那就给来个推广吧！！！</p><p><img src="http://photocq.photo.store.qq.com/psc?/V11KD1s64EkH6c/NrBG0KpF3EQEf3NYGEmEN0hoybYOUxaIksYsByfWR48KHD0u9TErIepbNu2uEdyqqaJJuDGAYKvmIXOrQY5KHg!!/b&bo=CAf5AwAAAAARB8U!&rf=viewer_4" style="zoom:35%;" /></p><h2 id="关于博客"><a href="#关于博客" class="headerlink" title="关于博客"></a>关于博客</h2><p>2022年下半年暑假自己真正地去经营这个博客，本来想的便是能够运行就可以了，但是后来发现有很多放到别处代理，然后再将每个零七八碎的合并在一起，真的超级局限；可以设想一下：我把一个车的零部件拆散成多个小零件，然后到用的时候在合在一起不是很累吗 </p><p>所以在7月份就下了一个决定，购买一套属于自己的<mark class="hl-label red">轻量级服务器</mark> ，后来就<mark class="hl-label red">ICP备案</mark> 和<mark class="hl-label red">公安备案</mark> 呗，不过因为自己手续齐全，还是比较顺利的实现了所有的东西，后来就有了独立的<mark class="hl-label red">博客网站</mark> ，也写了一些文章。</p><p><img src="https://cdnimage.gmcj0816.top/icp.jpg" alt="icp备案" style="zoom:50%;" /></p><p><img src="https://cdnimage.gmcj0816.top/gongan.jpg" alt="icp备案" style="zoom:50%;" /></p><h2 id="关于曾经的疫情"><a href="#关于曾经的疫情" class="headerlink" title="关于曾经的疫情"></a>关于曾经的疫情</h2><p>从2019年底新冠疫情的悄然来临到湖北武汉，然后是整个中国都在陆陆续续的爆发疫情，再到2022年冠状肺炎的风险等级下调，行程卡退出历史舞台，我们再也看不到大白的<mark class="hl-label orange">“全员核酸”</mark> 的日子，想来真的有点伤感，但是我们走过了艰难却很欣慰的3年，这个可能是我们90后的第二个比较大的疫情（怎么感觉说老了，无所谓了），但是我们都安全的挺过来了，觉得国家真的很努力去保障国人的每一次健康。</p><p><img src="https://cdnimage.gmcj0816.top/xingchengka.jpg" style="zoom:50%;" /></p><p>当真的放开，我们不再做核酸，不再查看<mark class="hl-label orange">“核酸报告”</mark> 和<mark class="hl-label orange">“场所码”</mark> ，才突然觉得新冠肺炎最近的时候原来只是近距离，但是确是最轻的毒株—-奥美克戎，这不得不感谢祖国保护的3年，他帮我们挺过了最难得3年，选择了最应该突破却很容易突破的时间点留给了我们去独自面对，我们的免疫终于开始了养兵千日用兵一时的时候，或难受，或痛苦，但是这可能是最应该面对的时候，可能2023年终究是那个<mark class="hl-label green">“黑兔年”</mark> ，我们不再去害怕疫情，不再害怕家里人承受痛苦，更不害怕家人的离别与不舍，待2023年<mark class="hl-label green">春暖花开</mark> 之时，我们依然都在！！！</p><p><img src="https://img.zcool.cn/community/01a3635e56485ca80120a895c15691.jpg@1280w_1l_2o_100sh.jpg" style="zoom:50%;" /></p><h2 id="关于技术"><a href="#关于技术" class="headerlink" title="关于技术"></a>关于技术</h2><p>转眼已经升本第二年了，好像专升本的本科总共才两年，好吧，那就说一下自己的技术点到底有什么进步吧</p><p><span style="color:#0000ff;padding:0;font-size:1.45em">&#10102;</span><mark class="hl-label orange">Unity与C#:</mark> 技术点没丢，但是总感觉自己会落后，就一直努力去学习知识，去学更多地知识点，去努力探索实际应该用到却没有学到的东西；</p><p><span style="color:#0000ff;padding:0;font-size:1.45em">&#10103;</span><mark class="hl-label orange">Java:</mark> ：其实这一年做了最大的决定便是毕设做java项目，我发现自己真的好斗胆，因为java真的应该是自己的弱项，甚至有很多个知识点自己的大脑是空白的，更何况是实现一个毕设项目呢，不过还是值得去相信自己的，因为自己本来就不太喜欢甘于平庸，喜欢去大胆地闯荡；</p><h2 id="关于生活"><a href="#关于生活" class="headerlink" title="关于生活"></a>关于生活</h2><p>本来2022年立了一个flog，就是能够回一次学校，万万没成想，真是回一次学校，下半年又是在家线上度过了，要不是我天天上课，我真以为我是不是不上学了呢？？？好吧！怪就怪哈尔滨总是有疫情吧！所以，家里又多了一个单身狗！！！过年家庭聚餐又是又问东家西家短的一年，明年我必须找对象，不找对象…..(好像也不能咋的，但是其实可能还不到时候吧！！！毕竟缘分天注定)</p><h2 id="关于我的2023"><a href="#关于我的2023" class="headerlink" title="关于我的2023"></a>关于我的2023</h2><p>最后就以习主席的<mark class="hl-label purple">新年贺词</mark> 结尾吧！！！2023一定要黑兔吉祥哦！！！！</p><iframe src="//player.bilibili.com/player.html?aid=465285559&bvid=BV1rL411L7ms&cid=473955372&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" width="100%" height="500"> </iframe>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note red no-icon flat&quot;&gt;&lt;p&gt;马上就到2023年了，想想就开心，想了半天如何总结，那就写个文章吧！！！&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;正如好多人都说过的：时间真的是转瞬即逝，前一秒还是元旦，下一秒2022即将成为过去式，这一年或喜或悲，</summary>
      
    
    
    
    <category term="🥤启航2023" scheme="https://blog.gmcj0816.top/categories/%F0%9F%A5%A4%E5%90%AF%E8%88%AA2023/"/>
    
    
    <category term="跨年" scheme="https://blog.gmcj0816.top/tags/%E8%B7%A8%E5%B9%B4/"/>
    
  </entry>
  
  <entry>
    <title>MyBatis-Plus 条件构造器QueryWrapper</title>
    <link href="https://blog.gmcj0816.top/posts/aa9026d9/"/>
    <id>https://blog.gmcj0816.top/posts/aa9026d9/</id>
    <published>2022-12-17T12:52:30.000Z</published>
    <updated>2023-04-13T10:01:39.670Z</updated>
    
    <content type="html"><![CDATA[<h2 id="QueryWrapper概念"><a href="#QueryWrapper概念" class="headerlink" title="QueryWrapper概念"></a>QueryWrapper概念</h2><p>简单来说，QueryWrapper就是咱们在使用Mybatis-plus中真实用到的一种技术，也叫作构造器</p><h2 id="QueryWrapper方法"><a href="#QueryWrapper方法" class="headerlink" title="QueryWrapper方法"></a>QueryWrapper方法</h2><ul><li>eq或者ne</li></ul><p>eq，全称equal，主要用于判断等于的</p><p>ne，全称not equal主要用于判断是否不相等（这两个是反义词）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//新建一个QueryWrapper对象</span><br><span class="line">QueryWrapper&lt;NocvNews&gt; queryWrapper=new QueryWrapper&lt;&gt;();</span><br><span class="line">//eq()相等</span><br><span class="line">queryWrapper.eq(&quot;name&quot;,&quot;七鳄&quot;);==&gt;name=&quot;七鳄&quot;</span><br><span class="line">//ne()不相等</span><br><span class="line">queryWrapper.ne(&quot;name&quot;,&quot;七鳄&quot;);==&gt;name!=&quot;七鳄&quot;</span><br></pre></td></tr></table></figure><ul><li><p>gt，ge，lt，le</p><p>gt：全称为Greater than，用于大于；</p></li></ul><p>ge：全称为Greater than or equal to，用于大于等于；</p><p>lt：全称为Less than，用于小于；</p><p>le：全称为Less than or equal to，用于小于等于</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//新建一个QueryWrapper对象</span><br><span class="line">QueryWrapper&lt;NocvNews&gt; queryWrapper=new QueryWrapper&lt;&gt;();</span><br><span class="line">queryWrapper.gt(&quot;age&quot;,18);</span><br><span class="line">queryWrapper.ge(&quot;age&quot;,18);</span><br><span class="line">queryWrapper.lt(&quot;age&quot;,18);</span><br><span class="line">queryWrapper.le(&quot;age&quot;,18);</span><br></pre></td></tr></table></figure><ul><li>between、notBetween</li></ul><p>between 是在某个范围内</p><p>notBetween 是不在某个范围内</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//新建一个QueryWrapper对象</span><br><span class="line">QueryWrapper&lt;NocvNews&gt; queryWrapper=new QueryWrapper&lt;&gt;();</span><br><span class="line">queryWrapper.between(&quot;age&quot;,11,12);</span><br><span class="line">queryWrapper.notBetween(&quot;age&quot;,11,12);</span><br></pre></td></tr></table></figure><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;QueryWrapper概念&quot;&gt;&lt;a href=&quot;#QueryWrapper概念&quot; class=&quot;headerlink&quot; title=&quot;QueryWrapper概念&quot;&gt;&lt;/a&gt;QueryWrapper概念&lt;/h2&gt;&lt;p&gt;简单来说，QueryWrapper就是咱们在</summary>
      
    
    
    
    <category term="🎯JavaEE" scheme="https://blog.gmcj0816.top/categories/%F0%9F%8E%AFJavaEE/"/>
    
    
    <category term="SpringBoot" scheme="https://blog.gmcj0816.top/tags/SpringBoot/"/>
    
    <category term="Shiro" scheme="https://blog.gmcj0816.top/tags/Shiro/"/>
    
  </entry>
  
  <entry>
    <title>使用轻量级服务器和Vercel双部署Hexo</title>
    <link href="https://blog.gmcj0816.top/posts/47c1249e/"/>
    <id>https://blog.gmcj0816.top/posts/47c1249e/</id>
    <published>2022-12-12T00:24:14.000Z</published>
    <updated>2023-04-13T09:56:42.181Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>其实将博客放到自己服务器上是半好半坏的</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">好处:</span><br><span class="line">1.不用担心别的静态部署平台有什么变化，包括唧唧了，或者涨价了；</span><br><span class="line">2.自己的其他东西也可以放到自己的服务器，比如自己开发的联机游戏；</span><br><span class="line">3.没事自己捣鼓捣鼓，对个人的技术成长和作品展示都是有好处的，也是非常有意思的事情</span><br><span class="line">坏处:</span><br><span class="line">1.国内需要ICP备案和公安备案【香港澳门等除外】；</span><br><span class="line">2.可能需要一些技术能力，比如反向代理，linux知识；</span><br></pre></td></tr></table></figure><ul><li>腾讯云</li></ul><p>马上年底了，腾讯云也推出了一些优惠活动，这个基本上新老用户都有比较合适的，而且腾讯云肯定在这方面做的比较好的了，而且你后面的ICP备案，腾讯这边是有幕布的</p><ul><li>百度智能云</li></ul><p>百度智能云虽然是后来才有的，但是无论是服务态度上还是稳定性上都挺不错的【本博主的就在这】</p><ul><li><a href="https://www.vpsaw.cn/">阿文云计算-超低价云服务器！ (vpsaw.cn)</a></li></ul><p>这一家也是可以的，最最最重要的是这家服务器不用备案，相关手续和证件比较全面，跑路的可能较低，价格方面也是可以的</p><h1 id="服务器配置"><a href="#服务器配置" class="headerlink" title="服务器配置"></a>服务器配置</h1><h2 id="安装常用工具"><a href="#安装常用工具" class="headerlink" title="安装常用工具"></a>安装常用工具</h2><p>这里主要的含义就不过多说了，基本都是常用到的</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel perl-devel</span><br></pre></td></tr></table></figure><h2 id="安装git"><a href="#安装git" class="headerlink" title="安装git"></a>安装git</h2><p>这一步可能有的在实例的时候就安装了git，大家如果不能保证自己的服务器是否安装了git，可以通过git - -version，如果能够显示以下信息就不用再重复安装了</p><p><img src="https://cdnimage.gmcj0816.top/image-20221219101559932.png" alt="image-20221219101559932.png (992×65) (gmcj0816.top)"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y git</span><br></pre></td></tr></table></figure><p>可以用<strong>git - -version</strong>查看git是否安装成功，看到以下信息说明安装完成咯</p><p><img src="https://cdnimage.gmcj0816.top/image-20221219101559932.png" alt="image-20221219101559932"></p><h2 id="创建指定的上传用户名和密码"><a href="#创建指定的上传用户名和密码" class="headerlink" title="创建指定的上传用户名和密码"></a>创建指定的上传用户名和密码</h2><p>创建后期上传hexo的git指定用户，这里以<strong>hyh</strong>为例(这个用户名可以自定义，但是要保证后面的需要用户名的地方需要改成自己自定义的用户名即可)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd hyh</span><br><span class="line">passwd hyh</span><br></pre></td></tr></table></figure><p>需要注意的便是在设置密码时，一般玩过虚拟机的都知道，主要是没玩过的，要注意设置密码时是没有回显的</p><p><img src="https://cdnimage.gmcj0816.top/image-20221219101655382.png" alt="image-20221219101655382"></p><h2 id="编辑权限文件"><a href="#编辑权限文件" class="headerlink" title="编辑权限文件"></a>编辑权限文件</h2><p>赋予hyh用户相关权限</p><font color="red">需要注意，//后面的别复制，内个是给大家做的解释</font><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod 740 /etc/sudoers   # 设置权限</span><br><span class="line">vim /etc/sudoers # 编辑/etc/sudoers</span><br></pre></td></tr></table></figure><p>使用 set: nu 显示行号，找到100行左右，添加如下信息</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root ALL=(ALL)  ALL</span><br><span class="line"><span class="deletion">- hyh  ALL=(ALL)   ALL  #主要添加这句话（这里hyh是你刚才创建的用户名）</span></span><br></pre></td></tr></table></figure><p><img src="https://cdnimage.gmcj0816.top/image-20221219102042402.png" alt="image-20221219102042402" style="zoom:75%;" /></p><p>直接<code>:wq!</code>，进行保存，保存后再次修改权限。因为 <code>sudoers</code>是只读文件，所有要使用 <code>!</code>进行保存，否则会失败。</p><p>将/etc/sudoers 修改成只读类型【为了保证服务器的安全，这个一定要做，千万不要懒哦】</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 600 /etc/sudoers   //改回权限</span><br></pre></td></tr></table></figure><h2 id="创建hexo文件夹及赋予文件夹权限"><a href="#创建hexo文件夹及赋予文件夹权限" class="headerlink" title="创建hexo文件夹及赋予文件夹权限"></a>创建hexo文件夹及赋予文件夹权限</h2><font color="red">需要注意，//后面的别复制，内个是给大家做的解释</font><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir /home/hexo  #这个也是自定义的</span><br><span class="line">chown hyh:hyh -R /home/hexo //授予权限</span><br></pre></td></tr></table></figure><h2 id="安装Nginx"><a href="#安装Nginx" class="headerlink" title="安装Nginx"></a>安装Nginx</h2><p>这里基本没啥好说的，直接运行就可以，然后看到最后一行显示Complete就说明完事了</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y nginx  </span><br></pre></td></tr></table></figure><p><img src="https://cdnimage.gmcj0816.top/image-20221219102251439.png" alt="image-20221219102251439" style="zoom:60%;" /></p><p>这个时候我们可以通过以下命令，启动一下，看看效果，如果没有报错的话就说明启动完事了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start nginx.service</span><br></pre></td></tr></table></figure><h2 id="编辑Nginx文件"><a href="#编辑Nginx文件" class="headerlink" title="编辑Nginx文件"></a>编辑Nginx文件</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure><p><img src="https://cdnimage.gmcj0816.top/image-20221219103606818.png" alt="image-20221219103606818" style="zoom:80%;" /></p><p>如果后面用https，直接复制我这套就ok了</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">server&#123;</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">        <span class="attribute">server_name</span> ceshi123.top;</span><br><span class="line">        <span class="attribute">rewrite</span><span class="regexp"> ^(.*)$</span>  https://<span class="variable">$host</span><span class="variable">$1</span> <span class="literal">permanent</span>;  <span class="comment"># http转https</span></span><br><span class="line">    &#125;</span><br><span class="line">    server&#123;</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">443</span> ssl;</span><br><span class="line">        <span class="attribute">root</span> /home/hexo;</span><br><span class="line">        <span class="attribute">server_name</span> ceshi123.top;  <span class="comment"># 请替换为你的域名</span></span><br><span class="line">        <span class="attribute">client_max_body_size</span> <span class="number">40m</span>;  <span class="comment"># 请求体上限</span></span><br><span class="line">        <span class="comment"># ssl的一些配置</span></span><br><span class="line">        <span class="attribute">ssl_certificate</span> <span class="string">&quot;/home/ssl/hexo_ssl/ceshi123.top.crt&quot;</span>;   <span class="comment"># 请务必替换成你的ssl证书路径</span></span><br><span class="line">        <span class="attribute">ssl_certificate_key</span> <span class="string">&quot;/home/ssl/hexo_ssl/ceshi123.top.key&quot;</span>; <span class="comment"># 请务必替换成你的ssl证书路径</span></span><br><span class="line">        <span class="attribute">ssl_protocols</span> TLSv1.<span class="number">1</span> TLSv1.<span class="number">2</span>;</span><br><span class="line">        <span class="attribute">ssl_ciphers</span> ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;</span><br><span class="line">        <span class="attribute">ssl_prefer_server_ciphers</span> <span class="literal">on</span>;</span><br><span class="line">        <span class="attribute">ssl_session_cache</span> shared:SSL:<span class="number">10m</span>;</span><br><span class="line">        <span class="attribute">ssl_session_timeout</span> <span class="number">10m</span>;</span><br><span class="line">    </span><br><span class="line">        <span class="attribute">error_page</span>   <span class="number">404</span>    /<span class="number">404</span>.html;</span><br><span class="line">        <span class="attribute">error_page</span>   <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span>     /50x.html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>保存退出后，重启服务器，<br>修改完配置以后，需要重启一下Nginx服务。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl reload nginx.service  </span><br></pre></td></tr></table></figure><h2 id="建立git仓库"><a href="#建立git仓库" class="headerlink" title="建立git仓库"></a>建立git仓库</h2><font color="red">需要注意，//后面的别复制</font><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">su root   //如果现在就是root用户下可以不用这一句</span><br><span class="line">cd /home/hyh</span><br><span class="line">git init --bare blog.git  //创建Git仓库</span><br><span class="line">chown hyh:hyh -R blog.git  //授予Git仓库权限</span><br></pre></td></tr></table></figure><h2 id="编辑post-receive"><a href="#编辑post-receive" class="headerlink" title="编辑post-receive"></a>编辑post-receive</h2><p>进入cd /home/hexo/blog.git/hooks/执行下方命令</p><font color="red">需要注意，//后面的别复制</font><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim post-receive   //这一句话千万别错了哦</span><br></pre></td></tr></table></figure><p>把下面的内容拷贝进去并wq!保存</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/sh</span></span><br><span class="line">git --work-tree=/home/hexo  --git-dir=/home/hyh/blog.git checkout -f</span><br></pre></td></tr></table></figure><p>再次修改权限</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x post-receive</span><br></pre></td></tr></table></figure><p>开放80端口，如果https需要开放443端口</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --permanent --zone=public --add-port=80/tcp</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><p>到这基本的工作已经完事了</p><h2 id="本地安装和配置Hexo"><a href="#本地安装和配置Hexo" class="headerlink" title="本地安装和配置Hexo"></a>本地安装和配置Hexo</h2><p>这里需要git和node，这个教程就比较多了，在这里就不进行赘述了</p><h3 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h3><p>这篇文章先以最基本的hexo为准，后面会给大家更新如何魔改</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><h3 id="初始化hexo"><a href="#初始化hexo" class="headerlink" title="初始化hexo"></a>初始化hexo</h3><p>这里myblog可以去掉，加myblog只不过是为了使所生成的文件全都放到myblog文件夹中</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo init myblog  </span><br><span class="line">cd ./myblog</span><br></pre></td></tr></table></figure><p><img src="https://cdnimage.gmcj0816.top/image-20221219104442542.png" alt="image-20221219104442542" style="zoom:75%;" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br><span class="line">npm install hexo-server --save</span><br><span class="line">npm install --save hexo-deployer-git</span><br></pre></td></tr></table></figure><p>目前基本的hexo已经ok了，本地运行一下看看</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>在浏览器中输入：<a href="http://localhost:4000/即可查看">http://localhost:4000/即可查看</a></p><p><img src="https://tse1-mm.cn.bing.net/th/id/OIP-C.1_uf_XDW2Oe0kY56_0Rd-wHaDk?pid=ImgDet&amp;rs=1" alt="本地运行效果"></p><h3 id="上传到服务器"><a href="#上传到服务器" class="headerlink" title="上传到服务器"></a>上传到服务器</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">su hyh  //登录你用来上传博客的用户</span><br><span class="line">mkdir ~/.ssh   //创建存放密钥的文件夹</span><br><span class="line">vim ~/.ssh/authorized_keys  //写入密钥</span><br></pre></td></tr></table></figure><p>这里需要一个秘钥，在你的物理机上C:\Users\Administrator\  <font color=red>.ssh</font>的文件中找到<code>id_rsa</code>文件</p><p><img src="https://cdnimage.gmcj0816.top/image-20221219104916864.png" alt="image-20221219104916864" style="zoom:67%;" /></p><p>复制到你的服务器中</p><p><img src="https://cdnimage.gmcj0816.top/image-20221219105146530.png" alt="image-20221219105146530" style="zoom:67%;" /></p><p>测试物理机与服务器能否跑通</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -v hyh@121.41.11.145 //服务器ip</span><br></pre></td></tr></table></figure><p><img src="https://cdnimage.gmcj0816.top/image-20221219105415482.png" alt="image-20221219105415482" style="zoom:60%;" /></p><p>我们需要在config.yml中的最后一行编辑以下信息，然后咱们就可以把自己的博客推送上去了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  - type: git</span><br><span class="line">    repository: hyh@121.41.11.145:/home/hyh/blog.git</span><br><span class="line">    branch: master</span><br></pre></td></tr></table></figure><p><img src="https://cdnimage.gmcj0816.top/image-20221219135835553.png" alt="image-20221219135835553" style="zoom:75%;" /></p><p>然后就可以通过以下命令进行推送了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo -d</span><br></pre></td></tr></table></figure><p>最好呢，这篇文章就基本上说完了，大家对于这篇文章有什么不懂的呢，可以在评论处评论，到时候看到会进行回复的</p><h1 id="Vercel部署"><a href="#Vercel部署" class="headerlink" title="Vercel部署"></a>Vercel部署</h1><h2 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h2><h2 id=""><a href="#" class="headerlink" title=" "></a> </h2><font color=red>这里需要注意一点便是是否希望自己的豆瓣游戏，书籍，电影等也可以在博客里进行浏览，如果需要的话，暂时可以跳过这一步骤，直接选择进行下一步</font><p>查看在博客中显示豆瓣收藏效果请点击以下链接查看</p><p>这是链接哦==&gt; <a href="https://blog.gmcj0816.top/movies/">电影推荐 | 七鳄の学习格 (gmcj0816.top)</a></p><p>Node.js官网地址如下：（正常安装即可）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://nodejs.org/zh-cn/</span><br></pre></td></tr></table></figure><h2 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://git-scm.com/downloads</span><br></pre></td></tr></table></figure><p>这里就直接正常安装，自定义安装路径，然后一路下一步即可，安装完之后，可以通过git —version查看版本（如果有版本号说明安装没问题）效果如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PS C:\Users\28138&gt; git --version</span><br><span class="line">git version 2.38.1.windows.1</span><br></pre></td></tr></table></figure><h2 id="注册GitHub"><a href="#注册GitHub" class="headerlink" title="注册GitHub"></a>注册GitHub</h2><p>使用邮箱注册 <a href="https://github.com/">GitHub: Let’s build from here · GitHub</a>账户，选择免费账户（Free），并完成邮件验证。</p><p>然后打开powershell或者选择Git Bash Here(这里列出了Git Bash Here)</p><p><img src="https://cdnimage.gmcj0816.top/git_bash.jpg" style="zoom: 50%;" /></p><ul><li>设置用户名和邮箱</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;GitHub 用户名&quot;</span><br><span class="line">git config --global user.email &quot;GitHub 邮箱&quot;</span><br></pre></td></tr></table></figure><ul><li>创建 SSH 密匙：</li></ul><p>输入 <code>ssh-keygen -t rsa -C &quot;GitHub 邮箱&quot;</code>，然后一路回车。</p><p>进入 [C:\Users\用户名.ssh] 目录（要勾选显示“隐藏的项目”），用记事本打开公钥 id_rsa.pub 文件并复制里面的内容。</p><p>登陆 GitHub ，进入 Settings 页面，选择左边栏的 SSH and GPG keys，点击 New SSH key。</p><p>(1)首先找到settings</p><p><img src="https://cdnimage.gmcj0816.top/github_setting.jpg" style="zoom:50%;" /></p><p>(2)SSH and GPG keys—&gt;选择New SSH key</p><p><img src="https://cdnimage.gmcj0816.top/github_sshkeys.jpg" style="zoom:50%;" /></p><p>（3）填写秘钥【这里的Title名字随意，key需要复制自己的公钥 id_rsa.pub 文件中的所有】</p><p><img src="https://cdnimage.gmcj0816.top/add_ssh_keys.jpg" style="zoom:50%;" /></p><p>（4）验证连接，打开 Git Bash或者是powershell，输入 <code>ssh -T git@github.com</code> 出现 “Are you sure……”，输入 yes 回车确认，当显示显示 “Hi xxx! You’ve successfully……” 即连接成功。如下所示</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PS C:\Users\28138&gt; ssh -T git@github.com</span><br><span class="line">Warning: Permanently added the ECDSA host key for IP address &#x27;xx.xxx.xxx.xxx&#x27; to the list of known hosts.</span><br><span class="line">Hi *******! You&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure><ul><li>创建github仓库</li></ul><p>（1）选择New responsitory</p><p><img src="https://cdnimage.gmcj0816.top/create_respository.jpg" style="zoom:50%;" /></p><p>(2)填写信息，仓库名这里最好是用户名.github.io，其实自定义也是可以的，反正到时候也是放到vercel上</p><p><img src="https://cdnimage.gmcj0816.top/create_githubio.jpg" style="zoom: 50%;" /></p><h2 id="安装-本地Hexo-博客"><a href="#安装-本地Hexo-博客" class="headerlink" title="安装 本地Hexo 博客"></a>安装 本地Hexo 博客</h2><ul><li>创建hexo</li></ul><p>使用powershell或者git bash输入一下命令【这里Mac 用户需要管理员权限】</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><ul><li>hexo初始化并安装所需组件</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo init myblog      # 初始化，这里添加myblog是用来将生成的文件全都放到myblog文件中</span><br><span class="line">npm install    # 安装组件</span><br></pre></td></tr></table></figure><ul><li><strong>安装 hexo-deployer-git</strong></li></ul><p>这个组件主要是用来上传到github仓库用的【必需】</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><ul><li>编辑hexo中的config.yml文件</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: git@github.com:用户名/用户名.github.io.git #这个信息可以复制仓库地址【如下图】</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p><img src="https://cdnimage.gmcj0816.top/git_ssh.jpg" style="zoom:50%;" /></p><h2 id="部署到Github上"><a href="#部署到Github上" class="headerlink" title="部署到Github上"></a>部署到Github上</h2><p>用powershell或者git bash依次输入以下命令【无需复制#后面的注释信息】</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean # 清理缓存  </span><br><span class="line">hexo g # 转化为html页面</span><br><span class="line">hexo deploy #部署 这一步最好用全称，因为后面如果用豆瓣爬虫插件时会导致重复</span><br></pre></td></tr></table></figure><h2 id="Vercel配置"><a href="#Vercel配置" class="headerlink" title="Vercel配置"></a>Vercel配置</h2><p>因为github如果不用tz的话，部分小伙伴无法使用，所以呢，可以将博客放到vercel上代理，这里建议用github注册</p><ul><li>注册vercel</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://vercel.com/</span><br></pre></td></tr></table></figure><ul><li>导入github仓库</li></ul><p>（1）选择Add New Project 然后选择自己刚刚上传的仓库点击Import，最后选择deploy即可</p><p><img src="https://cdnimage.gmcj0816.top/vercel_add_project.jpg" style="zoom:50%;" /></p><p><img src="https://cdnimage.gmcj0816.top/vercel_import_project.jpg" style="zoom:50%;" /></p><p>（2）如果需要绑定域名的话，可以选择Settings中的Dimains添加域名</p><p><img src="https://cdnimage.gmcj0816.top/vercel_add_yuming.jpg" style="zoom:50%;" /></p><details open=""><summary>在域名解析出填写相应的CNAME值</summary><li>记录主机：填写域名</li><li>记录值：填写vercel上你添加的域名给的CNAME值</li><li>TTL:一般选择10分钟即可</li></details><p><img src="https://cdnimage.gmcj0816.top/yuming_jiexi.jpg" alt=""></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;其实将博客放到自己服务器上是半好半坏的&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr</summary>
      
    
    
    
    <category term="🦄博客魔改" scheme="https://blog.gmcj0816.top/categories/%F0%9F%A6%84%E5%8D%9A%E5%AE%A2%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Butterfly" scheme="https://blog.gmcj0816.top/tags/Butterfly/"/>
    
    <category term="魔改教程" scheme="https://blog.gmcj0816.top/tags/%E9%AD%94%E6%94%B9%E6%95%99%E7%A8%8B/"/>
    
    <category term="Nginx" scheme="https://blog.gmcj0816.top/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>Springboot整合Shiro</title>
    <link href="https://blog.gmcj0816.top/posts/eb9ae3a0/"/>
    <id>https://blog.gmcj0816.top/posts/eb9ae3a0/</id>
    <published>2022-11-09T12:52:21.000Z</published>
    <updated>2023-04-13T09:59:03.146Z</updated>
    
    <content type="html"><![CDATA[<h2 id="简述"><a href="#简述" class="headerlink" title="简述"></a>简述</h2><p>Shrio是一款主流的Java安全框架，不依赖任何容器，便可以运行在javaSE和JavaEE项目中，起主要作用便是对访问系统的用户进行身份认证，授权，回话管理，加密等操作。</p><p><img src="https://blog.gmcj0816.top/img/shiro_zhengti.jpg" alt="Shiro基本组成"></p><p>Shiro主要是用来解决安全管理的系统化框架</p><p>需要以下环境依赖</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--日志打印包--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--shiro依赖包--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.shiro<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>shiro-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Shiro核心组件"><a href="#Shiro核心组件" class="headerlink" title="Shiro核心组件"></a>Shiro核心组件</h2><ul><li><p>UsernamePasswordToken：Shiro用来封装用户登录信息，使用用户的登录信息来创建令牌Token</p></li><li><p>SecurityManager：Shiro的核心部分，负责安全认证和授权</p></li><li><p>Suject：Shiro的一个抽象概念，包含了用户信息</p></li><li><p>Realm 开发者自定义的模块，根据项目的需求，验证和授权的逻辑全部写在Realm中</p></li><li><p>AuthenticationInfo：用户的角色信息集合，认证时使用</p></li><li><p>AuthorzationInfo：角色的权限信息集合，授权时使用</p></li><li><p>DeaultWebSecurityDManager 安全管理器，开发者自定义的Realm需要注入到DeaultWebSecurityDManager进行管理才能生效</p></li><li><p>ShiroFilterFactoryBean，过滤器工厂，Shiro 的基本运行机制是开发者定制规则，Shiro 去执行，具体的执行操作就是由 ShiroFilterFactoryBean 创建的一个个 Filter 对象来完成。</p><p><img src="https:blog.gmcj0816.top/img/Shiro运行流程图.jpg" alt="Shiro运行流程图"></p><p>这里需要说明一个概念</p><p>权限，角色，用户三者的关系：权限并非是直接给到用户，而是通过将权限首先给到角色，将用户赋为不同的角色，来实现对用户的不同权限。</p></li></ul><hr><center>未完待续</center>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;简述&quot;&gt;&lt;a href=&quot;#简述&quot; class=&quot;headerlink&quot; title=&quot;简述&quot;&gt;&lt;/a&gt;简述&lt;/h2&gt;&lt;p&gt;Shrio是一款主流的Java安全框架，不依赖任何容器，便可以运行在javaSE和JavaEE项目中，起主要作用便是对访问系统的用户进行身份</summary>
      
    
    
    
    <category term="🎯JavaEE" scheme="https://blog.gmcj0816.top/categories/%F0%9F%8E%AFJavaEE/"/>
    
    
    <category term="SpringBoot" scheme="https://blog.gmcj0816.top/tags/SpringBoot/"/>
    
    <category term="Shiro" scheme="https://blog.gmcj0816.top/tags/Shiro/"/>
    
  </entry>
  
  <entry>
    <title>Unity3D不可或缺的基础</title>
    <link href="https://blog.gmcj0816.top/posts/9c3bcc4d/"/>
    <id>https://blog.gmcj0816.top/posts/9c3bcc4d/</id>
    <published>2022-10-22T05:47:31.000Z</published>
    <updated>2023-04-13T13:56:32.044Z</updated>
    
    <content type="html"><![CDATA[<h2 id="GameObject类"><a href="#GameObject类" class="headerlink" title="GameObject类"></a>GameObject类</h2><h2 id="基本属性"><a href="#基本属性" class="headerlink" title="基本属性"></a>基本属性</h2><h3 id="activeSelf属性"><a href="#activeSelf属性" class="headerlink" title="activeSelf属性"></a>activeSelf属性</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">基本语法：</span><br><span class="line">public  bool activeSelf&#123; get； &#125; </span><br><span class="line">这里需要注意一个知识点：</span><br><span class="line">activeSelf和activeInHierarchy 二者的区别：</span><br><span class="line">-  activeSelf返回的是自身的active值    </span><br><span class="line">-  activeInHierarchy返回的是在Hierarchy内的active效果值</span><br></pre></td></tr></table></figure><h3 id="SetActive设置"><a href="#SetActive设置" class="headerlink" title="SetActive设置"></a>SetActive设置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">基本语法：</span><br><span class="line">public void SetActive（bool active）</span><br></pre></td></tr></table></figure><h3 id="isStatic属性"><a href="#isStatic属性" class="headerlink" title="isStatic属性"></a>isStatic属性</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">是否是静态物体   </span><br><span class="line">基本语法：</span><br><span class="line">public bool isStatic&#123; get;set; &#125;        </span><br></pre></td></tr></table></figure><h3 id="layer属性；"><a href="#layer属性；" class="headerlink" title="layer属性；"></a>layer属性；</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">获取设置层序号</span><br><span class="line">基本语法：</span><br><span class="line">public  int layer&#123; get;set; &#125; </span><br></pre></td></tr></table></figure><h3 id="tag属性"><a href="#tag属性" class="headerlink" title="tag属性"></a>tag属性</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">获取物体的标签   </span><br><span class="line">基本语法：</span><br><span class="line">public string tag&#123;get;set; &#125;    </span><br></pre></td></tr></table></figure><h3 id="scene属性："><a href="#scene属性：" class="headerlink" title="scene属性："></a>scene属性：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">获取物体所在的场景    </span><br><span class="line">基本语法：</span><br><span class="line">public Scene scene&#123;get;&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;GameObject类&quot;&gt;&lt;a href=&quot;#GameObject类&quot; class=&quot;headerlink&quot; title=&quot;GameObject类&quot;&gt;&lt;/a&gt;GameObject类&lt;/h2&gt;&lt;h2 id=&quot;基本属性&quot;&gt;&lt;a href=&quot;#基本属性&quot; class=&quot;</summary>
      
    
    
    
    <category term="📌U3D基础知识" scheme="https://blog.gmcj0816.top/categories/%F0%9F%93%8CU3D%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="Unity" scheme="https://blog.gmcj0816.top/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>关于软件设计师知识总结</title>
    <link href="https://blog.gmcj0816.top/posts/e44940b1/"/>
    <id>https://blog.gmcj0816.top/posts/e44940b1/</id>
    <published>2022-10-09T12:14:21.000Z</published>
    <updated>2023-04-13T09:55:28.591Z</updated>
    
    <content type="html"><![CDATA[<h2 id="计算机组成原理和体系结构（6分）"><a href="#计算机组成原理和体系结构（6分）" class="headerlink" title="计算机组成原理和体系结构（6分）"></a>计算机组成原理和体系结构（6分）</h2><h3 id="数据的表示"><a href="#数据的表示" class="headerlink" title="数据的表示"></a>数据的表示</h3><ul><li><p>进制的转化</p><p>n进制转十进制</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">二进制转十进制：10100.01=1*24 +1*22+1*2-2 </span><br><span class="line">七进制转十进制：604.01=6*72+4*70+1*7-2</span><br><span class="line">二进制转八进制==&gt;每3个二进制段等于1个八进制段</span><br><span class="line">即 10001110==&gt; 10  001  110==&gt;2 1 6 </span><br><span class="line">八进制转十六进制==&gt;八进制首先转二进制，然后转十六进制</span><br><span class="line">二进制转十六进制==&gt;每4个二进制段等于1个十六进制段</span><br><span class="line">即10001110==&gt; 1000  1110==&gt; 8 (2+4+8)=&gt;8  E</span><br></pre></td></tr></table></figure><p>十进制转n进制</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">十进制转R进制使用短除法</span><br><span class="line">例如94转2进制</span><br><span class="line">94除以2  余0 得47</span><br><span class="line">47除以2  余1 得23</span><br><span class="line">23除以2  余1 得11</span><br><span class="line">11除以2  余1 得5</span><br><span class="line">5除以2   余1 得2</span><br><span class="line">2除以2   余0 得1</span><br><span class="line">所以94转2进制则为1011110</span><br></pre></td></tr></table></figure><center>未完待续</center></li></ul><hr><div class="btns rounded grid5">            <a class="button" href='/' title='下载word总结原稿'><i class='fas fa-download'></i>下载word总结原稿</a>          </div>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;计算机组成原理和体系结构（6分）&quot;&gt;&lt;a href=&quot;#计算机组成原理和体系结构（6分）&quot; class=&quot;headerlink&quot; title=&quot;计算机组成原理和体系结构（6分）&quot;&gt;&lt;/a&gt;计算机组成原理和体系结构（6分）&lt;/h2&gt;&lt;h3 id=&quot;数据的表示&quot;&gt;&lt;a</summary>
      
    
    
    
    <category term="🦜软考" scheme="https://blog.gmcj0816.top/categories/%F0%9F%A6%9C%E8%BD%AF%E8%80%83/"/>
    
    
    <category term="软件设计师" scheme="https://blog.gmcj0816.top/tags/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88/"/>
    
  </entry>
  
  <entry>
    <title>在Hexo的butterfly主题魔改值得推荐的内容</title>
    <link href="https://blog.gmcj0816.top/posts/a08aed7d/"/>
    <id>https://blog.gmcj0816.top/posts/a08aed7d/</id>
    <published>2022-10-02T00:31:44.000Z</published>
    <updated>2023-04-13T09:57:49.113Z</updated>
    
    <content type="html"><![CDATA[<h1 id="实时预览编辑"><a href="#实时预览编辑" class="headerlink" title="实时预览编辑"></a>实时预览编辑</h1><p>参考自：<a href="https://blog.mutoe.com/2016/hexo-post-livereload-edit/">Hexo 实现实时预览编辑 | 木头的博客 (mutoe.com)</a></p><p>主要在项目目录下安装 <code>hexo-browsersync</code> 插件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-browsersync --save</span><br></pre></td></tr></table></figure><p>然后运行 hexo server, 看到以下内容就说明启动成功啦.【针对_config.Butterfly.yml需要重启hexo s】</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[Browsersync] Access URLs:</span><br><span class="line"> ----------------------------------</span><br><span class="line">          UI: http://localhost:3001</span><br><span class="line"> ----------------------------------</span><br><span class="line"> UI External: http://localhost:3001</span><br><span class="line"> ----------------------------------</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Hexo is running at http://localhost:4000/ . Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure><h1 id="图床引入"><a href="#图床引入" class="headerlink" title="图床引入"></a>图床引入</h1><p>解决hexo引入图床，手机和web不显示图片的问题</p><p>这里以Butterfly主题为例</p><p>在butterfly\layout\includes\head.pug中【其中加号为需要添加的】</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">meta(name=&quot;author&quot; content=pageAuthor)</span><br><span class="line">meta(name=&quot;copyright&quot; content=pageCopyright)</span><br><span class="line">meta(name =&quot;format-detection&quot; content=&quot;telephone=no&quot;)</span><br><span class="line">meta(name=&quot;theme-color&quot; content=themeColor)</span><br><span class="line"><span class="addition">+ meta(name=&quot;referrer&quot; content=&quot;no-referrer&quot;)</span></span><br></pre></td></tr></table></figure><h1 id="加载进度条"><a href="#加载进度条" class="headerlink" title="加载进度条"></a>加载进度条</h1><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/loadingbar.png" alt=""></p><p>这里就直接上效果比较Nice一种方式咯</p><h3 id="css文件"><a href="#css文件" class="headerlink" title="css文件"></a>css文件</h3><p>在/themes/butterfly/source/css/`新建一个css文件，名字自定义，这里我就以loading-bar.css命名的</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.pace</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">pointer-events</span>: none;</span><br><span class="line">    <span class="attribute">pointer-events</span>: none;</span><br><span class="line">    -webkit-user-select: none;</span><br><span class="line">    -moz-user-select: none;</span><br><span class="line">    user-select: none;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">2000</span>;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">4rem</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#eaecf2</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#e3e8f7</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pace-inactive</span> <span class="selector-class">.pace-progress</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">transition</span>: .<span class="number">3s</span> ease-in</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pace</span> <span class="selector-class">.pace-progress</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    -moz-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    -ms-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    -o-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    -moz-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    -ms-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    -o-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">2000</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="number">#ee7752</span>, <span class="number">#e73c7e</span>, <span class="number">#23a6d5</span>, <span class="number">#23d5ab</span>);</span><br><span class="line">    <span class="attribute">animation</span>: gradient <span class="number">1.5s</span> ease infinite;</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">200%</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pace</span><span class="selector-class">.pace-inactive</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">transition</span>: .<span class="number">3s</span>;</span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">8px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> gradient &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">100%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>关于进度条的颜色修改主要修改如下即可</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="number">#ee7752</span>, <span class="number">#e73c7e</span>, <span class="number">#23a6d5</span>, <span class="number">#23d5ab</span>);</span><br></pre></td></tr></table></figure><p>渐变网站推荐：</p><p><a href="https://www.grabient.com/">Grabient</a></p><p><a href="https://uigradients.com/#DanceToForget">uiGradients - Beautiful colored gradients</a></p><p>关于js文件可以直接引用，这里防止挂了，做个备份吧</p><details class="folding-tag" green><summary> 这里如果想直接引用，可以跳过此步骤 </summary>              <div class='content'>              <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*!</span></span><br><span class="line"><span class="comment"> * pace.js v1.2.4</span></span><br><span class="line"><span class="comment"> * https://github.com/CodeByZach/pace/</span></span><br><span class="line"><span class="comment"> * Licensed MIT © HubSpot, Inc.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">!</span><br><span class="line"><span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">o</span>(<span class="params">t, e</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> t.<span class="title function_">apply</span>(e, <span class="variable language_">arguments</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> u, c, i, s, n, y, t, l, v, r, a, p, e, h, w, b, f, g, d, m, k, S, q, L, x, P, T, R, j, O, E, M, A, C, N, _, F, U, W, X, D, H, I, z, G, B, J = [].<span class="property">slice</span>,</span><br><span class="line">    K = &#123;&#125;.<span class="property">hasOwnProperty</span>,</span><br><span class="line">    Q = <span class="keyword">function</span>(<span class="params">t, e</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> n <span class="keyword">in</span> e) K.<span class="title function_">call</span>(e, n) &amp;&amp; (t[n] = e[n]);</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">r</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">constructor</span> = t</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> r.<span class="property"><span class="keyword">prototype</span></span> = e.<span class="property"><span class="keyword">prototype</span></span>,</span><br><span class="line">        t.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> r,</span><br><span class="line">        t.<span class="property">__super__</span> = e.<span class="property"><span class="keyword">prototype</span></span>,</span><br><span class="line">        t</span><br><span class="line">    &#125;,</span><br><span class="line">    V = [].<span class="property">indexOf</span> ||</span><br><span class="line">    <span class="keyword">function</span>(<span class="params">t</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> e = <span class="number">0</span>,</span><br><span class="line">        n = <span class="variable language_">this</span>.<span class="property">length</span>; e &lt; n; e++) <span class="keyword">if</span> (e <span class="keyword">in</span> <span class="variable language_">this</span> &amp;&amp; <span class="variable language_">this</span>[e] === t) <span class="keyword">return</span> e;</span><br><span class="line">        <span class="keyword">return</span> - <span class="number">1</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">Y</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> (g = &#123;</span><br><span class="line">        <span class="attr">className</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">catchupTime</span>: <span class="number">100</span>,</span><br><span class="line">        <span class="attr">initialRate</span>: <span class="number">.03</span>,</span><br><span class="line">        <span class="attr">minTime</span>: <span class="number">250</span>,</span><br><span class="line">        <span class="attr">ghostTime</span>: <span class="number">100</span>,</span><br><span class="line">        <span class="attr">maxProgressPerFrame</span>: <span class="number">20</span>,</span><br><span class="line">        <span class="attr">easeFactor</span>: <span class="number">1.25</span>,</span><br><span class="line">        <span class="attr">startOnPageLoad</span>: !<span class="number">0</span>,</span><br><span class="line">        <span class="attr">restartOnPushState</span>: !<span class="number">0</span>,</span><br><span class="line">        <span class="attr">restartOnRequestAfter</span>: <span class="number">500</span>,</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&quot;body&quot;</span>,</span><br><span class="line">        <span class="attr">elements</span>: &#123;</span><br><span class="line">            <span class="attr">checkInterval</span>: <span class="number">100</span>,</span><br><span class="line">            <span class="attr">selectors</span>: [<span class="string">&quot;body&quot;</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">eventLag</span>: &#123;</span><br><span class="line">            <span class="attr">minSamples</span>: <span class="number">10</span>,</span><br><span class="line">            <span class="attr">sampleCount</span>: <span class="number">3</span>,</span><br><span class="line">            <span class="attr">lagThreshold</span>: <span class="number">3</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">ajax</span>: &#123;</span><br><span class="line">            <span class="attr">trackMethods</span>: [<span class="string">&quot;GET&quot;</span>],</span><br><span class="line">            <span class="attr">trackWebSockets</span>: !<span class="number">0</span>,</span><br><span class="line">            <span class="attr">ignoreURLs</span>: []</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    P = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> t;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span> != (t = <span class="string">&quot;undefined&quot;</span> != <span class="keyword">typeof</span> performance &amp;&amp; <span class="literal">null</span> !== performance &amp;&amp; <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> performance.<span class="property">now</span> ? performance.<span class="title function_">now</span>() : <span class="keyword">void</span> <span class="number">0</span>) ? <span class="attr">t</span>: +<span class="keyword">new</span> <span class="title class_">Date</span></span><br><span class="line">    &#125;,</span><br><span class="line">    R = <span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span> || <span class="variable language_">window</span>.<span class="property">mozRequestAnimationFrame</span> || <span class="variable language_">window</span>.<span class="property">webkitRequestAnimationFrame</span> || <span class="variable language_">window</span>.<span class="property">msRequestAnimationFrame</span>, f = <span class="variable language_">window</span>.<span class="property">cancelAnimationFrame</span> || <span class="variable language_">window</span>.<span class="property">mozCancelAnimationFrame</span>, p = <span class="keyword">function</span>(<span class="params">t, e, n</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> t.<span class="property">addEventListener</span>) <span class="keyword">return</span> t.<span class="title function_">addEventListener</span>(e, n, !<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">var</span> r;</span><br><span class="line">        <span class="string">&quot;function&quot;</span> != <span class="keyword">typeof</span> t[<span class="string">&quot;on&quot;</span> + e] || <span class="string">&quot;object&quot;</span> != <span class="keyword">typeof</span> t[<span class="string">&quot;on&quot;</span> + e].<span class="property">eventListeners</span> ? (r = <span class="keyword">new</span> s, <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> t[<span class="string">&quot;on&quot;</span> + e] &amp;&amp; r.<span class="title function_">on</span>(e, t[<span class="string">&quot;on&quot;</span> + e]), t[<span class="string">&quot;on&quot;</span> + e] = <span class="keyword">function</span>(<span class="params">t</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> r.<span class="title function_">trigger</span>(e, t)</span><br><span class="line">        &#125;,</span><br><span class="line">        t[<span class="string">&quot;on&quot;</span> + e].<span class="property">eventListeners</span> = r) : r = t[<span class="string">&quot;on&quot;</span> + e].<span class="property">eventListeners</span>,</span><br><span class="line">        r.<span class="title function_">on</span>(e, n)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="literal">null</span> == R &amp;&amp; (R = <span class="keyword">function</span>(<span class="params">t</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">setTimeout</span>(t, <span class="number">50</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    f = <span class="keyword">function</span>(<span class="params">t</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">clearTimeout</span>(t)</span><br><span class="line">    &#125;), O = <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> n = <span class="title function_">P</span>(),</span><br><span class="line">        r = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> t = <span class="title function_">P</span>() - n;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">33</span> &lt;= t ? (n = <span class="title function_">P</span>(), <span class="title function_">e</span>(t,</span><br><span class="line">            <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="title function_">R</span>(r)</span><br><span class="line">            &#125;)) : <span class="built_in">setTimeout</span>(r, <span class="number">33</span> - t)</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">r</span>()</span><br><span class="line">    &#125;,</span><br><span class="line">    j = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> t = <span class="variable language_">arguments</span>[<span class="number">0</span>],</span><br><span class="line">        e = <span class="variable language_">arguments</span>[<span class="number">1</span>],</span><br><span class="line">        n = <span class="number">3</span> &lt;= <span class="variable language_">arguments</span>.<span class="property">length</span> ? J.<span class="title function_">call</span>(<span class="variable language_">arguments</span>, <span class="number">2</span>) : [];</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> t[e] ? t[e].<span class="title function_">apply</span>(t, n) : t[e]</span><br><span class="line">    &#125;,</span><br><span class="line">    d = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> t, e, n, r = <span class="variable language_">arguments</span>[<span class="number">0</span>], s = <span class="number">2</span> &lt;= <span class="variable language_">arguments</span>.<span class="property">length</span> ? J.<span class="title function_">call</span>(<span class="variable language_">arguments</span>, <span class="number">1</span>) : [], o = <span class="number">0</span>, i = s.<span class="property">length</span>; o &lt; i; o++) <span class="keyword">if</span> (e = s[o]) <span class="keyword">for</span> (t <span class="keyword">in</span> e) K.<span class="title function_">call</span>(e, t) &amp;&amp; (n = e[t], <span class="literal">null</span> != r[t] &amp;&amp; <span class="string">&quot;object&quot;</span> == <span class="keyword">typeof</span> r[t] &amp;&amp; <span class="literal">null</span> != n &amp;&amp; <span class="string">&quot;object&quot;</span> == <span class="keyword">typeof</span> n ? <span class="title function_">d</span>(r[t], n) : r[t] = n);</span><br><span class="line">        <span class="keyword">return</span> r</span><br><span class="line">    &#125;,</span><br><span class="line">    h = <span class="keyword">function</span>(<span class="params">t</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> e, n, r = e = <span class="number">0</span>,</span><br><span class="line">        s = <span class="number">0</span>,</span><br><span class="line">        o = t.<span class="property">length</span>; s &lt; o; s++) n = t[s],</span><br><span class="line">        r += <span class="title class_">Math</span>.<span class="title function_">abs</span>(n),</span><br><span class="line">        e++;</span><br><span class="line">        <span class="keyword">return</span> r / e</span><br><span class="line">    &#125;,</span><br><span class="line">    k = <span class="keyword">function</span>(<span class="params">t, e</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> n, r;</span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> == t &amp;&amp; (t = <span class="string">&quot;options&quot;</span>), <span class="literal">null</span> == e &amp;&amp; (e = !<span class="number">0</span>), r = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;[data-pace-&quot;</span> + t + <span class="string">&quot;]&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (n = r.<span class="title function_">getAttribute</span>(<span class="string">&quot;data-pace-&quot;</span> + t), !e) <span class="keyword">return</span> n;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(n)</span><br><span class="line">            &#125; <span class="keyword">catch</span>(t) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;undefined&quot;</span> != <span class="keyword">typeof</span> <span class="variable language_">console</span> &amp;&amp; <span class="literal">null</span> !== <span class="variable language_">console</span> ? <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;Error parsing inline pace options&quot;</span>, t) : <span class="keyword">void</span> <span class="number">0</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    Y.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">on</span> = <span class="keyword">function</span>(<span class="params">t, e, n, r</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> s;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span> == r &amp;&amp; (r = !<span class="number">1</span>),</span><br><span class="line">        <span class="literal">null</span> == <span class="variable language_">this</span>.<span class="property">bindings</span> &amp;&amp; (<span class="variable language_">this</span>.<span class="property">bindings</span> = &#123;&#125;),</span><br><span class="line">        <span class="literal">null</span> == (s = <span class="variable language_">this</span>.<span class="property">bindings</span>)[t] &amp;&amp; (s[t] = []),</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">bindings</span>[t].<span class="title function_">push</span>(&#123;</span><br><span class="line">            <span class="attr">handler</span>: e,</span><br><span class="line">            <span class="attr">ctx</span>: n,</span><br><span class="line">            <span class="attr">once</span>: r</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    Y.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">once</span> = <span class="keyword">function</span>(<span class="params">t, e, n</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">on</span>(t, e, n, !<span class="number">0</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    Y.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">off</span> = <span class="keyword">function</span>(<span class="params">t, e</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> n, r, s;</span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> != (<span class="literal">null</span> != (r = <span class="variable language_">this</span>.<span class="property">bindings</span>) ? r[t] : <span class="keyword">void</span> <span class="number">0</span>)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="literal">null</span> == e) <span class="keyword">return</span> <span class="keyword">delete</span> <span class="variable language_">this</span>.<span class="property">bindings</span>[t];</span><br><span class="line">            <span class="keyword">for</span> (n = <span class="number">0</span>, s = []; n &lt; <span class="variable language_">this</span>.<span class="property">bindings</span>[t].<span class="property">length</span>;) <span class="variable language_">this</span>.<span class="property">bindings</span>[t][n].<span class="property">handler</span> === e ? s.<span class="title function_">push</span>(<span class="variable language_">this</span>.<span class="property">bindings</span>[t].<span class="title function_">splice</span>(n, <span class="number">1</span>)) : s.<span class="title function_">push</span>(n++);</span><br><span class="line">            <span class="keyword">return</span> s</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    Y.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">trigger</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> t, e, n, r, s, o, i = <span class="variable language_">arguments</span>[<span class="number">0</span>],</span><br><span class="line">        a = <span class="number">2</span> &lt;= <span class="variable language_">arguments</span>.<span class="property">length</span> ? J.<span class="title function_">call</span>(<span class="variable language_">arguments</span>, <span class="number">1</span>) : [];</span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> != (r = <span class="variable language_">this</span>.<span class="property">bindings</span>) &amp;&amp; r[i]) &#123;</span><br><span class="line">            <span class="keyword">for</span> (n = <span class="number">0</span>, o = []; n &lt; <span class="variable language_">this</span>.<span class="property">bindings</span>[i].<span class="property">length</span>;) e = (s = <span class="variable language_">this</span>.<span class="property">bindings</span>[i][n]).<span class="property">handler</span>,</span><br><span class="line">            t = s.<span class="property">ctx</span>,</span><br><span class="line">            s = s.<span class="property">once</span>,</span><br><span class="line">            e.<span class="title function_">apply</span>(<span class="literal">null</span> != t ? <span class="attr">t</span>: <span class="variable language_">this</span>, a),</span><br><span class="line">            s ? o.<span class="title function_">push</span>(<span class="variable language_">this</span>.<span class="property">bindings</span>[i].<span class="title function_">splice</span>(n, <span class="number">1</span>)) : o.<span class="title function_">push</span>(n++);</span><br><span class="line">            <span class="keyword">return</span> o</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    B = Y, y = <span class="variable language_">window</span>.<span class="property">Pace</span> || &#123;&#125;,</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">Pace</span> = y, <span class="title function_">d</span>(y, B.<span class="property"><span class="keyword">prototype</span></span>), T = y.<span class="property">options</span> = <span class="title function_">d</span>(&#123;&#125;,</span><br><span class="line">    g, <span class="variable language_">window</span>.<span class="property">paceOptions</span>, <span class="title function_">k</span>()), X = <span class="number">0</span>, H = (z = [<span class="string">&quot;ajax&quot;</span>, <span class="string">&quot;document&quot;</span>, <span class="string">&quot;eventLag&quot;</span>, <span class="string">&quot;elements&quot;</span>]).<span class="property">length</span>; X &lt; H; X++) ! <span class="number">0</span> === T[C = z[X]] &amp;&amp; (T[C] = g[C]);</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">Z</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> Z.<span class="property">__super__</span>.<span class="property">constructor</span>.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">$</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">progress</span> = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">tt</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">bindings</span> = &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">et</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> e, o = <span class="variable language_">this</span>;</span><br><span class="line">        et.<span class="property">__super__</span>.<span class="property">constructor</span>.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>),</span><br><span class="line">        e = <span class="keyword">function</span>(<span class="params">r</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> s = r.<span class="property">open</span>;</span><br><span class="line">            <span class="keyword">return</span> r.<span class="property">open</span> = <span class="keyword">function</span>(<span class="params">t, e, n</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="title function_">A</span>(t) &amp;&amp; o.<span class="title function_">trigger</span>(<span class="string">&quot;request&quot;</span>, &#123;</span><br><span class="line">                    <span class="attr">type</span>: t,</span><br><span class="line">                    <span class="attr">url</span>: e,</span><br><span class="line">                    <span class="attr">request</span>: r</span><br><span class="line">                &#125;),</span><br><span class="line">                s.<span class="title function_">apply</span>(r, <span class="variable language_">arguments</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">XMLHttpRequest</span> = <span class="keyword">function</span>(<span class="params">t</span>) &#123;</span><br><span class="line">            t = <span class="keyword">new</span> <span class="title function_">W</span>(t);</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">e</span>(t),</span><br><span class="line">            t</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="title function_">m</span>(<span class="variable language_">window</span>.<span class="property">XMLHttpRequest</span>, W)</span><br><span class="line">        &#125; <span class="keyword">catch</span>(t) &#123;&#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> != U) &#123;</span><br><span class="line">            <span class="variable language_">window</span>.<span class="property">XDomainRequest</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> t = <span class="keyword">new</span> U;</span><br><span class="line">                <span class="keyword">return</span> <span class="title function_">e</span>(t),</span><br><span class="line">                t</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="title function_">m</span>(<span class="variable language_">window</span>.<span class="property">XDomainRequest</span>, U)</span><br><span class="line">            &#125; <span class="keyword">catch</span>(t) &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> != F &amp;&amp; T.<span class="property">ajax</span>.<span class="property">trackWebSockets</span>) &#123;</span><br><span class="line">            <span class="variable language_">window</span>.<span class="property">WebSocket</span> = <span class="keyword">function</span>(<span class="params">t, e</span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> n = <span class="literal">null</span> != e ? <span class="keyword">new</span> <span class="title function_">F</span>(t, e) : <span class="keyword">new</span> <span class="title function_">F</span>(t);</span><br><span class="line">                <span class="keyword">return</span> <span class="title function_">A</span>(<span class="string">&quot;socket&quot;</span>) &amp;&amp; o.<span class="title function_">trigger</span>(<span class="string">&quot;request&quot;</span>, &#123;</span><br><span class="line">                    <span class="attr">type</span>: <span class="string">&quot;socket&quot;</span>,</span><br><span class="line">                    <span class="attr">url</span>: t,</span><br><span class="line">                    <span class="attr">protocols</span>: e,</span><br><span class="line">                    <span class="attr">request</span>: n</span><br><span class="line">                &#125;),</span><br><span class="line">                n</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="title function_">m</span>(<span class="variable language_">window</span>.<span class="property">WebSocket</span>, F)</span><br><span class="line">            &#125; <span class="keyword">catch</span>(t) &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">nt</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">complete</span> = <span class="title function_">o</span>(<span class="variable language_">this</span>.<span class="property">complete</span>, <span class="variable language_">this</span>);</span><br><span class="line">        <span class="keyword">var</span> t = <span class="variable language_">this</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">elements</span> = [],</span><br><span class="line">        <span class="title function_">S</span>().<span class="title function_">on</span>(<span class="string">&quot;request&quot;</span>,</span><br><span class="line">        <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> t.<span class="property">watch</span>.<span class="title function_">apply</span>(t, <span class="variable language_">arguments</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">rt</span>(<span class="params">t</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> e, n, r, s;</span><br><span class="line">        <span class="keyword">for</span> (<span class="literal">null</span> == t &amp;&amp; (t = &#123;&#125;), <span class="variable language_">this</span>.<span class="property">complete</span> = <span class="title function_">o</span>(<span class="variable language_">this</span>.<span class="property">complete</span>, <span class="variable language_">this</span>), <span class="variable language_">this</span>.<span class="property">elements</span> = [], <span class="literal">null</span> == t.<span class="property">selectors</span> &amp;&amp; (t.<span class="property">selectors</span> = []), n = <span class="number">0</span>, r = (s = t.<span class="property">selectors</span>).<span class="property">length</span>; n &lt; r; n++) e = s[n],</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">elements</span>.<span class="title function_">push</span>(<span class="keyword">new</span> <span class="title function_">i</span>(e, <span class="variable language_">this</span>.<span class="property">complete</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">st</span>(<span class="params">t, e</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">selector</span> = t,</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">completeCallback</span> = e,</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">progress</span> = <span class="number">0</span>,</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">check</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">ot</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> t, e, n = <span class="variable language_">this</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">progress</span> = <span class="literal">null</span> != (e = <span class="variable language_">this</span>.<span class="property">states</span>[<span class="variable language_">document</span>.<span class="property">readyState</span>]) ? <span class="attr">e</span>: <span class="number">100</span>,</span><br><span class="line">        t = <span class="variable language_">document</span>.<span class="property">onreadystatechange</span>,</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">onreadystatechange</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span> != n.<span class="property">states</span>[<span class="variable language_">document</span>.<span class="property">readyState</span>] &amp;&amp; (n.<span class="property">progress</span> = n.<span class="property">states</span>[<span class="variable language_">document</span>.<span class="property">readyState</span>]),</span><br><span class="line">            <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> t ? t.<span class="title function_">apply</span>(<span class="literal">null</span>, <span class="variable language_">arguments</span>) : <span class="keyword">void</span> <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">it</span>(<span class="params">t</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">source</span> = t,</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">last</span> = <span class="variable language_">this</span>.<span class="property">sinceLastUpdate</span> = <span class="number">0</span>,</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">rate</span> = T.<span class="property">initialRate</span>,</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">catchup</span> = <span class="number">0</span>,</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">progress</span> = <span class="variable language_">this</span>.<span class="property">lastProgress</span> = <span class="number">0</span>,</span><br><span class="line">        <span class="literal">null</span> != <span class="variable language_">this</span>.<span class="property">source</span> &amp;&amp; (<span class="variable language_">this</span>.<span class="property">progress</span> = <span class="title function_">j</span>(<span class="variable language_">this</span>.<span class="property">source</span>, <span class="string">&quot;progress&quot;</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    B = <span class="title class_">Error</span>,</span><br><span class="line">    <span class="title function_">Q</span>(Z, B),</span><br><span class="line">    n = Z,</span><br><span class="line">    $.prototype.<span class="property">getElement</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> t;</span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> == <span class="variable language_">this</span>.<span class="property">el</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (! (t = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(T.<span class="property">target</span>))) <span class="keyword">throw</span> <span class="keyword">new</span> n;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">el</span> = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>),</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">el</span>.<span class="property">className</span> = <span class="string">&quot;pace pace-active&quot;</span>,</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">className</span> = <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">className</span>.<span class="title function_">replace</span>(<span class="regexp">/(pace-done )|/</span>, <span class="string">&quot;pace-running &quot;</span>);</span><br><span class="line">            <span class="keyword">var</span> e = <span class="string">&quot;&quot;</span> !== T.<span class="property">className</span> ? <span class="string">&quot; &quot;</span> + T.<span class="property">className</span>: <span class="string">&quot;&quot;</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">el</span>.<span class="property">innerHTML</span> = <span class="string">&#x27;&lt;div class=&quot;pace-progress&#x27;</span> + e + <span class="string">&#x27;&quot;&gt;\n  &lt;div class=&quot;pace-progress-inner&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=&quot;pace-activity&quot;&gt;&lt;/div&gt;&#x27;</span>,</span><br><span class="line">            <span class="literal">null</span> != t.<span class="property">firstChild</span> ? t.<span class="title function_">insertBefore</span>(<span class="variable language_">this</span>.<span class="property">el</span>, t.<span class="property">firstChild</span>) : t.<span class="title function_">appendChild</span>(<span class="variable language_">this</span>.<span class="property">el</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">el</span></span><br><span class="line">    &#125;,</span><br><span class="line">    $.prototype.<span class="property">finish</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> t = <span class="variable language_">this</span>.<span class="title function_">getElement</span>();</span><br><span class="line">        <span class="keyword">return</span> t.<span class="property">className</span> = t.<span class="property">className</span>.<span class="title function_">replace</span>(<span class="string">&quot;pace-active&quot;</span>, <span class="string">&quot;pace-inactive&quot;</span>),</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">className</span> = <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">className</span>.<span class="title function_">replace</span>(<span class="string">&quot;pace-running &quot;</span>, <span class="string">&quot;pace-done &quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    $.prototype.<span class="property">update</span> = <span class="keyword">function</span>(<span class="params">t</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">progress</span> = t,</span><br><span class="line">        y.<span class="title function_">trigger</span>(<span class="string">&quot;progress&quot;</span>, t),</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">render</span>()</span><br><span class="line">    &#125;,</span><br><span class="line">    $.prototype.<span class="property">destroy</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">getElement</span>().<span class="property">parentNode</span>.<span class="title function_">removeChild</span>(<span class="variable language_">this</span>.<span class="title function_">getElement</span>())</span><br><span class="line">        &#125; <span class="keyword">catch</span>(t) &#123;</span><br><span class="line">            n = t</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">el</span> = <span class="keyword">void</span> <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    $.prototype.<span class="property">render</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> t, e, n, r, s, o, i;</span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> == <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(T.<span class="property">target</span>)) <span class="keyword">return</span> ! <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (t = <span class="variable language_">this</span>.<span class="title function_">getElement</span>(), r = <span class="string">&quot;translate3d(&quot;</span> + <span class="variable language_">this</span>.<span class="property">progress</span> + <span class="string">&quot;%, 0, 0)&quot;</span>, s = <span class="number">0</span>, o = (i = [<span class="string">&quot;webkitTransform&quot;</span>, <span class="string">&quot;msTransform&quot;</span>, <span class="string">&quot;transform&quot;</span>]).<span class="property">length</span>; s &lt; o; s++) e = i[s],</span><br><span class="line">        t.<span class="property">children</span>[<span class="number">0</span>].<span class="property">style</span>[e] = r;</span><br><span class="line">        <span class="keyword">return</span> (!<span class="variable language_">this</span>.<span class="property">lastRenderedProgress</span> || <span class="variable language_">this</span>.<span class="property">lastRenderedProgress</span> | <span class="number">0</span> !== <span class="variable language_">this</span>.<span class="property">progress</span> | <span class="number">0</span>) &amp;&amp; (t.<span class="property">children</span>[<span class="number">0</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;data-progress-text&quot;</span>, (<span class="number">0</span> | <span class="variable language_">this</span>.<span class="property">progress</span>) + <span class="string">&quot;%&quot;</span>), <span class="number">100</span> &lt;= <span class="variable language_">this</span>.<span class="property">progress</span> ? n = <span class="string">&quot;99&quot;</span>: (n = <span class="variable language_">this</span>.<span class="property">progress</span> &lt; <span class="number">10</span> ? <span class="string">&quot;0&quot;</span>: <span class="string">&quot;&quot;</span>, n += <span class="number">0</span> | <span class="variable language_">this</span>.<span class="property">progress</span>), t.<span class="property">children</span>[<span class="number">0</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;data-progress&quot;</span>, <span class="string">&quot;&quot;</span> + n)),</span><br><span class="line">        y.<span class="title function_">trigger</span>(<span class="string">&quot;change&quot;</span>, <span class="variable language_">this</span>.<span class="property">progress</span>),</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">lastRenderedProgress</span> = <span class="variable language_">this</span>.<span class="property">progress</span></span><br><span class="line">    &#125;,</span><br><span class="line">    $.prototype.<span class="property">done</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">100</span> &lt;= <span class="variable language_">this</span>.<span class="property">progress</span></span><br><span class="line">    &#125;,</span><br><span class="line">    c = $,</span><br><span class="line">    tt.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">trigger</span> = <span class="keyword">function</span>(<span class="params">t, e</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> n, r, s, o, i;</span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> != <span class="variable language_">this</span>.<span class="property">bindings</span>[t]) &#123;</span><br><span class="line">            <span class="keyword">for</span> (i = [], r = <span class="number">0</span>, s = (o = <span class="variable language_">this</span>.<span class="property">bindings</span>[t]).<span class="property">length</span>; r &lt; s; r++) n = o[r],</span><br><span class="line">            i.<span class="title function_">push</span>(n.<span class="title function_">call</span>(<span class="variable language_">this</span>, e));</span><br><span class="line">            <span class="keyword">return</span> i</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    tt.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">on</span> = <span class="keyword">function</span>(<span class="params">t, e</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> n;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span> == (n = <span class="variable language_">this</span>.<span class="property">bindings</span>)[t] &amp;&amp; (n[t] = []),</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">bindings</span>[t].<span class="title function_">push</span>(e)</span><br><span class="line">    &#125;,</span><br><span class="line">    s = tt,</span><br><span class="line">    W = <span class="variable language_">window</span>.<span class="property">XMLHttpRequest</span>,</span><br><span class="line">    U = <span class="variable language_">window</span>.<span class="property">XDomainRequest</span>,</span><br><span class="line">    F = <span class="variable language_">window</span>.<span class="property">WebSocket</span>,</span><br><span class="line">    m = <span class="keyword">function</span>(<span class="params">t, e</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> n, r = [];</span><br><span class="line">        <span class="keyword">for</span> (n <span class="keyword">in</span> e.<span class="property"><span class="keyword">prototype</span></span>) <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="literal">null</span> == t[n] &amp;&amp; <span class="string">&quot;function&quot;</span> != <span class="keyword">typeof</span> e[n] ? <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> <span class="title class_">Object</span>.<span class="property">defineProperty</span> ? r.<span class="title function_">push</span>(<span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(t, n, &#123;</span><br><span class="line">                <span class="attr">get</span>: <span class="keyword">function</span>(<span class="params">t</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> e.<span class="property"><span class="keyword">prototype</span></span>[t]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; (n),</span><br><span class="line">                <span class="attr">configurable</span>: !<span class="number">0</span>,</span><br><span class="line">                <span class="attr">enumerable</span>: !<span class="number">0</span></span><br><span class="line">            &#125;)) : r.<span class="title function_">push</span>(t[n] = e.<span class="property"><span class="keyword">prototype</span></span>[n]) : r.<span class="title function_">push</span>(<span class="keyword">void</span> <span class="number">0</span>)</span><br><span class="line">        &#125; <span class="keyword">catch</span>(t) &#123;</span><br><span class="line">            <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> r</span><br><span class="line">    &#125;,</span><br><span class="line">    L = [],</span><br><span class="line">    y.<span class="property">ignore</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> t = <span class="variable language_">arguments</span>[<span class="number">0</span>],</span><br><span class="line">        e = <span class="number">2</span> &lt;= <span class="variable language_">arguments</span>.<span class="property">length</span> ? J.<span class="title function_">call</span>(<span class="variable language_">arguments</span>, <span class="number">1</span>) : [];</span><br><span class="line">        <span class="keyword">return</span> L.<span class="title function_">unshift</span>(<span class="string">&quot;ignore&quot;</span>),</span><br><span class="line">        e = t.<span class="title function_">apply</span>(<span class="literal">null</span>, e),</span><br><span class="line">        L.<span class="title function_">shift</span>(),</span><br><span class="line">        e</span><br><span class="line">    &#125;,</span><br><span class="line">    y.<span class="property">track</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> t = <span class="variable language_">arguments</span>[<span class="number">0</span>],</span><br><span class="line">        e = <span class="number">2</span> &lt;= <span class="variable language_">arguments</span>.<span class="property">length</span> ? J.<span class="title function_">call</span>(<span class="variable language_">arguments</span>, <span class="number">1</span>) : [];</span><br><span class="line">        <span class="keyword">return</span> L.<span class="title function_">unshift</span>(<span class="string">&quot;track&quot;</span>),</span><br><span class="line">        e = t.<span class="title function_">apply</span>(<span class="literal">null</span>, e),</span><br><span class="line">        L.<span class="title function_">shift</span>(),</span><br><span class="line">        e</span><br><span class="line">    &#125;,</span><br><span class="line">    A = <span class="keyword">function</span>(<span class="params">t</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> == t &amp;&amp; (t = <span class="string">&quot;GET&quot;</span>), <span class="string">&quot;track&quot;</span> === L[<span class="number">0</span>]) <span class="keyword">return</span> <span class="string">&quot;force&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (!L.<span class="property">length</span> &amp;&amp; T.<span class="property">ajax</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="string">&quot;socket&quot;</span> === t &amp;&amp; T.<span class="property">ajax</span>.<span class="property">trackWebSockets</span>) <span class="keyword">return</span> ! <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (t = t.<span class="title function_">toUpperCase</span>(), <span class="number">0</span> &lt;= V.<span class="title function_">call</span>(T.<span class="property">ajax</span>.<span class="property">trackMethods</span>, t)) <span class="keyword">return</span> ! <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ! <span class="number">1</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">Q</span>(et, s),</span><br><span class="line">    t = et,</span><br><span class="line">    D = <span class="literal">null</span>,</span><br><span class="line">    M = <span class="keyword">function</span>(<span class="params">t</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> e, n = T.<span class="property">ajax</span>.<span class="property">ignoreURLs</span>,</span><br><span class="line">        r = <span class="number">0</span>,</span><br><span class="line">        s = n.<span class="property">length</span>; r &lt; s; r++) <span class="keyword">if</span> (<span class="string">&quot;string&quot;</span> == <span class="title function_">typeof</span>(e = n[r])) &#123;</span><br><span class="line">            <span class="keyword">if</span> ( - <span class="number">1</span> !== t.<span class="title function_">indexOf</span>(e)) <span class="keyword">return</span> ! <span class="number">0</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="title function_">test</span>(t)) <span class="keyword">return</span> ! <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> ! <span class="number">1</span></span><br><span class="line">    &#125;,</span><br><span class="line">    (S = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> D = <span class="literal">null</span> == D ? <span class="keyword">new</span> <span class="attr">t</span>: D</span><br><span class="line">    &#125;)().<span class="title function_">on</span>(<span class="string">&quot;request&quot;</span>,</span><br><span class="line">    <span class="keyword">function</span>(<span class="params">t</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> o, i = t.<span class="property">type</span>,</span><br><span class="line">        a = t.<span class="property">request</span>,</span><br><span class="line">        e = t.<span class="property">url</span>;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="title function_">M</span>(e)) <span class="keyword">return</span> y.<span class="property">running</span> || !<span class="number">1</span> === T.<span class="property">restartOnRequestAfter</span> &amp;&amp; <span class="string">&quot;force&quot;</span> !== <span class="title function_">A</span>(i) ? <span class="keyword">void</span> <span class="number">0</span> : (o = <span class="variable language_">arguments</span>, <span class="string">&quot;boolean&quot;</span> == <span class="title function_">typeof</span>(e = T.<span class="property">restartOnRequestAfter</span> || <span class="number">0</span>) &amp;&amp; (e = <span class="number">0</span>), <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> t, e, n, r, s = <span class="string">&quot;socket&quot;</span> === i ? a.<span class="property">readyState</span> &lt; <span class="number">1</span> : <span class="number">0</span> &lt; (s = a.<span class="property">readyState</span>) &amp;&amp; s &lt; <span class="number">4</span>;</span><br><span class="line">            <span class="keyword">if</span> (s) &#123;</span><br><span class="line">                <span class="keyword">for</span> (y.<span class="title function_">restart</span>(), r = [], t = <span class="number">0</span>, e = (n = y.<span class="property">sources</span>).<span class="property">length</span>; t &lt; e; t++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> ((C = n[t]) <span class="keyword">instanceof</span> u) &#123;</span><br><span class="line">                        C.<span class="property">watch</span>.<span class="title function_">apply</span>(C, o);</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    r.<span class="title function_">push</span>(<span class="keyword">void</span> <span class="number">0</span>)</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> r</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        e))</span><br><span class="line">    &#125;),</span><br><span class="line">    nt.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">watch</span> = <span class="keyword">function</span>(<span class="params">t</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> e = t.<span class="property">type</span>,</span><br><span class="line">        n = t.<span class="property">request</span>,</span><br><span class="line">        t = t.<span class="property">url</span>;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="title function_">M</span>(t)) <span class="keyword">return</span> n = <span class="title function_">new</span>(<span class="string">&quot;socket&quot;</span> === e ? <span class="attr">r</span>: a)(n, <span class="variable language_">this</span>.<span class="property">complete</span>),</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">elements</span>.<span class="title function_">push</span>(n)</span><br><span class="line">    &#125;,</span><br><span class="line">    nt.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">complete</span> = <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">elements</span> = <span class="variable language_">this</span>.<span class="property">elements</span>.<span class="title function_">filter</span>(<span class="keyword">function</span>(<span class="params">t</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> t !== e</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    u = nt,</span><br><span class="line">    a = <span class="keyword">function</span>(<span class="params">e, n</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> t, r, s, o, i = <span class="variable language_">this</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">progress</span> = <span class="number">0</span>, <span class="literal">null</span> != <span class="variable language_">window</span>.<span class="property">ProgressEvent</span>) <span class="keyword">for</span> (<span class="title function_">p</span>(e, <span class="string">&quot;progress&quot;</span>,</span><br><span class="line">        <span class="keyword">function</span>(<span class="params">t</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> t.<span class="property">lengthComputable</span> ? i.<span class="property">progress</span> = <span class="number">100</span> * t.<span class="property">loaded</span> / t.<span class="property">total</span>: i.<span class="property">progress</span> = i.<span class="property">progress</span> + (<span class="number">100</span> - i.<span class="property">progress</span>) / <span class="number">2</span></span><br><span class="line">        &#125;), t = <span class="number">0</span>, r = (o = [<span class="string">&quot;load&quot;</span>, <span class="string">&quot;abort&quot;</span>, <span class="string">&quot;timeout&quot;</span>, <span class="string">&quot;error&quot;</span>]).<span class="property">length</span>; t &lt; r; t++) <span class="title function_">p</span>(e, o[t],</span><br><span class="line">        <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">n</span>(i),</span><br><span class="line">            i.<span class="property">progress</span> = <span class="number">100</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">else</span> s = e.<span class="property">onreadystatechange</span>,</span><br><span class="line">        e.<span class="property">onreadystatechange</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> t;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span> === (t = e.<span class="property">readyState</span>) || <span class="number">4</span> === t ? (<span class="title function_">n</span>(i), i.<span class="property">progress</span> = <span class="number">100</span>) : <span class="number">3</span> === e.<span class="property">readyState</span> &amp;&amp; (i.<span class="property">progress</span> = <span class="number">50</span>),</span><br><span class="line">            <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> s ? s.<span class="title function_">apply</span>(<span class="literal">null</span>, <span class="variable language_">arguments</span>) : <span class="keyword">void</span> <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    r = <span class="keyword">function</span>(<span class="params">t, e</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> n, r = <span class="variable language_">this</span>,</span><br><span class="line">        s = <span class="variable language_">this</span>.<span class="property">progress</span> = <span class="number">0</span>,</span><br><span class="line">        o = (n = [<span class="string">&quot;error&quot;</span>, <span class="string">&quot;open&quot;</span>]).<span class="property">length</span>; s &lt; o; s++) <span class="title function_">p</span>(t, n[s],</span><br><span class="line">        <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">e</span>(r),</span><br><span class="line">            r.<span class="property">progress</span> = <span class="number">100</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    rt.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">complete</span> = <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">elements</span> = <span class="variable language_">this</span>.<span class="property">elements</span>.<span class="title function_">filter</span>(<span class="keyword">function</span>(<span class="params">t</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> t !== e</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    k = rt,</span><br><span class="line">    st.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">check</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> t = <span class="variable language_">this</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="variable language_">this</span>.<span class="property">selector</span>) ? <span class="variable language_">this</span>.<span class="title function_">done</span>() : <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> t.<span class="title function_">check</span>()</span><br><span class="line">        &#125;,</span><br><span class="line">        T.<span class="property">elements</span>.<span class="property">checkInterval</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    st.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">done</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">completeCallback</span>(<span class="variable language_">this</span>),</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">completeCallback</span> = <span class="literal">null</span>,</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">progress</span> = <span class="number">100</span></span><br><span class="line">    &#125;,</span><br><span class="line">    i = st,</span><br><span class="line">    ot.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">states</span> = &#123;</span><br><span class="line">        <span class="attr">loading</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">interactive</span>: <span class="number">50</span>,</span><br><span class="line">        <span class="attr">complete</span>: <span class="number">100</span></span><br><span class="line">    &#125;,</span><br><span class="line">    B = ot,</span><br><span class="line">    Q = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> e, n, r, s, o, i = <span class="variable language_">this</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">progress</span> = <span class="number">0</span>,</span><br><span class="line">        o = [],</span><br><span class="line">        s = <span class="number">0</span>,</span><br><span class="line">        r = <span class="title function_">P</span>(),</span><br><span class="line">        n = <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> t = <span class="title function_">P</span>() - r - <span class="number">50</span>;</span><br><span class="line">            <span class="keyword">return</span> r = <span class="title function_">P</span>(),</span><br><span class="line">            o.<span class="title function_">push</span>(t),</span><br><span class="line">            o.<span class="property">length</span> &gt; T.<span class="property">eventLag</span>.<span class="property">sampleCount</span> &amp;&amp; o.<span class="title function_">shift</span>(),</span><br><span class="line">            e = <span class="title function_">h</span>(o),</span><br><span class="line">            ++s &gt;= T.<span class="property">eventLag</span>.<span class="property">minSamples</span> &amp;&amp; e &lt; T.<span class="property">eventLag</span>.<span class="property">lagThreshold</span> ? (i.<span class="property">progress</span> = <span class="number">100</span>, <span class="built_in">clearInterval</span>(n)) : i.<span class="property">progress</span> = <span class="number">3</span> / (e + <span class="number">3</span>) * <span class="number">100</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="number">50</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    it.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">tick</span> = <span class="keyword">function</span>(<span class="params">t, e</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">100</span> &lt;= (e = <span class="literal">null</span> == e ? <span class="title function_">j</span>(<span class="variable language_">this</span>.<span class="property">source</span>, <span class="string">&quot;progress&quot;</span>) : e) &amp;&amp; (<span class="variable language_">this</span>.<span class="property">done</span> = !<span class="number">0</span>),</span><br><span class="line">        e === <span class="variable language_">this</span>.<span class="property">last</span> ? <span class="variable language_">this</span>.<span class="property">sinceLastUpdate</span> += <span class="attr">t</span>: (<span class="variable language_">this</span>.<span class="property">sinceLastUpdate</span> &amp;&amp; (<span class="variable language_">this</span>.<span class="property">rate</span> = (e - <span class="variable language_">this</span>.<span class="property">last</span>) / <span class="variable language_">this</span>.<span class="property">sinceLastUpdate</span>), <span class="variable language_">this</span>.<span class="property">catchup</span> = (e - <span class="variable language_">this</span>.<span class="property">progress</span>) / T.<span class="property">catchupTime</span>, <span class="variable language_">this</span>.<span class="property">sinceLastUpdate</span> = <span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">last</span> = e),</span><br><span class="line">        e &gt; <span class="variable language_">this</span>.<span class="property">progress</span> &amp;&amp; (<span class="variable language_">this</span>.<span class="property">progress</span> += <span class="variable language_">this</span>.<span class="property">catchup</span> * t),</span><br><span class="line">        e = <span class="number">1</span> - <span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="variable language_">this</span>.<span class="property">progress</span> / <span class="number">100</span>, T.<span class="property">easeFactor</span>),</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">progress</span> += e * <span class="variable language_">this</span>.<span class="property">rate</span> * t,</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">progress</span> = <span class="title class_">Math</span>.<span class="title function_">min</span>(<span class="variable language_">this</span>.<span class="property">lastProgress</span> + T.<span class="property">maxProgressPerFrame</span>, <span class="variable language_">this</span>.<span class="property">progress</span>),</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">progress</span> = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">progress</span>),</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">progress</span> = <span class="title class_">Math</span>.<span class="title function_">min</span>(<span class="number">100</span>, <span class="variable language_">this</span>.<span class="property">progress</span>),</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">lastProgress</span> = <span class="variable language_">this</span>.<span class="property">progress</span>,</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">progress</span></span><br><span class="line">    &#125;,</span><br><span class="line">    v = it,</span><br><span class="line">    b = e = _ = w = E = N = <span class="literal">null</span>,</span><br><span class="line">    y.<span class="property">running</span> = !<span class="number">1</span>,</span><br><span class="line">    q = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (T.<span class="property">restartOnPushState</span>) <span class="keyword">return</span> y.<span class="title function_">restart</span>()</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="literal">null</span> != <span class="variable language_">window</span>.<span class="property">history</span>.<span class="property">pushState</span> &amp;&amp; (I = <span class="variable language_">window</span>.<span class="property">history</span>.<span class="property">pushState</span>, <span class="variable language_">window</span>.<span class="property">history</span>.<span class="property">pushState</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">q</span>(),</span><br><span class="line">        I.<span class="title function_">apply</span>(<span class="variable language_">window</span>.<span class="property">history</span>, <span class="variable language_">arguments</span>)</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="literal">null</span> != <span class="variable language_">window</span>.<span class="property">history</span>.<span class="property">replaceState</span> &amp;&amp; (G = <span class="variable language_">window</span>.<span class="property">history</span>.<span class="property">replaceState</span>, <span class="variable language_">window</span>.<span class="property">history</span>.<span class="property">replaceState</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">q</span>(),</span><br><span class="line">        G.<span class="title function_">apply</span>(<span class="variable language_">window</span>.<span class="property">history</span>, <span class="variable language_">arguments</span>)</span><br><span class="line">    &#125;),</span><br><span class="line">    l = &#123;</span><br><span class="line">        <span class="attr">ajax</span>: u,</span><br><span class="line">        <span class="attr">elements</span>: k,</span><br><span class="line">        <span class="attr">document</span>: B,</span><br><span class="line">        <span class="attr">eventLag</span>: Q</span><br><span class="line">    &#125;,</span><br><span class="line">    (x = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> t, e, n, r, s, o, i, a;</span><br><span class="line">        <span class="keyword">for</span> (y.<span class="property">sources</span> = N = [], e = <span class="number">0</span>, r = (o = [<span class="string">&quot;ajax&quot;</span>, <span class="string">&quot;elements&quot;</span>, <span class="string">&quot;document&quot;</span>, <span class="string">&quot;eventLag&quot;</span>]).<span class="property">length</span>; e &lt; r; e++) ! <span class="number">1</span> !== T[t = o[e]] &amp;&amp; N.<span class="title function_">push</span>(<span class="keyword">new</span> l[t](T[t]));</span><br><span class="line">        <span class="keyword">for</span> (n = <span class="number">0</span>, s = (a = <span class="literal">null</span> != (i = T.<span class="property">extraSources</span>) ? <span class="attr">i</span>: []).<span class="property">length</span>; n &lt; s; n++) C = a[n],</span><br><span class="line">        N.<span class="title function_">push</span>(<span class="keyword">new</span> <span class="title function_">C</span>(T));</span><br><span class="line">        <span class="keyword">return</span> y.<span class="property">bar</span> = w = <span class="keyword">new</span> c,</span><br><span class="line">        E = [],</span><br><span class="line">        _ = <span class="keyword">new</span> v</span><br><span class="line">    &#125;)(),</span><br><span class="line">    y.<span class="property">stop</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> y.<span class="title function_">trigger</span>(<span class="string">&quot;stop&quot;</span>),</span><br><span class="line">        y.<span class="property">running</span> = !<span class="number">1</span>,</span><br><span class="line">        w.<span class="title function_">destroy</span>(),</span><br><span class="line">        b = !<span class="number">0</span>,</span><br><span class="line">        <span class="literal">null</span> != e &amp;&amp; (<span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> f &amp;&amp; <span class="title function_">f</span>(e), e = <span class="literal">null</span>),</span><br><span class="line">        <span class="title function_">x</span>()</span><br><span class="line">    &#125;,</span><br><span class="line">    y.<span class="property">restart</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> y.<span class="title function_">trigger</span>(<span class="string">&quot;restart&quot;</span>),</span><br><span class="line">        y.<span class="title function_">stop</span>(),</span><br><span class="line">        y.<span class="title function_">start</span>()</span><br><span class="line">    &#125;,</span><br><span class="line">    y.<span class="property">go</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> m;</span><br><span class="line">        <span class="keyword">return</span> y.<span class="property">running</span> = !<span class="number">0</span>,</span><br><span class="line">        w.<span class="title function_">render</span>(),</span><br><span class="line">        m = <span class="title function_">P</span>(),</span><br><span class="line">        b = !<span class="number">1</span>,</span><br><span class="line">        e = <span class="title function_">O</span>(<span class="keyword">function</span>(<span class="params">t, e</span>) &#123;</span><br><span class="line">            w.<span class="property">progress</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> n, r, s, o, i, a, u, c, l, p, h = a = <span class="number">0</span>,</span><br><span class="line">            f = !<span class="number">0</span>,</span><br><span class="line">            g = u = <span class="number">0</span>,</span><br><span class="line">            d = N.<span class="property">length</span>; u &lt; d; g = ++u) <span class="keyword">for</span> (C = N[g], i = <span class="literal">null</span> != E[g] ? E[g] : E[g] = [], s = c = <span class="number">0</span>, l = (r = <span class="literal">null</span> != (p = C.<span class="property">elements</span>) ? <span class="attr">p</span>: [C]).<span class="property">length</span>; c &lt; l; s = ++c) o = r[s],</span><br><span class="line">            f &amp;= (o = <span class="literal">null</span> != i[s] ? i[s] : i[s] = <span class="keyword">new</span> <span class="title function_">v</span>(o)).<span class="property">done</span>,</span><br><span class="line">            o.<span class="property">done</span> || (h++, a += o.<span class="title function_">tick</span>(t));</span><br><span class="line">            <span class="keyword">return</span> n = a / h,</span><br><span class="line">            w.<span class="title function_">update</span>(_.<span class="title function_">tick</span>(t, n)),</span><br><span class="line">            w.<span class="title function_">done</span>() || f || b ? (w.<span class="title function_">update</span>(<span class="number">100</span>), y.<span class="title function_">trigger</span>(<span class="string">&quot;done&quot;</span>), <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> w.<span class="title function_">finish</span>(),</span><br><span class="line">                y.<span class="property">running</span> = !<span class="number">1</span>,</span><br><span class="line">                y.<span class="title function_">trigger</span>(<span class="string">&quot;hide&quot;</span>)</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="title class_">Math</span>.<span class="title function_">max</span>(T.<span class="property">ghostTime</span>, <span class="title class_">Math</span>.<span class="title function_">max</span>(T.<span class="property">minTime</span> - (<span class="title function_">P</span>() - m), <span class="number">0</span>)))) : <span class="title function_">e</span>()</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    y.<span class="property">start</span> = <span class="keyword">function</span>(<span class="params">t</span>) &#123;</span><br><span class="line">        <span class="title function_">d</span>(T, t),</span><br><span class="line">        y.<span class="property">running</span> = !<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            w.<span class="title function_">render</span>()</span><br><span class="line">        &#125; <span class="keyword">catch</span>(t) &#123;</span><br><span class="line">            n = t</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.pace&quot;</span>) ? (y.<span class="title function_">trigger</span>(<span class="string">&quot;start&quot;</span>), y.<span class="title function_">go</span>()) : <span class="built_in">setTimeout</span>(y.<span class="property">start</span>, <span class="number">50</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> define &amp;&amp; define.<span class="property">amd</span> ? <span class="title function_">define</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> y</span><br><span class="line">    &#125;) : <span class="string">&quot;object&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">exports</span> ? <span class="variable language_">module</span>.<span class="property">exports</span> = <span class="attr">y</span>: T.<span class="property">startOnPageLoad</span> &amp;&amp; y.<span class="title function_">start</span>()</span><br><span class="line">&#125;.<span class="title function_">call</span>(<span class="variable language_">this</span>);</span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="config-butterfly-yml主题文件中加入"><a href="#config-butterfly-yml主题文件中加入" class="headerlink" title="_config.butterfly.yml主题文件中加入"></a>_config.butterfly.yml主题文件中加入</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://npm.elemecdn.com/pace-js@latest/pace.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/load.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Hexo-白昼切换"><a href="#Hexo-白昼切换" class="headerlink" title="Hexo 白昼切换"></a>Hexo 白昼切换</h1><p>看惯了Hexo Butterfly默认的黑夜/白天效果，正好看到 <strong><a href="https://www.jayhrn.com/">Jayhrnの糖衣阁</a></strong>大佬的黑白切换效果超级nice，所以也是第一时间换上了，下面告诉大家一下相关配置，相关文件大家也是可以在Gitee上找到的，链接我放底下了哦</p><p>（1）在themes\butterfly\layout\includes\custom\下新建一个sun_moon.pug【如果includes\下没有custom，记得自己创建哦】</p><p>主要用途：通过 js 操作它的旋转显隐，淡入淡出实现动画效果</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">svg(aria-hidden=&#x27;true&#x27;, style=&#x27;position:absolute; overflow:hidden; width:0; height:0&#x27;)</span><br><span class="line">  symbol#icon-sun(viewBox=&#x27;0 0 1024 1024&#x27;)</span><br><span class="line">    path(d=&#x27;M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z&#x27;, fill=&#x27;#FFD878&#x27;, p-id=&#x27;8420&#x27;)</span><br><span class="line">    path(d=&#x27;M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z&#x27;, fill=&#x27;#FFE4A9&#x27;, p-id=&#x27;8421&#x27;)</span><br><span class="line">    path(d=&#x27;M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z&#x27;, fill=&#x27;#4D5152&#x27;, p-id=&#x27;8422&#x27;)</span><br><span class="line">    path(d=&#x27;M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z&#x27;, fill=&#x27;#4D5152&#x27;, p-id=&#x27;8423&#x27;)</span><br><span class="line">  symbol#icon-moon(viewBox=&#x27;0 0 1024 1024&#x27;)</span><br><span class="line">    path(d=&#x27;M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z&#x27;, fill=&#x27;#FFB531&#x27;, p-id=&#x27;11345&#x27;)</span><br><span class="line">    path(d=&#x27;M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 01030.165333-30.165333z&#x27;, fill=&#x27;#030835&#x27;, p-id=&#x27;11346&#x27;)</span><br></pre></td></tr></table></figure><p>（2）themes\butterfly\source\css_layout\文件夹中新建一个sun_moon.styl</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">.Cuteen_DarkSky,</span><br><span class="line">.Cuteen_DarkSky:before</span><br><span class="line">  content &#x27;&#x27;</span><br><span class="line">  position fixed</span><br><span class="line">  left 0</span><br><span class="line">  right 0</span><br><span class="line">  top 0</span><br><span class="line">  bottom 0</span><br><span class="line">  z-index 88888888</span><br><span class="line"></span><br><span class="line">.Cuteen_DarkSky</span><br><span class="line">  background linear-gradient(#feb8b0, #fef9db)</span><br><span class="line">  &amp;:before</span><br><span class="line">    transition 2s ease all</span><br><span class="line">    opacity 0</span><br><span class="line">    background linear-gradient(#4c3f6d, #6c62bb, #93b1ed)</span><br><span class="line"></span><br><span class="line">.DarkMode</span><br><span class="line">  .Cuteen_DarkSky</span><br><span class="line">    &amp;:before</span><br><span class="line">      opacity 1</span><br><span class="line"></span><br><span class="line">.Cuteen_DarkPlanet</span><br><span class="line">  z-index 99999999</span><br><span class="line">  position fixed</span><br><span class="line">  left -50%</span><br><span class="line">  top -50%</span><br><span class="line">  width 200%</span><br><span class="line">  height 200%</span><br><span class="line">  -webkit-animation CuteenPlanetMove 2s cubic-bezier(0.7, 0, 0, 1)</span><br><span class="line">  animation CuteenPlanetMove 2s cubic-bezier(0.7, 0, 0, 1)</span><br><span class="line">  transform-origin center bottom</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@-webkit-keyframes CuteenPlanetMove &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    transform: rotate(0);</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    transform: rotate(360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes CuteenPlanetMove &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    transform: rotate(0);</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    transform: rotate(360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">.Cuteen_DarkPlanet</span><br><span class="line">  &amp;:after</span><br><span class="line">    position absolute</span><br><span class="line">    left 35%</span><br><span class="line">    top 40%</span><br><span class="line">    width 9.375rem</span><br><span class="line">    height 9.375rem</span><br><span class="line">    border-radius 50%</span><br><span class="line">    content &#x27;&#x27;</span><br><span class="line">    background linear-gradient(#fefefe, #fffbe8)</span><br><span class="line"></span><br><span class="line">.search</span><br><span class="line">  span</span><br><span class="line">    display none</span><br><span class="line"></span><br><span class="line">.menus_item</span><br><span class="line">  a</span><br><span class="line">    text-decoration none!important</span><br><span class="line">//按钮相关，对侧栏按钮做过魔改的可以调整这里的数值</span><br><span class="line">.icon-V</span><br><span class="line">  padding 5px</span><br></pre></td></tr></table></figure><p>（3）在\themes\butterfly\source\js\custom\下新建sun_moon.js【如果js\下没有custom，记得自己创建哦】</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">switchNightMode</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="title function_">insertAdjacentHTML</span>(<span class="string">&#x27;beforeend&#x27;</span>, <span class="string">&#x27;&lt;div class=&quot;Cuteen_DarkSky&quot;&gt;&lt;div class=&quot;Cuteen_DarkPlanet&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#x27;</span>),</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">contains</span>(<span class="string">&#x27;DarkMode&#x27;</span>) ? (<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;DarkMode&#x27;</span>), <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;isDark&#x27;</span>, <span class="string">&#x27;0&#x27;</span>), <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-moon&#x27;</span>)) : (<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;DarkMode&#x27;</span>), <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;isDark&#x27;</span>, <span class="string">&#x27;1&#x27;</span>), <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-sun&#x27;</span>)),</span><br><span class="line">                <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[<span class="number">0</span>].<span class="property">style</span>.<span class="property">transition</span> = <span class="string">&#x27;opacity 3s&#x27;</span>;</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[<span class="number">0</span>].<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                    <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                        <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[<span class="number">0</span>].<span class="title function_">remove</span>();</span><br><span class="line">                    &#125;, <span class="number">1e3</span>);</span><br><span class="line">                &#125;, <span class="number">2e3</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="keyword">const</span> nowMode = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>) === <span class="string">&#x27;dark&#x27;</span> ? <span class="string">&#x27;dark&#x27;</span> : <span class="string">&#x27;light&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> (nowMode === <span class="string">&#x27;light&#x27;</span>) &#123;</span><br><span class="line">        <span class="title function_">activateDarkMode</span>()</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;dark&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span> !== <span class="literal">undefined</span> &amp;&amp; btf.<span class="title function_">snackbarShow</span>(<span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">day_to_night</span>)</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-sun&#x27;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">activateLightMode</span>()</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;light&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;DarkMode&#x27;</span>), <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-moon&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// handle some cases</span></span><br><span class="line">    <span class="keyword">typeof</span> utterancesTheme === <span class="string">&#x27;function&#x27;</span> &amp;&amp; <span class="title function_">utterancesTheme</span>()</span><br><span class="line">    <span class="keyword">typeof</span> <span class="variable constant_">FB</span> === <span class="string">&#x27;object&#x27;</span> &amp;&amp; <span class="variable language_">window</span>.<span class="title function_">loadFBComment</span>()</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">DISQUS</span> &amp;&amp; <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;disqus_thread&#x27;</span>).<span class="property">children</span>.<span class="property">length</span> &amp;&amp; <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="variable language_">window</span>.<span class="title function_">disqusReset</span>(), <span class="number">200</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>（4）修改 [Blogroot]\themes\butterfly\layout\includes\head.pug</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//- global config</span><br><span class="line">!=partial(&#x27;includes/head/config&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"></span><br><span class="line">include ./head/config_site.pug</span><br><span class="line">include ./head/noscript.pug</span><br><span class="line">include ./custom/sun_moon.pug【添加上这句】</span><br><span class="line"></span><br><span class="line">!=fragment_cache(&#x27;injectHeadJs&#x27;, function()&#123;return inject_head_js()&#125;)</span><br><span class="line"></span><br><span class="line">!=fragment_cache(&#x27;injectHead&#x27;, function()&#123;return injectHtml(theme.inject.head)&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>（5）修改 [Blogroot]\themes\butterfly\layout\includes\rightside.pug, 把原本的昼夜切换按钮替换掉</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">when &#x27;translate&#x27;</span><br><span class="line">  if translate.enable</span><br><span class="line">    button<span class="params">#</span>translateLink(type=&quot;button&quot; title=<span class="built_in">_</span>p(&#x27;rightside.translate<span class="built_in">_</span>title&#x27;))= translate.default</span><br><span class="line">when &#x27;darkmode&#x27;</span><br><span class="line">  if darkmode.enable <span class="built_in">&amp;</span><span class="built_in">&amp;</span> darkmode.button</span><br><span class="line">    button<span class="params">#</span>darkmode(type=&quot;button&quot; title=<span class="built_in">_</span>p(&#x27;rightside.night<span class="built_in">_</span>mode<span class="built_in">_</span>title&#x27;)) 【这句删除掉】</span><br><span class="line">      i.fas.fa-adjust 【这句删除掉】</span><br><span class="line">    a.icon-V.hidden(onclick=&#x27;switchNightMode()&#x27;,  title=<span class="built_in">_</span>p(&#x27;rightside.night<span class="built_in">_</span>mode<span class="built_in">_</span>title&#x27;))【添加上这句】</span><br><span class="line">      svg(width=&#x27;25&#x27;, height=&#x27;25&#x27;, viewBox=&#x27;0 0 1024 1024&#x27;)【添加上这句】</span><br><span class="line">        use<span class="params">#</span>modeicon(xlink:href=&#x27;<span class="params">#</span>icon-moon&#x27;)【添加上这句】</span><br></pre></td></tr></table></figure><p>（6）修改 [Blogroot]_config.butterfly.yml, 引入一下 js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  bottom:</span><br><span class="line">    - &lt;script src=&quot;/js/custom/sun_moon.js&quot; async&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h1 id="朋友圈"><a href="#朋友圈" class="headerlink" title="朋友圈"></a>朋友圈</h1><div class="tip success"><p>看到很多博主都整了属于自己的朋友圈页面，所以在自己的轻量级服务器上也是第一时间部署上了，这里直接说在server部署咯</p><p>这个是我自己的：<a href="https://blog.gmcj0816.top/fcircle/">朋友圈 | 七鳄の学习格 (gmcj0816.top)</a></p></div><h2 id="后端配置"><a href="#后端配置" class="headerlink" title="后端配置"></a>后端配置</h2><h3 id="上传文件"><a href="#上传文件" class="headerlink" title="上传文件"></a>上传文件</h3><ul><li>下载文件</li></ul><p>方法一：<code>clone</code>项目仓库，地址：<a href="https://github.com/Rock-Candy-Tea/hexo-circle-of-friends">https://github.com/Rock-Candy-Tea/hexo-circle-of-friends</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/Rock-Candy-Tea/hexo-circle-of-friends</span><br></pre></td></tr></table></figure><p>方法二：这里也是可以先从物理机上下载然后上传到云服务器上</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/Rock-Candy-Tea/hexo-circle-of-friends</span><br></pre></td></tr></table></figure><p>然后连接并上传到服务器上</p><h3 id="在服务器上下载Python3-x"><a href="#在服务器上下载Python3-x" class="headerlink" title="在服务器上下载Python3.x"></a>在服务器上下载Python3.x</h3><p>因为获取相关数据主要就是用python3 爬虫，所以需要下载Python3.x，这里以3.8为例</p><ul><li>下载相关依赖</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libffi-devel yum vim gcc</span><br></pre></td></tr></table></figure><ul><li>安装Python3.8.8</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget https://www.python.org/ftp/python/3.8.8/Python-3.8.8.tgz</span><br><span class="line">tar -zxf Python-3.8.8.tgz &amp;&amp; cd Python-3.8.8</span><br><span class="line">./configure --prefix=/usr/local/python3</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><ul><li>进行软链接</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/local/python3/bin/python3.8 /usr/bin/python3</span><br><span class="line">ln -s /usr/local/python3/bin/pip3.8 /usr/bin/pip3</span><br></pre></td></tr></table></figure><p>安装完成之后验证是否成功，正常是可以看到版本号的</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 --version</span><br></pre></td></tr></table></figure><h3 id="需要下载pip"><a href="#需要下载pip" class="headerlink" title="需要下载pip"></a>需要下载pip</h3><p>这个主要是朋友圈5.x之后需要有这个，不然会报错</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyyaml</span><br></pre></td></tr></table></figure><h3 id="在服务器上下载git"><a href="#在服务器上下载git" class="headerlink" title="在服务器上下载git"></a>在服务器上下载git</h3><p>如果有git可以跳过</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y git</span><br></pre></td></tr></table></figure><h3 id="修改相关配置"><a href="#修改相关配置" class="headerlink" title="修改相关配置"></a>修改相关配置</h3><ul><li>编辑<code>/hexo_circle_of_friends/fc_settings.yaml</code>文件，需要修改的配置如下：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LINK:</span><br><span class="line">    - &#123;link: &quot;https://www.yyyzyyyz.cn/link/&quot;, theme: &quot;butterfly&quot;&#125;  # link改为你的友链页地址，theme选择你的博客主题</span><br></pre></td></tr></table></figure><p>因为是server部署，这里需要改成server</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">BLOCK_SITE:</span> []</span><br><span class="line"><span class="attr">DATABASE:</span> <span class="string">sqlite</span>  <span class="comment"># 这里可以默认不需要修改</span></span><br><span class="line"><span class="attr">DEPLOY_TYPE:</span> <span class="string">server</span>  <span class="comment"># 需要改成server</span></span><br><span class="line"><span class="attr">GITEE_FRIENDS_LINKS:</span></span><br></pre></td></tr></table></figure><ul><li>运行位于项目根目录的部署脚本：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 deploy.py</span><br></pre></td></tr></table></figure><p><img src="https://fcircle-doc.yyyzyyyz.cn/image-20221008234502065.png" alt="部署画面"></p><p>选择<code>server---&gt;部署</code>，等待运行完毕即可。</p><p>部署完毕后，查看进程，服务器上开始运行两个进程，一个是爬虫程序，另一个是api服务：</p><p><img src="https://fcircle-doc.yyyzyyyz.cn/image-20221008234800555.png" alt="进程"></p><p>查看效果</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl 127.0.0.1:8000/all</span><br></pre></td></tr></table></figure><h3 id="Nginx代理"><a href="#Nginx代理" class="headerlink" title="Nginx代理"></a>Nginx代理</h3><p>因为https访问http接口就会禁止</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">在你的Hexo 443端口下添加</span><br><span class="line">location ^~/friendlink&#123;</span><br><span class="line">          proxy_pass http://127.0.0.1:端口号/;</span><br><span class="line">          proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">          proxy_set_header Host $http_host;</span><br><span class="line">          proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h2 id="前端配置"><a href="#前端配置" class="headerlink" title="前端配置"></a>前端配置</h2><h3 id="新建页面"><a href="#新建页面" class="headerlink" title="新建页面"></a>新建页面</h3><p>比如hexo在博客根目录使用命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new fcircle</span><br></pre></td></tr></table></figure><p>可以看到<code>source/fcircle/index.md</code> 文件，打开该文件，粘贴以下内容（注意修改api地址）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 朋友圈</span><br><span class="line">date: 2022-01-29 15:23:17</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    let UserConfig = &#123;</span><br><span class="line">        // 填写你的api地址</span><br><span class="line">        private_api_url: &#x27;https://blog.gmcj0816.top/friendlink&#x27;,  //这里改成自己的</span><br><span class="line">        // 点击加载更多时，一次最多加载几篇文章，默认10</span><br><span class="line">        page_turning_number: 10,</span><br><span class="line">        // 头像加载失败时，默认头像地址</span><br><span class="line">        error_img: &#x27;https://sdn.geekzu.org/avatar/57d8260dfb55501c37dde588e7c3852c&#x27;,</span><br><span class="line">        // 进入页面时第一次的排序规则</span><br><span class="line">        sort_rule: &#x27;created&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;https://npm.elemecdn.com/imgscdn@1.1.39/fcircle/app.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;https://npm.elemecdn.com/imgscdn@1.1.39/fcircle/bundle.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>到这里基本就完事了</p><p>下面就是根据自己的实际修改了，在5.x版本是可以前端修改相关信息的</p><h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><div class="tip home"><p>这里本站的前端已经更换成安知鱼的教程类型，现在发现越来越Heo化了</p></div><p>这里就参考<a href="https://anzhiy.cn/posts/3753.html">安知鱼 - 生活明朗 万物可爱 (anzhiy.cn)</a></p><h3 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h3><p>在博客根目录<code>[Blogroot]</code>下打开终端，运行以下指令（与旧版前端方案不兼容，如有安装旧版请先卸载）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-butterfly-fcircle --save</span><br><span class="line">npm uninstall hexo-filter-fcircle --save</span><br><span class="line">npm install hexo-filter-fcircle-anzhiyu --save</span><br></pre></td></tr></table></figure><h3 id="添加配置信息"><a href="#添加配置信息" class="headerlink" title="添加配置信息"></a>添加配置信息</h3><p>在站点配置文件<code>_config.yml</code>或者主题配置文件例如<code>_config.butterfly.yml</code>中添加</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># fcircle</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/62f13a97/</span></span><br><span class="line"><span class="attr">fcircle:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#控制开关</span></span><br><span class="line">  <span class="attr">apiurl:</span> <span class="string">https://friends.anzhiy.cn/</span> <span class="comment">#api地址(注意后面要有/)</span></span><br><span class="line">  <span class="attr">initnumber:</span> <span class="number">30</span> <span class="comment">#【可选】页面初始化展示文章数量</span></span><br><span class="line">  <span class="attr">stepnumber:</span> <span class="number">30</span> <span class="comment">#【可选】每次加载增加的篇数</span></span><br><span class="line">  <span class="attr">css:</span> <span class="string">https://npm.elemecdn.com/hexo-filter-fcircle-anzhiyu@1.0.9/assets/css/default.css</span> <span class="comment">#【可选】开发者接口，自定义css链接</span></span><br><span class="line">  <span class="attr">js:</span> <span class="string">https://npm.elemecdn.com/hexo-filter-fcircle-anzhiyu@1.0.9/assets/js/fcircle.js</span> <span class="comment">#【可选】开发者接口，自定义js链接</span></span><br><span class="line">  <span class="attr">fetchJs:</span> <span class="string">https://npm.elemecdn.com/hexo-filter-fcircle-anzhiyu@1.0.9/assets/js/fetch.js</span></span><br><span class="line">  <span class="attr">randomFriendsPostJS:</span> <span class="string">https://npm.elemecdn.com/hexo-filter-fcircle-anzhiyu@1.0.9/assets/js/random-friends-post.js</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">/fcircle</span> <span class="comment">#【可选】fcircle的路径名称。默认为 fcircle，生成的页面为 fcircle/index.html</span></span><br><span class="line">  <span class="attr">topIcon:</span> <span class="string">fas</span> <span class="string">fa-arrow-right</span></span><br><span class="line">  <span class="attr">topLink:</span> <span class="string">/about/</span></span><br><span class="line">  <span class="attr">front_matter:</span> <span class="comment">#【可选】fcircle页面的 front_matter 配置</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">朋友圈</span></span><br><span class="line">    <span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">aside:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">top_img:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ul><li>样式适配</li></ul><p>安装完成✅以后，会发现顶部样式有亿点奇怪, 需要与自己的主题样式进行适配, 可以尝试加入以下自定义css。</p><ul><li>顶部卡片样式适配</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.author-content</span><span class="selector-class">.author-content-item</span><span class="selector-class">.fcirclePage</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.author-content-item</span> <span class="selector-class">.card-content</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1rem</span> <span class="number">2rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.author-content-item</span> <span class="selector-class">.author-content-item-tips</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: .<span class="number">8</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: .<span class="number">6rem</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0.5rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.author-content-item</span> <span class="selector-class">.card-content</span> <span class="selector-class">.author-content-item-title</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0.5rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.author-content-item</span> <span class="selector-class">.author-content-item-title</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">36px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.author-content-item</span> <span class="selector-class">.content-bottom</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: auto;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.author-content-item</span> <span class="selector-class">.card-content</span> <span class="selector-class">.banner-button-group</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">1.5rem</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">2rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.author-content-item</span> <span class="selector-class">.card-content</span> <span class="selector-class">.banner-button-group</span> <span class="selector-class">.banner-button</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">124px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--sevene--bg);</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">transition</span>: .<span class="number">3s</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">0</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.author-content-item</span> <span class="selector-class">.card-content</span> <span class="selector-class">.banner-button-group</span> <span class="selector-class">.banner-button</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1rem</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>该项目中css使用了css变量, 添加变量css如下, 您可自行修改。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 颜色 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&#x27;light&#x27;</span>]</span> &#123;</span><br><span class="line">  <span class="attr">--sevene-card-bg</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span> &#123;</span><br><span class="line">  <span class="attr">--sevene-card-bg</span>: <span class="number">#1d1b26</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>整页背景调整</li></ul><p>加完以后会发现还是有点奇怪并且无法修改背景, 因为需要给当前页面加一个特定的类名来修改当前页面背景和底部页脚的文字颜色。<br>修改<code>themes/butterfly/layout/page.pug</code>第5行, 注意缩进</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  block content</span><br><span class="line"><span class="addition">+     - let fcircle_page = (is_current(&#x27;/fcircle/&#x27;)) ? true : false</span></span><br><span class="line"><span class="deletion">-     #page</span></span><br><span class="line"><span class="addition">+     #page(class= (fcircle_page === true) ? &#x27;fcircle_page&#x27; : &#x27;&#x27;)</span></span><br><span class="line">      if top_img <span class="comment">=== false</span></span><br><span class="line">        h1.page-title= page.title</span><br></pre></td></tr></table></figure><p>修改<code>themes/butterfly/layout/includes/layout.pug</code>第16行, 注意缩进</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  if theme.background</span><br><span class="line"><span class="deletion">-   web_bg</span></span><br><span class="line"><span class="addition">+   #web_bg(class= (fcircle_page === true) ? &#x27;fcircle_page-page-background&#x27; : &#x27;&#x27;)</span></span><br><span class="line">    </span><br><span class="line">  !=partial(&#x27;includes/sidebar&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br></pre></td></tr></table></figure><p>改完以后就可以通过css来修改当前页面的背景和底部页脚的文字颜色了, 加入以下css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.fcircle_page-page-background</span><span class="selector-id">#web_bg</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--sevene-background) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span> <span class="selector-class">.fcircle_page-page-background</span><span class="selector-id">#web_bg</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--global-bg) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=light]</span> <span class="selector-class">.fcircle_page-page-background</span> ~ <span class="selector-class">.page</span> <span class="selector-id">#footer</span> <span class="selector-id">#footer-wrap</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=light]</span> <span class="selector-class">.fcircle_page-page-background</span> ~ <span class="selector-class">.page</span> <span class="selector-id">#footer</span> <span class="selector-id">#footer-wrap</span> <span class="selector-tag">a</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.author-content</span><span class="selector-class">.author-content-item</span><span class="selector-class">.fcirclePage</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&quot;这里修改成自己喜欢的图片&quot;</span>) center center no-repeat <span class="meta">!important</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>开启了pjax的同学, 需要修改 <code>themes/butterfly/layout/includes/third-party/pjax.pug</code> 加上<code>#web_bg</code>以完成适配</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  - var pjaxExclude = &#x27;a:not([target=&quot;_blank&quot;])&#x27;</span><br><span class="line">  if theme.pjax.exclude</span><br><span class="line">    each val in theme.pjax.exclude</span><br><span class="line">      - pjaxExclude = pjaxExclude + `:not([href=&quot;$&#123;val&#125;&quot;])`</span><br><span class="line"></span><br><span class="line"><span class="deletion">- - let pjaxSelectors = [&#x27;head &gt; title&#x27;,&#x27;#config-diff&#x27;,&#x27;#body-wrap&#x27;,&#x27;#rightside-config-hide&#x27;,&#x27;#rightside-config-show&#x27;,&#x27;.js-pjax&#x27;]</span></span><br><span class="line"><span class="addition">+ - let pjaxSelectors = [&#x27;head &gt; title&#x27;,&#x27;#config-diff&#x27;,&#x27;#body-wrap&#x27;,&#x27;#rightside-config-hide&#x27;,&#x27;#rightside-config-show&#x27;,&#x27;.js-pjax&#x27;, &#x27;#web_bg&#x27;]</span></span><br></pre></td></tr></table></figure><h1 id="Github徽标"><a href="#Github徽标" class="headerlink" title="Github徽标"></a><i class="iconfont icon-juzi"></i>Github徽标</h1><ol><li>github徽标可以直接通过<a href="https://shields.io/">shields.io</a>在线生成。</li><li>理论上可以放在页面的任何地方。教程案例是添加在页脚。</li><li>工具网站包括：<ul><li><a href="https://shields.io/">徽标生成网站:shields</a></li><li><a href="https://simpleicons.org/">图标查询网站:simpleicons</a></li><li><a href="http://tool.ggo.net/htmlpack/">html压缩网站:htmlpack</a></li><li><a href="https://tool.oschina.net/commons?type=2">转义字符查询</a></li></ul></li></ol><h2 id="具体步骤"><a href="#具体步骤" class="headerlink" title="具体步骤"></a><i class="iconfont icon-ningmeng"></i>具体步骤</h2><h3 id="1-打开生成网站"><a href="#1-打开生成网站" class="headerlink" title="1.打开生成网站"></a>1.打开生成网站</h3><p>通过<a href="https://shields.io/">shields.io</a>在线生成。</p><ul><li>label:标签，徽标左侧内容</li><li>message:信息，徽标右侧内容</li><li>color:色值,支持支持十六进制、rgb、rgba、hsl、hsla和 css 命名颜色。十六进制记得删除前面的#号</li></ul><h3 id="2-输入相关信息"><a href="#2-输入相关信息" class="headerlink" title="2.输入相关信息"></a>2.输入相关信息</h3><p>点击<code>make badge</code>即可得到徽标的URL。可以用img标签引用，写法简单。不过正式写法建议用object标签引用，写法示例如下:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- label=Frame，Message=Hexo，color=blue --&gt;</span></span><br><span class="line">https://img.shields.io/badge/Frame-Hexo-blue</span><br><span class="line"><span class="comment">&lt;!-- 在页面上可以使用img标签来引用 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://img.shields.io/badge/Frame-Hexo-blue&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 部分属性例如link需要用object标签来引用 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">object</span> <span class="attr">data</span>=<span class="string">&quot;https://img.shields.io/badge/Frame-Hexo-blue?link=https://hexo.io&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">object</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-拓展写法示例"><a href="#3-拓展写法示例" class="headerlink" title="3.拓展写法示例"></a>3.拓展写法示例</h3><div class="tabs" id="引用"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#引用-1">相关说明👇</button></li><li class="tab"><button type="button" data-href="#引用-2">对应效果 🤗</button></li><li class="tab"><button type="button" data-href="#引用-3">效果源码 👺</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="引用-1"><p>仅仅如此肯定是不能令人满意的，还可以继续添加样式。<br><a href="https://shields.io/">shields.io</a>提供直接在URL内添加样式属性的功能。使用<code>?</code>引用，使用<code>&amp;</code>连接各属性。</p><div class="table-container"><table><thead><tr><th style="text-align:center">属性</th><th style="text-align:center">说明</th><th style="text-align:center">示例</th></tr></thead><tbody><tr><td style="text-align:center">style</td><td style="text-align:center">徽标样式，默认提供了五种样式： plastic,flat,flat-square, for-the-badge,social</td><td style="text-align:center">?style=flat-square</td></tr><tr><td style="text-align:center">label</td><td style="text-align:center">覆盖默认的左侧文本 （空格或特殊字符需要转URL编码！）</td><td style="text-align:center">?label=healthinesses</td></tr><tr><td style="text-align:center">logo</td><td style="text-align:center">给左侧标签前插入图标 可以访问<a href="https://simpleicons.org/">simpleicons</a>查询图标</td><td style="text-align:center">?logo=Hexo</td></tr><tr><td style="text-align:center">logo</td><td style="text-align:center">自定义图标， 限制较多，不推荐</td><td style="text-align:center">?logo=data:image/png;base64,url</td></tr><tr><td style="text-align:center">logoColor</td><td style="text-align:center">设置徽标的颜色 （支持十六进制、rgb、 rgba、hsl、hsla 和 css 命名颜色）。 支持命名徽标， 但不支持自定义徽标。</td><td style="text-align:center">?logoColor=violet</td></tr><tr><td style="text-align:center">logoWidth</td><td style="text-align:center">给图标提供的水平空间</td><td style="text-align:center">?logoWidth=40</td></tr><tr><td style="text-align:center">link</td><td style="text-align:center">徽标指向的链接， 此时需要用object标签 引用才能生效 写法看示例代码</td><td style="text-align:center">?link=<a href="http://example.com">http://example.com</a></td></tr><tr><td style="text-align:center">labelColor</td><td style="text-align:center">左侧部分背景色， （支持十六进制、rgb、 rgba、hsl、hsla 和 css 命名颜色）</td><td style="text-align:center">?labelColor=abcdef 或者?colorA=abcdef</td></tr><tr><td style="text-align:center">color</td><td style="text-align:center">右侧部分背景色， （支持十六进制、rgb、 rgba、hsl、hsla 和 css 命名颜色）</td><td style="text-align:center">?color=fedcba或者?colorB=fedcba</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="引用-2"><p> 1.普通样式<br><img src="https://img.shields.io/badge/Frame-Hexo-blue"></p><p>2.五种style预览<br><img src="https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&style=plastic"><br><img src="https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&style=flat"><br><img src="https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&style=flat-square" ><br><img src="https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&style=for-the-badge" ><br><img src="https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&style=social"><br>3.添加图标和自定义label<br><img src="https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&label=框架"><br>4.添加图标和图标宽度<br><img src="https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&logoWidth=30"><br>5.图标、label、message三部分颜色自定义<br><img src="https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&label=框架&logoColor=violet&labalColor=#1fd041&color=rgb(222, 31, 31)" ><br>6.给标签添加链接</p><object data="https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&link=https://hexo.io/&https://hexo.io/zh-cn/docs/"></object><p>7.可以通过嵌套a标签来实现添加链接<br><a target="_blank" href="https://hexo.io" title="框架采用Hexo"><img src="https://img.shields.io/badge/Frame-Hexo-blue" ></a></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="引用-3"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 普通样式 --&gt;</span><br><span class="line">&lt;img src=&quot;https://img.shields.io/badge/Frame-Hexo-blue&quot;&gt;</span><br><span class="line">&lt;!-- 五种style预览 --&gt;</span><br><span class="line">&lt;img src=&quot;https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&amp;style=plastic&quot;&gt;</span><br><span class="line">&lt;img src=&quot;https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&amp;style=flat&quot;&gt;</span><br><span class="line">&lt;img src=&quot;https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&amp;style=flat-square&quot;&gt;</span><br><span class="line">&lt;img src=&quot;https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&amp;style=for-the-badge&quot;&gt;</span><br><span class="line">&lt;img src=&quot;https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&amp;style=social&quot;&gt;</span><br><span class="line">&lt;!-- 添加图标和自定义label --&gt;</span><br><span class="line">&lt;img src=&quot;https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&amp;label=框架&quot;&gt;</span><br><span class="line">&lt;!-- 添加图标和图标宽度 --&gt;</span><br><span class="line">&lt;img src=&quot;https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&amp;logoWidth=30&quot;&gt;</span><br><span class="line">&lt;!-- 图标、label、message三部分颜色自定义 --&gt;</span><br><span class="line">&lt;img src=&quot;https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&amp;label=框架&amp;logoColor=violet&amp;labalColor=#1fd041&amp;color=rgb(222, 31, 31)&quot;&gt;</span><br><span class="line">&lt;!-- 给标签添加链接 --&gt;</span><br><span class="line">&lt;object data=&quot;https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&amp;link=https://hexo.io/&amp;https://hexo.io/zh-cn/docs/&quot;&gt;&lt;/object&gt;</span><br><span class="line">&lt;!-- 也可以通过嵌套a标签来实现添加链接 --&gt;</span><br><span class="line">&lt;a target=&quot;_blank&quot; href=&quot;https://hexo.io&quot; title=&quot;框架采用Hexo&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/Frame-Hexo-blue&quot;&gt;&lt;/a&gt;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="4-使用"><a href="#4-使用" class="headerlink" title="4.使用"></a>4.使用</h3><p>在<code>[Blogroot]\_config.butterfly.yml</code>的<code>footer</code>配置项中添加徽标，注意事先压缩一下，使他们只留一行。为了不至于太过紧凑，设置一下行内间隔属性<code>margin-inline</code>。</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">      footer:</span><br><span class="line">        owner:</span><br><span class="line">          enable: true</span><br><span class="line">          since: 2016</span><br><span class="line"><span class="deletion">-       custom_text:</span></span><br><span class="line"><span class="addition">+       custom_text: &lt;p&gt;&lt;a style=&quot;margin-inline:5px&quot; target=&quot;_blank&quot; href=&quot;https://hexo.io/&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo&quot; title=&quot;博客框架为Hexo&quot;&gt;&lt;/a&gt;&lt;a style=&quot;margin-inline:5px&quot; target=&quot;_blank&quot; href=&quot;https://butterfly.js.org/&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender&quot; title=&quot;主题采用butterfly&quot;&gt;&lt;/a&gt;&lt;a style=&quot;margin-inline:5px&quot; target=&quot;_blank&quot; href=&quot;https://www.jsdelivr.com/&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr&quot; title=&quot;本站使用JsDelivr为静态资源提供CDN加速&quot;&gt;&lt;/a&gt;&lt;a style=&quot;margin-inline:5px&quot; target=&quot;_blank&quot; href=&quot;https://vercel.com/ &quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel&quot; title=&quot;本站采用双线部署，默认线路托管于Vercel&quot;&gt;&lt;/a&gt;&lt;a style=&quot;margin-inline:5px&quot; target=&quot;_blank&quot; href=&quot;https://vercel.com/ &quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&amp;logo=Codio&quot; title=&quot;本站采用双线部署，联通线路托管于Coding&quot;&gt;&lt;/a&gt;&lt;a style=&quot;margin-inline:5px&quot; target=&quot;_blank&quot; href=&quot;https://github.com/&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub&quot; title=&quot;本站项目由Github托管&quot;&gt;&lt;/a&gt;&lt;a style=&quot;margin-inline:5px&quot; target=&quot;_blank&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris&quot; title=&quot;本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可&quot;&gt;&lt;/a&gt;&lt;/p&gt;</span></span><br><span class="line">        copyright: false # Copyright of theme and framework</span><br><span class="line">        ICP: # Chinese ICP License</span><br></pre></td></tr></table></figure><h2 id="常用徽章【可以直接用哦】"><a href="#常用徽章【可以直接用哦】" class="headerlink" title="常用徽章【可以直接用哦】"></a><i class="iconfont icon-xihongshi"></i>常用徽章【可以直接用哦】</h2><p>(1).找到合适的图标图片，建议先行用PS抠图成透明背景，然后存储为png格式，此时，要记得尽量将图片的尺寸调整的小一点，这样转的base64图片链接才不至于过长。</p><p>(2).找个在线转base64图片的网站，把制作好的图片转为base64链接。这里推荐用</p><p><a href="https://tool.chinaz.com/tools/urlencode.aspx">UrlEncode编码/UrlDecode解码 - 站长工具 (chinaz.com)</a>     </p><p><a href="https://tool.jisuapi.com/base642pic.html">BASE64转图片 - 站长工具 - 极速数据 (jisuapi.com)</a></p><p>(3).把base64链接作为logo填进徽标链接。</p><h3 id="1-公安备案徽章"><a href="#1-公安备案徽章" class="headerlink" title="1.公安备案徽章"></a>1.公安备案徽章</h3><div class="tabs" id="常用"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#常用-1">实际效果</button></li><li class="tab"><button type="button" data-href="#常用-2">相关代码</button></li><li class="tab"><button type="button" data-href="#常用-3">修改位置</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="常用-1"><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/冀公安备.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="常用-2"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;&lt;a style=&quot;margin-inline:5px&quot;target=&quot;_blank&quot; href=&quot;http://www.beian.gov.cn/portal/index.do&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/%E5%86%80%E5%85%AC%E5%AE%89%E5%A4%87-1111111%E5%8F%B7--1-e1d492?style=flat&amp;logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAACNlJREFUSInF1mmMVeUdx/Hv2e+5+519mJWBYQZkGxZZxLKJqBXGoLS1iXWrmihotFXaJiTWWlsbl6q1aetWd5u0VkKjNG4YEJSlOCibDLMwM8x679z9nnPP1jcVJUxf+7z6J8+LT37/Z4VvaQhfFS8+sBXbctCDGrVTKlBUH4mxAbI9Hfj0IJLsp6paJ5/tmn20N/D0wKDRMq9F/c3M2U1/V0vDfWMFh+tv/Ig1zYPMabDImPJ52OaXO87W580KggCiiOsJOJ6I3wcNFaaeNKxrt72f2fLGu4FpJ/sDQABRzD22fH7/Yze069vGc6mrDLNIJCDik10sxz2by3VdPM87xzkP9jwPTZFRVI1YUJKH+oy7n3tbvv/P2wW/UQxRWe6w4ZJRptYLHDoCuz8v5cP92XbI762O+h6UVWHnUFbPpU0fEb2A60mMJ7MUi9b/b7UgKhiZMaIxm8YLplLMDPz8hl/EH+rs8TNlUpFf32uyZJGLPDwCiTGUyTWodTN49eUCdz2YwXb9NNcObp1X98WDoufynzMVCEKGn27ayPTWBi5ad8P5iQUkJEnFLjqM9Z+hrVX0vfDe6K2dPRWsW2bwyp9EUifSJB84gdxrkR0eRgv1o/3I4fbbprJ6scqamzVO9pffec1S5ZWY2Nfz5qEy/FqOC2Y3s3j53HMSi18VRjFPwSwg+1RfVbl115vvJrsfej7UGIsYPPGgQ7JXoO+Xx5B3dHEomyJ9x1qiQozkr95h5937aFnVyouPlgJK+Ss7Fxz64OTSxSX+LHYxT2IsRW5kbGI4oHcR0jqoqTjV9se3I7/f8rS/ClS23GxSXhph6L5d9Akm7qqZhHWBQGUJ+CWGFzcg7e7m6D3/ZuW1Ea5YKdA3EojuONi813TqNi+YPYOKUhXDtCeGL26/hakLLiEcdsaHRkRAoLRc4fJrmhnekyF0apgZowWSwwkaa+rw3f8WA1GZZsPP5JEChX8dhZTN6iU6kAcs5s+dHd183SJ0VVKL57pfw6YdRQw23aeWTns47DPTALWlRTR7kMLew6hGgYqUhWXYFFUdPZ6lUBahLA8hVcOftckfi7No7VRAAQqsX1dybfvG1qwriM9mM5mJ4e4jO5Cc01dPqixbr8tWGBQUL4vjGigEEShi+xUmZ2RiR/sJ1pbS8NkgZrKAGw0TsgQsQyFaF/nfYTGprAlMFysbA1pI3mhkR6snhGsaymYGvPyFEb9IdbUE2AzFFTwpRqCtBY0wmdER+hZW4j63gcJj38V+/ErSUZXsYBfjIZHIRW0c2Z8BskCAqN+CbBJBFnyyKjR+Ez57nBxLqpfMUeSISElMBFz6x2Q6OxzWrYjyxWVzEewioU3LCS5vQY6nMUrLwNaxXvoQ59IloFSx54PPAZtQLExVZZDxsVE8J4dn6v4JYatgbSjk0owPw7RGH2ADMo88Z7L20ip8f7gC7fAo0q4+0rt7kEQDvaghVZbiPHUHcyeXcfLjT3jmpR7AYsnSScya3UR8bARVMck7Y/cB75/X6rDf3Fg2dw2jKZm5dXGm1LuAzO5DCo9v6aT0ibco5kzOvLOP+NGTFJtDpPYeZKijk/Rn3QxsfZV7txwhX7ABiZUXBsGvIvguQApNQQva9RMmTvZ2dpVUls+tX/UD7GN/Y8Ws05w6rQF+9vyzg1vZjbvMRJhXiRSU8DpTFFe0QE8S6SfPkOkZoktrB2oAhZWrwljxOPmchiSMYOWNoxNuruFU5vWeXdsojiUon345113dBBQBmTYlTimgdB8nfPo4WjaNFgN9OMEkJ02dnadVt5ki54Esqy+bzKJltVhSPbI3iN2zCyMTeXNCuG7Omm2Zok7PR2+R7jvD8ouruHhmCrB5jVZeYxLdrTP4sr4Vtd9g4MA4qc4c+6cu5NPamfw4P59t2WrA4YdXKkASf7SFivo6PDdEPmf1fRM++zp1bH/0r4I1dD1ODtOWaW4IsvPjL7nqXhloQiSPwjjgMYkMASyGEBkjhISCQwkwzve/18AbT+pk8pVY4UacQi9y+gyZ0eRAw4qHa89LXEx1LXMSPfhDJYRb59BtlLKg2WPT2l6qYl1svtGkrLYckyA1S+t5+2ATm37WCui0LSynsckDNH5zTxAchbQtkx08hDHYiW6NgC0enHBzEZ102UDH8QORdEckjEzZrNWkRydzyx17uGnDXqbUnGZ6dRPjSY91q2TqwjFuvTxLo5Zn5Qo/pumRSFcTLQtybEhGE0fQrDhhJ0VvH2lTnnHPhGtsmWan469apERjI2MH3qN7+7MEfH6ql29CbV7PvsMG32k6yU2XDhEKyZw66eJaRdrXR7CzCcqUNC3zwgymPJRCH4KRRLINimpL14A5Y4GDeOqbsPRVcfuN7Xj44pav/hFfrNT2kr2rsqf2Ibp5pEA14ZIImUyW3t5REkkTXRGQ/DGGhtLginhqCWknQDE5hKf5UFSF9Lj020Q2ul5V1AR2hr+8vuP8Vlc2zMPRxoSjnx7XBC14sDoydahSGq7KdO/HFyrBchxCVfX4fDKp4T7SCQejYODZLrYgIqgKFsNIgQqEYob8mW6yiUyb7Z64LVK/+B85xznnJ3AWzqTzuIX46mr5wLs+UUTyIriBCjRNxguHMJIFDLEEvXEOVRWnSJ0+jCd4CJoGjoedM1CLcXQziW3nMV2TSMBeOx7vWZvPt1r+cMPzE8KunaUkFn0vNrvtqXj34c1W6gzxlEQ6naIoBahtnkMwoFMwIVzSRNguMt53Aj2s4nkSlgPoGqLkICsRNF0gl8rYWuP8+11/w/OOJDEhHPKLCIpOXmi+M9AgP+maiesLifF2T1Rn5ZNj5Lo/Qc/GcPMmhdoqlEgIGzCK4PiCmJKK68p4KfF3qYGuF0qCRUkJTzleUbvQyWRTuE5xYthxQbBs7EISAbkzUFG3VfXXbK2YFi3X/eryfKKnqVBItNjJxDzH8erddC4SqWwcN5WyTtlyO1RP/Lh3eHD76MB40swmiDVJyDLYRhpc5+ub6tse/wWKbvSQEAw1awAAAABJRU5ErkJggg==&quot; title=&quot;公安备案&quot;&gt;&lt;/a&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="常用-3"><p>在相关代码中找到</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%E5%86%80%E5%85%AC%E5%AE%89%E5%A4%87-1111111%E5%8F%B7--1</span><br></pre></td></tr></table></figure><p>使用<a href="https://tool.chinaz.com/tools/urlencode.aspx">UrlEncode编码/UrlDecode解码 - 站长工具 (chinaz.com)</a>     UrlEncode解码即可解码成：冀公安备-1111111号—1，修改成自己的，然后点击UrlEncode编码替换相应的即可</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="2-萌ICP备案徽章"><a href="#2-萌ICP备案徽章" class="headerlink" title="2.萌ICP备案徽章"></a>2.萌ICP备案徽章</h3><div class="tabs" id="常用"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#常用-1">实际效果</button></li><li class="tab"><button type="button" data-href="#常用-2">相关代码</button></li><li class="tab"><button type="button" data-href="#常用-3">修改位置</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="常用-1"><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/萌ICP备.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="常用-2"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;&lt;a style=&quot;margin-inline:5px&quot;target=&quot;_blank&quot; href=&quot;https://icp.gov.moe/&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/%E8%90%8CICP%E5%A4%87-20210100-fe1384?style-flat&amp;logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAAByxJREFUSInl1nlwVeUZx/HPuTckkD0kQFiCEEIUlNUCAqKoSBV1AIt1ikpVLFbLONjWGUXbmWrbweJMy7hUxbbTjsUq6KCiWEvr0kE2WVK2QCKBJCxJgEASsienfxwqMob+3Zm+f93z3vM+32f5vc9z+H9bwVcfOp/YQ+1prhhEZS1VDQzqQ1MjiQmIC5Liwm3lBWpqFimrulb/7A/067vM2IsOBZ2h8MhJQW6KMDNVsKeaizKEyUlsKueqgWJ39AMJF3QpDCNYr1SaEig/lWNX2Z1h6dH5/lVyGdVIZFf7MHo9bEfh9rCg/+8NyHlN77QTsnpQ0i2y08VK+BosfhbW0cHxqmSfFd9qW+l9Pi+5WltFdGTsOBbO5dJcdh3lN5+xff0Y2zuelXjRsyYUrjOu4BVJaavlpbWIJRBLOM+J81O95AAnTtM9vNHGknut3zdT48FutJE3koWTuG4oSXH+VsInX3B9IdcVUNfCuv08t4GjO6NspOa3BNcOXx1eOugVHQnrTMkTuyWrC/BjRZO9uPYTpw7HhTWkXcLd45l9GblpHD7NWzt5ZTMXZ/OdkTy+lvR07rmcmWffq6pn9W5e/oymfcT6kJbXHiydMyVYkL/x66n+ZMcctQfjhgxl6UIGZ3Ooltd2RIZqjqKRS0ew9cFIA1cO5urlLHuPZWsZPJiZw7gqn0VT2HCIR9+jvCQhfHPrLGyE2Hng2roBxHnmJoZnc9drbD3I6QaaWkjpSVoeu4+x5XB05qMDqCenHz37UHmcFRv54ZuMeoYrB/L0DPRgZ0WfrsXVKzPX3nYykrn3dUZl8+Q0Qox/gc/L6ZlKzxQefo+UROpa6Z4VCedkPd8YyJYHI3u5T/HAShZNQxsXZfR3pCtwRW066VEeOuIUVUf77+9jTw2pycTOJml7Je1t9EgiI5X2jkgyze1fCSSdtjhBiJCkpKyuI+5oTdAtkTCgVwrbKsl8ko6QjO40tZ67EpkpdIbRf20dkbPpPTjdwsSX6I5dJYy4hoQAaZQdDy4A1iEMI613T6LtBPXJpPakrjGqc1Y6CTFq62htJp5KRwPJKWSkU3WKiiPEEqO6xgM6oZmctJhDXYH7Z59xuCyKpK6R26ZE+ys3MWYoN1/Mc5uoqmbEQJ6fTc/ulJ3i/lUc+YIfzeKhKzjVHN31A3XRHddKSrf6/6DOV3VTcw1hVKfkxOhaPDAe1UwfwmNTqT1Drxw+nE9xNXetIjHG2vnoxoT+rNrN2Of58Rp6JZ+ldKes5kjX4G7dKuikpoERfaltYnQ/DOSS3hEAFk9lXQkLnmf7Ib65lPJT3HU1+46Tm8rYvgzKYVA2h+vQIMjvewHwdSN20MiOSmZczO4a1hSzYi77T7CiiPF5JMTZexjJ5OagkwNV9M+MnJ09nKU3smgyQ3PYWoEO4fUjii4QceJmevJuMeP6csUAln4atcbSGoqOUpjD30uZNwnpHNtN3lC+NZa1xeT34pGVTJ3PL9+Ohs6GQ8gVtHZs6VLVwZhBReGwoXvt3THM/hP0SWVnCR8f4PMjkffjB/DQS8waxpHFfFgaaeHZDRRtJn0yP5tF31ymFVJ2nN27GD66KBzca2/XEWdkUpD3Fmd4tYj0FMS54Q9UnuaDUv6yE/24ewWP/DU6N/d1fvousYEs28DyLVEvGDOAt/egmSkXv2VYn3NBfpXbua6J8hMFFvy2RHsL+57gmX+w/AN651PfEDWQzLRI+afqIqOxFDJT6Rbn9Bmad3PnTH5wIxOXkJTWGiz57hCDsyqDWVldRNzeyOh+paaPfpFKnvqQX88iZwDVx0lLJqUHbe3EkZ1Odm+yUqK2GHYKmhvIG8fyeTz9IY5x67jnFPapdPDkl6jzwEF9IDjZJlgwfbG+o2u8+g4rd7D/UYI41TXnevV5K4j2q6uESckUP8rvNrH6fUH/sRXB9AlPONMSDZ8uazwoi56JjEyvdftV88jinhf4uIzmJRQOoOYgja0RKAiIBZxpjvZH5tP0c97axcLlyBXOuWZemJTYFFbUCU+1dl3j8PGSyFhnJ7EkYcWh7/njqpep5xfzWTyZZ7dEg73xOJKiGqf3YenNLBjLTz7i539COg/OvSOYO2GFo/VRG0Zwe0YX4Ns3R7NXSCxBeM8IthXfZvGf3xCWc/kkXvg2vVP4YB/rDzC1gGlDo+50/xvs2khKPrNnzAzmTH5HbzR0fkkKro93Ab5vx9kfaGgT3lLA5EyWbRpoTdHbSreOppGJV/PwlRTksK+aZz5l6z+RLBgxaau5k2cJelTKzmRQMq0d51J8UxL+23d1TDTcj7WQllZu4YwxDo+eZc22X9mwd6gN65GIFmQzampxcMOoR1xeuMbpVoqromsXdG3+wmCiekNtfSSmiUNWu2zgap+WjlZW8X11TeNkpWwICvNfCm8u3Cmxg4PN0VdmEJw7/7+0/g32RaqCbhRecAAAAABJRU5ErkJggg== title=&quot;萌ICP备案&quot;&gt;&lt;/a&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="常用-3"><p>在相关代码中找到</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%E8%90%8CICP%E5%A4%87-20210100</span><br></pre></td></tr></table></figure><p>使用<a href="https://tool.chinaz.com/tools/urlencode.aspx">UrlEncode编码/UrlDecode解码 - 站长工具 (chinaz.com)</a>     UrlEncode解码即可解码成：冀公安备-1111111号—1，修改成自己的，然后点击UrlEncode编码替换相应的即可</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>此文章借鉴：</p><p><a href="https://akilar.top/">Akilarの糖果屋 - Akilar.top</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;实时预览编辑&quot;&gt;&lt;a href=&quot;#实时预览编辑&quot; class=&quot;headerlink&quot; title=&quot;实时预览编辑&quot;&gt;&lt;/a&gt;实时预览编辑&lt;/h1&gt;&lt;p&gt;参考自：&lt;a href=&quot;https://blog.mutoe.com/2016/hexo-post-liv</summary>
      
    
    
    
    <category term="🦄博客魔改" scheme="https://blog.gmcj0816.top/categories/%F0%9F%A6%84%E5%8D%9A%E5%AE%A2%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Hexo" scheme="https://blog.gmcj0816.top/tags/Hexo/"/>
    
    <category term="Butterfly" scheme="https://blog.gmcj0816.top/tags/Butterfly/"/>
    
  </entry>
  
  <entry>
    <title>如何实现Twikoo自有服务器部署</title>
    <link href="https://blog.gmcj0816.top/posts/37813967/"/>
    <id>https://blog.gmcj0816.top/posts/37813967/</id>
    <published>2022-09-16T04:05:12.000Z</published>
    <updated>2023-04-13T09:56:15.500Z</updated>
    
    <content type="html"><![CDATA[<h1 id="说在前面"><a href="#说在前面" class="headerlink" title="说在前面"></a>说在前面</h1><details class="folding-tag" yellow open><summary> 必须要说的小秘密 </summary>              <div class='content'>              <p>1.首先Twikoo如果部署到<a href="https://curl.qcloud.com/KnnJtUom">云开发CloudBase</a>在腾讯云没改规定前，的的确确是一个非常好的方式，但是腾讯云变天了呀，所以费用的的确确是增加了，不太建议【壕忽略】 ；</p><p>2.在Vecel+ <a href="https://www.mongodb.com/cloud/atlas/register">MongoDB</a>部署，这个博主也是用过一段时间，不得不说一个评论提交能等的感人，再加上不是自己的终究不稳定，但是作为一个免费且暂时没有服务器的确实是一个解决方案；</p><p>3.在看到<a href="https://www.allbs.cn/posts/36172/">博客评论系统Twikoo本地化部署 | allbs</a>的博客觉得超级nice，所以放到自己的服务器上就很nice，效果也很明显</p>              </div>            </details><div class="table-container"><table><thead><tr><th>部署方式</th><th>描述</th></tr></thead><tbody><tr><td>[一键部署]</td><td>[ 不建议 ] 虽然方便，但是仅支持按量计费环境——也就是说，<strong>一键部署的环境，当免费资源用尽后，将会产生费用</strong>。且按量计费环境无法切换为包年包月环境。免费额度数据库读操作数只有 500 次 / 天，<strong>无法支撑 Twikoo 的运行需求</strong>。</td></tr><tr><td>[手动部署]</td><td>[ 建议 ] 手动部署到腾讯云云开发环境，在中国大陆访问速度较快。由于基础版 1 已从 0 元涨价至 6.9 元 / 月，需要付费购买环境才能部署。</td></tr><tr><td>[命令行部署]</td><td>[ 不建议 ] 仅针对有 Node.js 经验的开发者。</td></tr><tr><td>[Vercel 部署]</td><td>[ 建议 ] 适用于想要免费部署的用户，在中国大陆访问速度较慢。</td></tr><tr><td>[私有部署]</td><td>[ 建议 ] 适用于有服务器的用户，需要自行申请 HTTPS 证书。</td></tr></tbody></table></div><h1 id="本地化部署【超详细】"><a href="#本地化部署【超详细】" class="headerlink" title="本地化部署【超详细】"></a>本地化部署【超详细】</h1><h2 id="1-安装tkserver"><a href="#1-安装tkserver" class="headerlink" title="1.安装tkserver"></a>1.安装tkserver</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g tkserver</span><br></pre></td></tr></table></figure><h2 id="2-配置环境"><a href="#2-配置环境" class="headerlink" title="2.配置环境"></a>2.配置环境</h2><p>这里需要说明的是其实这个可以通过echo写入，也可以直接打开/etc/profile文件写入，效果是一样的</p><div class="table-container"><table><thead><tr><th>名称</th><th>描述</th><th>默认值</th></tr></thead><tbody><tr><td><code>TWIKOO_DATA</code></td><td>数据库存储路径</td><td><code>./data</code></td></tr><tr><td><code>TWIKOO_PORT</code></td><td>端口号</td><td><code>8080</code></td></tr><tr><td><code>TWIKOO_THROTTLE</code></td><td>IP 请求限流，当同一 IP 短时间内请求次数超过阈值将对该 IP 返回错误</td><td><code>250</code></td></tr></tbody></table></div><h3 id="通过echo写入"><a href="#通过echo写入" class="headerlink" title="通过echo写入"></a>通过echo写入</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot; &quot;</span>&gt;&gt;/etc/profile</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;# Made for tikoo env by serious on <span class="subst">$(date +%F)</span>&quot;</span>&gt;&gt;/etc/profile</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export TWIKOO_DATA=/home/twikoo&#x27;</span>&gt;&gt;/etc/profile  <span class="comment">#这个是将Twikoo评论文件存储路径，可以自定义</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export TWIKOO_PORT=****&#x27;</span>&gt;&gt;/etc/profile  <span class="comment"># Twikoo端口号</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export TWIKOO_THROTTLE=20000&#x27;</span>&gt;&gt;/etc/profile <span class="comment"># </span></span><br><span class="line"><span class="built_in">tail</span> -4 /etc/profile</span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span></span><br></pre></td></tr></table></figure><h3 id="通过直接写入"><a href="#通过直接写入" class="headerlink" title="通过直接写入"></a>通过直接写入</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br></pre></td></tr></table></figure><p>需要写入的文件【可以直接复制修改即可】</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Made for tikoo env by serious on 2022-09-07</span></span><br><span class="line"><span class="built_in">export</span> TWIKOO_DATA=/home/twikoo</span><br><span class="line"><span class="built_in">export</span> TWIKOO_PORT=****  <span class="comment">#这里需要改成自己的哦</span></span><br><span class="line"><span class="built_in">export</span> TWIKOO_THROTTLE=20000</span><br></pre></td></tr></table></figure><h2 id="3-启动服务"><a href="#3-启动服务" class="headerlink" title="3.启动服务"></a>3.启动服务</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nohup</span> tkserver &gt;&gt; tkserver.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure><p>4.现在就可以直接通过ip地址：端口号访问了</p><p>若显示以下信息说明已经Twikoo在后台运行ok了</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;code&quot;:100,&quot;message&quot;:&quot;Twikoo 云函数运行正常，请参考 https://twikoo.js.org/quick-start.html<span class="params">#</span><span class="comment">%E5%89%8D%E7%AB%AF%E9%83%A8%E7%BD%B2 完成前端的配置&quot;,&quot;version&quot;:&quot;1.6.7&quot;&#125;</span></span><br></pre></td></tr></table></figure><h2 id="5-在Butterfly中配置-butterflyconfig-yml"><a href="#5-在Butterfly中配置-butterflyconfig-yml" class="headerlink" title="5.在Butterfly中配置_butterflyconfig.yml"></a>5.在Butterfly中配置_butterflyconfig.yml</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">comments:</span></span><br><span class="line">  <span class="comment"># Up to two comments system, the first will be shown as default</span></span><br><span class="line">  <span class="comment"># Choose: Disqus/Disqusjs/Livere/Gitalk/Valine/Waline/Utterances/Facebook Comments/Twikoo/Giscus/Remark42</span></span><br><span class="line"><span class="string">+</span>  <span class="attr">use:</span> <span class="string">Twikoo</span> <span class="comment"># Valine,Disqus</span></span><br><span class="line">  <span class="attr">text:</span> <span class="literal">true</span> <span class="comment"># Display the comment name next to the button</span></span><br><span class="line">  <span class="comment"># lazyload: The comment system will be load when comment element enters the browser&#x27;s viewport.</span></span><br><span class="line">  <span class="comment"># If you set it to true, the comment count will be invalid</span></span><br><span class="line">  <span class="attr">lazyload:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">count:</span> <span class="literal">true</span> <span class="comment"># Display comment count in post&#x27;s top_img</span></span><br><span class="line">  <span class="attr">card_post_count:</span> <span class="literal">true</span> <span class="comment"># Display comment count in Home Page</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Twikoo</span></span><br><span class="line"><span class="comment"># https://github.com/imaegoo/twikoo</span></span><br><span class="line"><span class="attr">twikoo:</span></span><br><span class="line">  <span class="attr">envId:</span> <span class="string">自己的域名解析（例如https://abcdef.com/Twikoo）【这个后面会说一下】</span></span><br><span class="line">  <span class="attr">region:</span></span><br><span class="line">  <span class="attr">visitor:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">option:</span></span><br></pre></td></tr></table></figure><p>关于域名解析如果是http的情况下，可以使用服务器IP地址：端口号，但是为了网络安全，现在已经逐步重视，所以Https已经成为主流，但是https是不允许嵌入http的，肯定会报错的，所以这个在nginx上可以按照这样的形式来代理</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    upstream  twikoo &#123;  <span class="comment">#可以指定多个项目</span></span><br><span class="line">       server  180.76.229.210:5180  weight=1; <span class="comment"># 这个端口即为上方Twikoo的服务端口</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        listen       443;</span><br><span class="line"><span class="comment">#        listen       [::]:443 ssl http2 default_server;</span></span><br><span class="line">        server_name 自己的域名，可以是一级域名，也可以是二级域名;</span><br><span class="line">        ssl          on;</span><br><span class="line">        ssl_certificate  这里是域名的证书文件，因为我的是niginx的，后缀是.crt;</span><br><span class="line">        ssl_certificate_key 这里是域名的证书文件，因为我的是niginx的，后缀是.key;</span><br><span class="line">        ssl_session_timeout  5m;</span><br><span class="line">        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line">        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;</span><br><span class="line">        ssl_prefer_server_ciphers on;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            root 网站的路径;</span><br><span class="line">            index index.html index.htm;</span><br><span class="line"><span class="comment">#        proxy_buffering off; # Required for HTTP-based CLI to work over SSL</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">#关于Webstack端口的管理</span></span><br><span class="line">        location ^~ /server &#123;</span><br><span class="line">          proxy_pass http://服务器的IP地址:端口号/;</span><br><span class="line">          proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">          proxy_set_header Host <span class="variable">$http_host</span>;</span><br><span class="line">          proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">          root /home/tomocatroot;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6-Twikoo环境配置"><a href="#6-Twikoo环境配置" class="headerlink" title="6.Twikoo环境配置"></a>6.Twikoo环境配置</h2><h3 id="首次进入会需要设置密码，这里就省略咯"><a href="#首次进入会需要设置密码，这里就省略咯" class="headerlink" title="首次进入会需要设置密码，这里就省略咯"></a>首次进入会需要设置密码，这里就省略咯</h3><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/TwikooSet.png" alt="进入Twikoo环境配置界面"></p><h3 id="创建用于接收消息的通知【这里需要用企业微信，可以在手机上下载app】"><a href="#创建用于接收消息的通知【这里需要用企业微信，可以在手机上下载app】" class="headerlink" title="创建用于接收消息的通知【这里需要用企业微信，可以在手机上下载app】"></a>创建用于接收消息的通知【这里需要用企业微信，可以在手机上下载app】</h3><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/createKongjian.png" alt="创建应用，用来接收消息"></p><h3 id="在创建的应用中找到如下的企业可信IP，将自己的服务器IP地址放到里面"><a href="#在创建的应用中找到如下的企业可信IP，将自己的服务器IP地址放到里面" class="headerlink" title="在创建的应用中找到如下的企业可信IP，将自己的服务器IP地址放到里面"></a>在创建的应用中找到如下的企业可信IP，将自己的服务器IP地址放到里面</h3><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/Twikooqiye.png" alt="创建应用，用来接收消息"></p><h3 id="配置管理工具-gt-通讯录同步中的白名单ip"><a href="#配置管理工具-gt-通讯录同步中的白名单ip" class="headerlink" title="配置管理工具-&gt;通讯录同步中的白名单ip"></a>配置管理工具-&gt;通讯录同步中的白名单ip</h3><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/twikootongxunlu.png" alt="配置管理工具"></p><h3 id="获取企业ID"><a href="#获取企业ID" class="headerlink" title="获取企业ID"></a>获取企业ID</h3><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/companyId.png" alt="企业的ID"></p><h3 id="获取用于接收消息的应用的AgentId和Secret-Secert需要使用企业微信桌面版授权查看"><a href="#获取用于接收消息的应用的AgentId和Secret-Secert需要使用企业微信桌面版授权查看" class="headerlink" title="获取用于接收消息的应用的AgentId和Secret,Secert需要使用企业微信桌面版授权查看"></a>获取用于接收消息的应用的AgentId和Secret,Secert需要使用企业微信桌面版授权查看</h3><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/AgentID.png" alt="AgentId和Secret"></p><h3 id="配置信息"><a href="#配置信息" class="headerlink" title="配置信息"></a>配置信息</h3><p>这里的PUSHOO_TOKEN是由以下三部分组成的： 企业ID # 上方创建的应用Secret # 上方创建应用的AgentId<br><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/Twikoowechat.png" alt="配置信息"></p><h1 id="关于邮件的通知按照邮件通知中相应信息填写即可"><a href="#关于邮件的通知按照邮件通知中相应信息填写即可" class="headerlink" title="关于邮件的通知按照邮件通知中相应信息填写即可"></a>关于邮件的通知按照邮件通知中相应信息填写即可</h1><p>基本上需要填写的是<br>SENDER_EMAIL:这个是自己的邮箱（这里本人用的是qq邮箱）<br>SENDER_NAME:邮件的通知标题<br>SMTP_SERVUCE:可以选择QQ或者其他<br>SMTP_USER:邮件通知邮箱用户名<br>SMTP_PASS:这里如果qq或者163需要填写授权码<br>MAIL_TEMPLATE:通知邮件模板【下面会给大家推荐我在用的】以下html复制直接用即可<br><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/qq_mail.png" alt="效果图"><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt; &lt;div id=&quot;isForwardContent&quot;&gt; &lt;div&gt; &lt;div id=&quot;content&quot;&gt; &lt;div style=&quot;         background: #FF4E50;  /* fallback for old browsers */ background: -webkit-linear-gradient(to right, #F9D423, #FF4E50);  /* Chrome 10-25, Safari 5.1-6 */ background: linear-gradient(to right, #F9D423, #FF4E50); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */          width: 95%;         max-width: 800px;         margin: auto auto;         border-radius: 5px;         border: #49b1f5 1px solid;         overflow: hidden;         -webkit-box-shadow: 0px 0px 20px 0px rgba(0, 0, 0, 0.12);         box-shadow: 0px 0px 20px 0px rgba(0, 0, 0, 0.18);       &quot;&gt; &lt;header style=&quot;overflow: hidden&quot;&gt; &lt;img src=&quot;https://blog.gmcj0816.top/img/tiankong.jpg&quot; style=&quot;width: 100%; z-index: 666&quot; /&gt; &lt;/header&gt; &lt;div style=&quot;padding: 5px 20px&quot;&gt; &lt;div class=&quot;dear&quot; style=&quot;             position: relative;             color: white;             float: left;             z-index: 999;             background: #49b1f5;             padding: 5px 30px;             margin: -25px auto 0;             box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.3);           &quot;&gt;Dear $&#123;PARENT_NICK&#125;&lt;/div&gt; &lt;br /&gt; &lt;center&gt; &lt;h3&gt;来自&amp;nbsp; &lt;strong&gt;$&#123;NICK&#125;&lt;/strong&gt;&amp;nbsp;的回复&lt;/h3&gt; &lt;/center&gt; &lt;hr style=&quot;width:200px;border:0;border-bottom:1px solid #e5e5e5;margin:12px auto;&quot; /&gt; &lt;br /&gt;&amp;nbsp; &amp;nbsp; &lt;p&gt;您在 &lt;a href=&quot;$&#123;POST_URL&#125;&quot; style=&quot;text-decoration: none; color: #000000&quot; target=&quot;_blank&quot;&gt;&amp;nbsp;$&#123;SITE_NAME&#125;&amp;nbsp;&lt;/a&gt;上发表的评论：&lt;/p&gt; &lt;div class=&quot;tk-content&quot; style=&quot; border-bottom: #ddd 1px solid; border-left: #ddd 1px solid; padding-bottom: 20px; background-color: #eee; margin: 15px 0px; padding-left: 20px; padding-right: 20px; border-top: #ddd 1px solid; border-right: #ddd 1px solid;  padding-top: 20px;&quot;&gt;$&#123;PARENT_COMMENT&#125;&lt;/div&gt; &lt;p&gt; &lt;strong&gt;$&#123;NICK&#125;&lt;/strong&gt;&amp;nbsp;给您回复啦： &lt;/p&gt; &lt;div class=&quot;tk-content&quot; style=&quot; border-bottom: #ddd 1px solid; border-left: #ddd 1px solid; padding-bottom: 20px; background-color: #eee;  margin: 15px 0px;  padding-left: 20px; padding-right: 20px; border-top: #ddd 1px solid; border-right: #ddd 1px solid; padding-top: 20px; &quot;&gt;$&#123;COMMENT&#125;&lt;/div&gt; &lt;p&gt;欢迎再次光临 &lt;a style=&quot;text-decoration:none; color:#000000&quot; href=&quot;$&#123;SITE_URL&#125;&quot; target=&quot;_blank&quot;&gt;$&#123;SITE_NAME&#125;&lt;/a&gt;！&lt;/p&gt; &lt;br /&gt; &lt;div class=&quot;chakan&quot; style=&quot;text-align: center;&quot;&gt; &lt;a href=&quot;$&#123;POST_URL&#125;&quot; style=&quot;color:#ffffff;text-decoration:none;display:inline-block;min-height:28px;line-height:28px;padding:0 13px;outline:0;background:#3eae5f;font-size:13px;text-align: center;font-weight:400;border:0;border-radius:999em&quot; target=&quot;_blank&quot;&gt;点击去原文查看&amp;gt;&amp;gt;&lt;/a&gt; &lt;p&gt; &lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;footer-p&quot; style=&quot;text-align: center; margin-top: 5rem; display:block;color:#b3b3b1;text-decoration:none;&quot;&gt; &lt;img src=&quot;https://blog.gmcj0816.top/img/SeriousWission_TouXiangPic.png&quot; style=&quot;width:1.8rem; margin:0 auto&quot; /&gt;&amp;nbsp; &lt;hr style=&quot;width:165px;border:0;border-bottom:1px solid #e5e5e5;margin:5px auto;&quot; /&gt;©&amp;nbsp;2021&amp;nbsp; &lt;a href=&quot;https://blog.gmcj0816.top/&quot; style=&quot;text-align:center; color: red&quot; target=&quot;_blank&quot;&gt;七鳄の学习格&lt;/a&gt; &lt;p&gt; &lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;br /&gt; &lt;/div&gt; &lt;style type=&quot;text/css&quot;&gt; .qmbox ::-webkit-scrollbar &#123; display: none; &#125; &lt;/style&gt; &lt;style id=&quot;cloudAttachStyle&quot; type=&quot;text/css&quot;&gt; .qmbox #divNeteaseBigAttach, .qmbox #divNeteaseBigAttach_bak &#123; display: none; &#125; &lt;/style&gt; &lt;style id=&quot;blockquoteStyle&quot; type=&quot;text/css&quot;&gt; .qmbox blockquote &#123; display: none; &#125; &lt;/style&gt; &lt;style type=&quot;text/css&quot;&gt; .qmbox body &#123; font-size: 14px; font-family: arial, verdana, sans-serif; line-height: 1.666; padding: 0; margin: 0; overflow: auto; white-space: normal; word-wrap: break-word; min-height: 100px; &#125; .qmbox td, .qmbox input, .qmbox button, .qmbox select, .qmbox body &#123; font-family: Helvetica, &#x27;Microsoft Yahei&#x27;, verdana; &#125; .qmbox pre &#123; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; width: 95%; &#125; .qmbox th, .qmbox td &#123; font-family: arial, verdana, sans-serif; line-height: 1.666; &#125; .qmbox img &#123; border: 0; &#125; .qmbox header, .qmbox footer, .qmbox section, .qmbox aside, .qmbox article, .qmbox nav, .qmbox hgroup, .qmbox figure, .qmbox figcaption &#123; display: block; &#125; .qmbox blockquote &#123; margin-right: 0px; &#125; &lt;/style&gt; &lt;style type=&quot;text/css&quot;&gt; @media screen and (max-width: 1100px) &#123;#content p &#123;font-size: 10px;&#125; #content h3 &#123;font-size: 14px;&#125; .footer-p &#123;font-size: 9px;&#125; .dear &#123;font-size: 12px;&#125;&#125; &lt;/style&gt; &lt;style id=&quot;ntes_link_color&quot; type=&quot;text/css&quot;&gt; .qmbox a, .qmbox td a &#123; color: #236da1; &#125; &lt;/style&gt; &lt;/div&gt;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;说在前面&quot;&gt;&lt;a href=&quot;#说在前面&quot; class=&quot;headerlink&quot; title=&quot;说在前面&quot;&gt;&lt;/a&gt;说在前面&lt;/h1&gt;&lt;details class=&quot;folding-tag&quot; yellow open&gt;&lt;summary&gt; 必须要说的小秘密 &lt;/sum</summary>
      
    
    
    
    <category term="🦄博客魔改" scheme="https://blog.gmcj0816.top/categories/%F0%9F%A6%84%E5%8D%9A%E5%AE%A2%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Hexo" scheme="https://blog.gmcj0816.top/tags/Hexo/"/>
    
    <category term="Butterfly" scheme="https://blog.gmcj0816.top/tags/Butterfly/"/>
    
  </entry>
  
  <entry>
    <title>C#数据结构【栈与队列】</title>
    <link href="https://blog.gmcj0816.top/posts/34732/"/>
    <id>https://blog.gmcj0816.top/posts/34732/</id>
    <published>2022-08-19T11:48:42.000Z</published>
    <updated>2022-08-18T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>【<font color=red>此文章所有代码可在文章末尾下载查看源码</font>】</p><p>数据结构是计算机存储，组织数据的方式,同样也是相互之间存在一种或者多种特定关系的数据元素的集合</p><p>算法是一系列规定的计算步骤，为了实现特定的计算目的</p><p>基本数据结构一般有4类:<br>(1)集合  (2)线性结构  (3)树形结构 (4)图形结构<br><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/TuXingJieGou.png" style="zoom:50%;" />  </p><p>集合：<strong>数据结构中的集合与数学中的集合类似，在集合中的 数据只是存在同一集合中，但其数据之间没有关系</strong>。</p><p>线性结构：<strong>数据元素之间是一对一的关系</strong></p><p>主要包括：线性表，栈，队列（三者的数据元素以及数据间的逻辑关系完全相同，差别就在于线性表的操作不受限制，而栈和队列的操作受到限制，栈的操作只能在表的一端进行，队列的插入操作在表的一端进行而其它操作在表的另一端进行，所以，把栈和队列称为操作受限的线性表）</p><p>树形结构：<strong>数据元素之间的层次关系是一对多</strong></p><p>图形结构：**数据元素之间呈多对多的关系</p><h2 id="栈和队列"><a href="#栈和队列" class="headerlink" title="栈和队列"></a>栈和队列</h2><h3 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h3><p>原则：(后进先出/先进后出)</p><h5 id="定义"><a href="#定义" class="headerlink" title="定义:"></a>定义:</h5><p>栈是操作限定在表的尾端进行的线性表。表尾由于要进行插入、删除等操作，所以，它具有特殊的含义，把表尾称为栈顶（ Top），另一端是固定的，叫栈底（ Bottom）。当栈中没有数据元素时叫空栈(Empty Stack)</p><p>删除栈元素的方式是：例如a1，需要将a1以上的 元素先移除出去，才能移除a1</p><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/zhan.png" style="zoom:40%;" /></p><h5 id="使用BCL"><a href="#使用BCL" class="headerlink" title="使用BCL"></a>使用BCL</h5><p>在BCL(基本类库)中提供了泛型的Stack<T>类【C#2.0开始】</p><h6 id="主要方法如下"><a href="#主要方法如下" class="headerlink" title="主要方法如下"></a>主要方法如下</h6><p>1.Push()入栈（添加数据）</p><p>2.<strong>Pop()出栈（<font color=red>删除栈顶数据，返回被删除的数据</font>）</strong></p><p>3.<strong>Peek()取栈顶数据（<font color=red>取得栈顶的数据，不删除</font>）</strong></p><p>4.Clear()清空所有数据</p><p>5.count取得栈中数据的个数</p><h6 id="栈的基本使用【代码】"><a href="#栈的基本使用【代码】" class="headerlink" title="栈的基本使用【代码】"></a>栈的基本使用【代码】</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用BCL中的Stack&lt;T&gt;</span></span><br><span class="line">Stack&lt;<span class="built_in">string</span>&gt; stack = <span class="keyword">new</span> Stack&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">stack.Push(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">stack.Push(<span class="string">&quot;def&quot;</span>);</span><br><span class="line">stack.Push(<span class="string">&quot;ghi&quot;</span>);<span class="comment">//栈顶数据</span></span><br><span class="line">Console.WriteLine(<span class="string">&quot;栈的大小:&quot;</span>+stack.Count);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;--------------------------------------------&quot;</span>);</span><br><span class="line"><span class="built_in">string</span> temp= stack.Pop();<span class="comment">//取得栈顶数据，并把栈顶数据删除</span></span><br><span class="line">Console.WriteLine(<span class="string">&quot;Pop后的栈顶数据是:&quot;</span>+temp);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;Pop后的栈中的数据个数:&quot;</span>+stack.Count);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;--------------------------------------------&quot;</span>);</span><br><span class="line"><span class="built_in">string</span> tempTwo = stack.Peek();<span class="comment">//取得栈顶数据，但不会将栈顶数据删除</span></span><br><span class="line">Console.WriteLine(<span class="string">&quot;Peek后的栈顶数据是:&quot;</span> + tempTwo);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;Peek后的栈中的数据个数:&quot;</span> + stack.Count);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;--------------------------------------------&quot;</span>);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;判断栈是否存在相关数据:&quot;</span> + stack.Contains(<span class="string">&quot;abc&quot;</span>));</span><br><span class="line">stack.Clear();</span><br><span class="line">Console.WriteLine(<span class="string">&quot;Clear后的栈中的数据个数:&quot;</span> + stack.Count);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;--------------------------------------------&quot;</span>);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;判断栈是否存在相关数据:&quot;</span>+stack.Contains(<span class="string">&quot;abc&quot;</span>));</span><br><span class="line"><span class="comment">//当栈内为空栈时切勿进行Peek()或者Pop()操作，否则会报错</span></span><br><span class="line">Console.ReadLine();</span><br></pre></td></tr></table></figure><p>控制台输出:</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">栈的大小:3</span><br><span class="line">--------------------------------------------</span><br><span class="line">Pop后的栈顶数据是:ghi</span><br><span class="line">Pop后的栈中的数据个数:2</span><br><span class="line">--------------------------------------------</span><br><span class="line">Peek后的栈顶数据是:def</span><br><span class="line">Peek后的栈中的数据个数:2</span><br><span class="line">--------------------------------------------</span><br><span class="line">判断栈是否存在相关数据:True</span><br><span class="line">Clear后的栈中的数据个数:0</span><br><span class="line">--------------------------------------------</span><br><span class="line">判断栈是否存在相关数据:False</span><br></pre></td></tr></table></figure><h5 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h5><p>创建接口 IStackDS</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IStackDS</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">   &#123;</span><br><span class="line">       <span class="built_in">int</span> Count &#123; <span class="keyword">get</span>; &#125;<span class="comment">//栈的大小</span></span><br><span class="line">       <span class="function"><span class="built_in">int</span> <span class="title">GetLength</span>()</span>;<span class="comment">//栈的长度</span></span><br><span class="line">       <span class="function"><span class="built_in">bool</span> <span class="title">isEmpty</span>()</span>;<span class="comment">//判断栈是否为空</span></span><br><span class="line">       <span class="function"><span class="keyword">void</span> <span class="title">Clear</span>()</span>;<span class="comment">//清空操作</span></span><br><span class="line">       <span class="function"><span class="keyword">void</span> <span class="title">Push</span>(<span class="params">T item</span>)</span>; <span class="comment">//入栈操作</span></span><br><span class="line">       <span class="function">T <span class="title">Pop</span>()</span>; <span class="comment">//出栈操作</span></span><br><span class="line">       <span class="function">T <span class="title">Peek</span>()</span>; <span class="comment">//取栈顶元素</span></span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h6 id="顺序栈【第一种存储方式】（用一片连续的存储空间来存储栈中的数据元素-使用数组-）"><a href="#顺序栈【第一种存储方式】（用一片连续的存储空间来存储栈中的数据元素-使用数组-）" class="headerlink" title="顺序栈【第一种存储方式】（用一片连续的存储空间来存储栈中的数据元素(使用数组)）"></a>顺序栈【第一种存储方式】（用一片连续的存储空间来存储栈中的数据元素(使用数组)）</h6><p>用一维数组来存放顺序栈中的数据元素。栈顶指示器 top 设在数组下标为 0 的端， top 随着插入和删除而变化，当栈为空时，top=-1。下图是顺序栈的栈顶指示器 top 与栈中数据元素的关系图。</p><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/shunxuzhan.png" style="zoom:50%;" /></p><p>创建  SeqStack</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SeqStack</span>&lt;<span class="title">T</span>&gt; : <span class="title">IStackDS</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">   &#123;</span><br><span class="line">       <span class="keyword">private</span> T[] data;</span><br><span class="line">       <span class="keyword">private</span> <span class="built_in">int</span> top;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">SeqStack</span>(<span class="params"><span class="built_in">int</span> size</span>)</span> &#123;</span><br><span class="line">           data = <span class="keyword">new</span> T[size];</span><br><span class="line">           top = <span class="number">-1</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">SeqStack</span>() : <span class="title">this</span>(<span class="params"><span class="number">15</span></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">public</span> <span class="built_in">int</span> Count &#123;</span><br><span class="line">           <span class="keyword">get</span>  &#123;</span><br><span class="line">               <span class="comment">//栈顶+1</span></span><br><span class="line">               <span class="keyword">return</span> top + <span class="number">1</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Clear</span>()</span> &#123;</span><br><span class="line">           top = <span class="number">-1</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">GetLength</span>()</span> &#123;</span><br><span class="line">           <span class="keyword">return</span> Count;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">isEmpty</span>()</span> &#123;</span><br><span class="line">           <span class="keyword">return</span> Count == <span class="number">0</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> T <span class="title">Peek</span>()</span> &#123;</span><br><span class="line">           <span class="keyword">return</span> data[top];</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">//出栈</span></span><br><span class="line">       <span class="function"><span class="keyword">public</span> T <span class="title">Pop</span>()</span> &#123;</span><br><span class="line">           T temp=data[top];</span><br><span class="line">           top--;</span><br><span class="line">           <span class="keyword">return</span> temp;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">//入栈</span></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Push</span>(<span class="params">T item</span>)</span> &#123;</span><br><span class="line">           data[top+<span class="number">1</span>] = item;</span><br><span class="line">           top++;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>测试相关方法</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Console.WriteLine(<span class="string">&quot;使用自定义顺序栈&quot;</span>);</span><br><span class="line">           IStackDS&lt;<span class="built_in">string</span>&gt; newstack = <span class="keyword">new</span> SeqStack&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">           newstack.Push(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">           newstack.Push(<span class="string">&quot;456&quot;</span>);</span><br><span class="line">           newstack.Push(<span class="string">&quot;789&quot;</span>);<span class="comment">//栈顶数据</span></span><br><span class="line">           Console.WriteLine(<span class="string">&quot;栈的大小:&quot;</span> + newstack.Count);</span><br><span class="line">           Console.WriteLine(<span class="string">&quot;--------------------------------------------&quot;</span>);</span><br><span class="line">           <span class="built_in">string</span> newtemp = newstack.Pop();<span class="comment">//取得栈顶数据，并把栈顶数据删除</span></span><br><span class="line">           Console.WriteLine(<span class="string">&quot;Pop后的栈顶数据是:&quot;</span> + newtemp);</span><br><span class="line">           Console.WriteLine(<span class="string">&quot;Pop后的栈中的数据个数:&quot;</span> + newstack.Count);</span><br><span class="line">           Console.WriteLine(<span class="string">&quot;--------------------------------------------&quot;</span>);</span><br><span class="line">           <span class="built_in">string</span> newtempTwo = newstack.Peek();<span class="comment">//取得栈顶数据，但不会将栈顶数据删除</span></span><br><span class="line">           Console.WriteLine(<span class="string">&quot;Peek后的栈顶数据是:&quot;</span> + newtempTwo);</span><br><span class="line">           Console.WriteLine(<span class="string">&quot;Peek后的栈中的数据个数:&quot;</span> + newstack.Count);</span><br><span class="line">           Console.WriteLine(<span class="string">&quot;--------------------------------------------&quot;</span>);</span><br><span class="line">           stack.Clear();</span><br><span class="line">           Console.WriteLine(<span class="string">&quot;Clear后的栈中的数据个数:&quot;</span> + newstack.Count);</span><br><span class="line">           Console.ReadLine();</span><br></pre></td></tr></table></figure><p>控制台输出:</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">使用自定义顺序栈</span><br><span class="line">栈的大小:3</span><br><span class="line">--------------------------------------------</span><br><span class="line">Pop后的栈顶数据是:789</span><br><span class="line">Pop后的栈中的数据个数:2</span><br><span class="line">--------------------------------------------</span><br><span class="line">Peek后的栈顶数据是:456</span><br><span class="line">Peek后的栈中的数据个数:2</span><br><span class="line">--------------------------------------------</span><br><span class="line">Clear后的栈中的数据个数:2</span><br></pre></td></tr></table></figure><h6 id="链栈-【第二种实现方式】-用单链表来表示，它的实现是单链表的简化-链栈结点的结构与单链表结点的结构一样"><a href="#链栈-【第二种实现方式】-用单链表来表示，它的实现是单链表的简化-链栈结点的结构与单链表结点的结构一样" class="headerlink" title="链栈 【第二种实现方式】(用单链表来表示，它的实现是单链表的简化,链栈结点的结构与单链表结点的结构一样)"></a>链栈 【第二种实现方式】(用单链表来表示，它的实现是单链表的简化,链栈结点的结构与单链表结点的结构一样)</h6><font color=red>注意：链栈的操作只是在一端进行，为了操作方便，把栈顶设在链表的头部，并且不需要头结点 </font><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/lianzhan.png" style="zoom:40%;" /></p><p>把链栈看作一个泛型类，类中有一个字段 top 表示栈顶指示器。由于栈只能访问栈顶的数据元素，而链栈的栈顶指示器又不能指示栈的数据元素的个数。所以，求链栈的长度时，必须把栈中的数据元素一个个出栈，每出栈一个数据元素，计数器就增加 1，但这样会破坏栈的结构。为保留栈中的数据元素，需把出栈的数据元素先压入另外一个栈，计算完长度后，再把数据元素压入原来的栈。但这种算法的空间复杂度和时间复杂度都很高，所以，以上两种算法都不是理想的解决方法。理想的解决方法是 LinkStack<T>类增设一个字段 num 表示链栈中结点的个数。</p><p>创建链栈结点</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 链栈的节点</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;typeparam name=&quot;T&quot;&gt;</span><span class="doctag">&lt;/typeparam&gt;</span></span></span><br><span class="line">    <span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> T data;<span class="comment">//数据</span></span><br><span class="line">        <span class="keyword">private</span> Node&lt;T&gt; next;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span>()</span> &#123;</span><br><span class="line">            Data=<span class="literal">default</span>(T);</span><br><span class="line">            Next=<span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span>(<span class="params">T data</span>)</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.Data = data;</span><br><span class="line">            Next = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span>(<span class="params">Node&lt;T&gt; next</span>)</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.Next=next;</span><br><span class="line">            <span class="keyword">this</span>.Data=<span class="literal">default</span>(T);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span>(<span class="params">T data, Node&lt;T&gt; next</span>)</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.Data=data;</span><br><span class="line">            <span class="keyword">this</span>.Next = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> T Data &#123; <span class="keyword">get</span> =&gt; data; <span class="keyword">set</span> =&gt; data = <span class="keyword">value</span>; &#125;</span><br><span class="line">        <span class="keyword">internal</span> Node&lt;T&gt; Next &#123; <span class="keyword">get</span> =&gt; next; <span class="keyword">set</span> =&gt; next = <span class="keyword">value</span>; &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>创建链栈</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LinkStack</span>&lt;<span class="title">T</span>&gt; : <span class="title">IStackDS</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> Node&lt;T&gt; top;<span class="comment">//栈顶元素的结点</span></span><br><span class="line">        <span class="keyword">private</span> <span class="built_in">int</span> count;<span class="comment">//栈中的元素个数</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Count &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> count; &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">GetLength</span>()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> count;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 清空栈中所有的数据</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Clear</span>()</span> &#123;</span><br><span class="line">            count = <span class="number">0</span>;</span><br><span class="line">            top= <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 判断栈中是否有数据，即是否为空栈</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">isEmpty</span>()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> count == <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 取得栈顶中的数据，但不进行删除栈顶</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> T <span class="title">Peek</span>()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> top.Data;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 出栈，取得栈顶元素，并且删除</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> T <span class="title">Pop</span>()</span> &#123;</span><br><span class="line">            T data = top.Data;</span><br><span class="line">            top = top.Next;</span><br><span class="line">            <span class="keyword">return</span> data;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 入栈</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;item&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Push</span>(<span class="params">T item</span>)</span> &#123;</span><br><span class="line">            <span class="comment">//把新添加的元素作为头结点（栈顶）</span></span><br><span class="line">            Node&lt;T&gt; newNode = <span class="keyword">new</span> Node&lt;T&gt;(item);</span><br><span class="line">            newNode.Next = top;</span><br><span class="line">            top = newNode;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>测试相关方法</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Console.WriteLine(<span class="string">&quot;使用代码实现链栈&quot;</span>);</span><br><span class="line">          IStackDS&lt;<span class="built_in">string</span>&gt; newLinkStack=<span class="keyword">new</span> LinkStack&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">           newLinkStack.Push(<span class="string">&quot;西游记&quot;</span>);</span><br><span class="line">           newLinkStack.Push(<span class="string">&quot;三国演义&quot;</span>);</span><br><span class="line">           newLinkStack.Push(<span class="string">&quot;红楼梦&quot;</span>);</span><br><span class="line">           newLinkStack.Push(<span class="string">&quot;水浒传&quot;</span>);<span class="comment">//栈顶数据</span></span><br><span class="line">           Console.WriteLine(<span class="string">&quot;栈的大小:&quot;</span> + newLinkStack.Count);</span><br><span class="line">           Console.WriteLine(<span class="string">&quot;--------------------------------------------&quot;</span>);</span><br><span class="line">           <span class="built_in">string</span> newLinktemp = newLinkStack.Pop();<span class="comment">//取得栈顶数据，并把栈顶数据删除</span></span><br><span class="line">           Console.WriteLine(<span class="string">&quot;Pop后的栈顶数据是:&quot;</span> + newLinktemp);</span><br><span class="line">           Console.WriteLine(<span class="string">&quot;Pop后的栈中的数据个数:&quot;</span> + newLinkStack.Count);</span><br><span class="line">           Console.WriteLine(<span class="string">&quot;--------------------------------------------&quot;</span>);</span><br><span class="line">           <span class="built_in">string</span> newLinktempTwo = newLinkStack.Peek();<span class="comment">//取得栈顶数据，但不会将栈顶数据删除</span></span><br><span class="line">           Console.WriteLine(<span class="string">&quot;Peek后的栈顶数据是:&quot;</span> + newLinktempTwo);</span><br><span class="line">           Console.WriteLine(<span class="string">&quot;Peek后的栈中的数据个数:&quot;</span> + newLinkStack.Count);</span><br><span class="line">           Console.WriteLine(<span class="string">&quot;--------------------------------------------&quot;</span>);</span><br><span class="line">           newLinkStack.Clear();</span><br><span class="line">           Console.WriteLine(<span class="string">&quot;Clear后的栈中的数据个数:&quot;</span> + newLinkStack.Count);</span><br><span class="line">           Console.WriteLine(<span class="string">&quot;--------------------------------------------&quot;</span>);</span><br><span class="line">           <span class="comment">//当栈内为空栈时切勿进行Peek()或者Pop()操作，否则会报错</span></span><br></pre></td></tr></table></figure><p>控制台输出:</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">使用代码实现链栈</span><br><span class="line">栈的大小:4</span><br><span class="line">--------------------------------------------</span><br><span class="line">Pop后的栈顶数据是:水浒传</span><br><span class="line">Pop后的栈中的数据个数:4</span><br><span class="line">--------------------------------------------</span><br><span class="line">Peek后的栈顶数据是:红楼梦</span><br><span class="line">Peek后的栈中的数据个数:4</span><br><span class="line">--------------------------------------------</span><br><span class="line">Clear后的栈中的数据个数:0</span><br><span class="line">--------------------------------------------</span><br></pre></td></tr></table></figure><h4 id="队列"><a href="#队列" class="headerlink" title="队列"></a>队列</h4><p>原则：(先进先出，后进后出)</p><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/diulie.png" style="zoom:40%;" /></p><h5 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h5><p>队列(Queue)是插入操作限定在表的尾部而其它操作限定在表的头部进行的线性表。把进行插入操作的表尾称为队尾(Rear)，把进行其它操作的头部称为队头(Front)。当队列中没有数据元素时称为空队列(Empty Queue)。</p><h5 id="使用BCL-1"><a href="#使用BCL-1" class="headerlink" title="使用BCL"></a>使用BCL</h5><h6 id="主要方法"><a href="#主要方法" class="headerlink" title="主要方法"></a>主要方法</h6><p>1，Enqueue()入队(放在队尾)<br>2，Dequeue()出队(移除队首元素，并返回被移除的元素)<br>3，Peek()取得队首的元素，不移除<br>4，Clear()清空元素</p><h6 id="主要属性"><a href="#主要属性" class="headerlink" title="主要属性"></a>主要属性</h6><p>1，Count获取队列中元素的个数</p><p>使用BCL的队列</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Console.WriteLine(<span class="string">&quot;************使用BCL的队列************&quot;</span>);</span><br><span class="line"><span class="comment">//创建队列</span></span><br><span class="line">Queue&lt;<span class="built_in">string</span>&gt; queue = <span class="keyword">new</span> Queue&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line"><span class="comment">//将数据存储到队尾部分，即入队</span></span><br><span class="line">queue.Enqueue(<span class="string">&quot;王者荣耀&quot;</span>);<span class="comment">//队首</span></span><br><span class="line">queue.Enqueue(<span class="string">&quot;和平精英&quot;</span>);</span><br><span class="line">queue.Enqueue(<span class="string">&quot;使命召唤M&quot;</span>);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;加入完三个游戏名称后的队列大小为:&quot;</span>+queue.Count);</span><br><span class="line"><span class="comment">//Dequeue含义是出队，取得队首的数据后，并删除该数据</span></span><br><span class="line"><span class="keyword">var</span> tempOne=queue.Dequeue();</span><br><span class="line">Console.WriteLine(<span class="string">&quot;取得队首的数据为:&quot;</span>+tempOne);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;出队之后的队列大小为:&quot;</span>+queue.Count);</span><br><span class="line"><span class="keyword">var</span> tempTwo = queue.Peek();</span><br><span class="line">Console.WriteLine(<span class="string">&quot;取得队首的数据为:&quot;</span> + tempTwo);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;Peek之后的队列大小为:&quot;</span> + queue.Count);</span><br><span class="line">queue.Clear();</span><br><span class="line">Console.WriteLine(<span class="string">&quot;Clear之后的队列大小为:&quot;</span>+queue.Count);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;---------------------------------------&quot;</span>);</span><br></pre></td></tr></table></figure><p>控制台输出</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">************使用BCL的队列************</span><br><span class="line">加入完三个游戏名称后的队列大小为:3</span><br><span class="line">取得队首的数据为:王者荣耀</span><br><span class="line">出队之后的队列大小为:2</span><br><span class="line">取得队首的数据为:和平精英</span><br><span class="line">Peek之后的队列大小为:2</span><br><span class="line">Clear之后的队列大小为:0</span><br><span class="line">---------------------------------------</span><br></pre></td></tr></table></figure><h5 id="代码实现-1"><a href="#代码实现-1" class="headerlink" title="代码实现"></a>代码实现</h5><p>定义IQueue接口</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IQueue</span>&lt;<span class="title">T</span>&gt; &#123;</span><br><span class="line">        <span class="built_in">int</span> Count&#123;<span class="keyword">get</span>;&#125;<span class="comment">//取得队列长度的属性</span></span><br><span class="line">        <span class="function"><span class="built_in">int</span> <span class="title">GetLength</span>()</span>; <span class="comment">//求队列的长度</span></span><br><span class="line">        <span class="function"><span class="built_in">bool</span> <span class="title">IsEmpty</span>()</span>; <span class="comment">//判断对列是否为空</span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">Clear</span>()</span>; <span class="comment">//清空队列</span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">Enqueue</span>(<span class="params">T item</span>)</span>; <span class="comment">//入队</span></span><br><span class="line">        <span class="function">T <span class="title">Dequque</span>()</span>; <span class="comment">//出队</span></span><br><span class="line">        <span class="function">T <span class="title">Peek</span>()</span>; <span class="comment">//取队头元素</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="顺序队列（用一片连续的存储空间来存储队列中的数据元素）"><a href="#顺序队列（用一片连续的存储空间来存储队列中的数据元素）" class="headerlink" title="顺序队列（用一片连续的存储空间来存储队列中的数据元素）"></a>顺序队列（用一片连续的存储空间来存储队列中的数据元素）</h6><p>用一维数组来存放顺序队列中的数据元素。队头位置设在数组下标为 0 的端，用 front 表示；队尾位置设在数组的另一端，用 rear 表示。 front 和 rear 随着插入和删除而变化。当队列为空时， front=rear=-1。如下图</p><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/shunxuduilie001.png" style="zoom:40%;" /></p><p>创建SeqQueue</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">SeqQueue</span>&lt;<span class="title">T</span>&gt; : <span class="title">IQueue</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">   &#123;</span><br><span class="line">       <span class="keyword">private</span> T[] data;</span><br><span class="line">       <span class="keyword">private</span> <span class="built_in">int</span> count;<span class="comment">//当前元素数量</span></span><br><span class="line">       <span class="keyword">private</span> <span class="built_in">int</span> front;<span class="comment">//队首==&gt;队首元素索引-1</span></span><br><span class="line">       <span class="keyword">private</span> <span class="built_in">int</span> rear;<span class="comment">//队尾==&gt;队尾元素索引</span></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">SeqQueue</span>(<span class="params"><span class="built_in">int</span> size</span>)</span> &#123;</span><br><span class="line">           data = <span class="keyword">new</span> T[size];</span><br><span class="line">           count = <span class="number">0</span>;</span><br><span class="line">           front = <span class="number">-1</span>;</span><br><span class="line">           rear = <span class="number">-1</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">SeqQueue</span>() : <span class="title">this</span>(<span class="params"><span class="number">10</span></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">public</span> <span class="built_in">int</span> Count &#123;</span><br><span class="line">           <span class="keyword">get</span> &#123; <span class="keyword">return</span> count; &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Clear</span>()</span> &#123;</span><br><span class="line">           count =<span class="number">0</span>;</span><br><span class="line">           front = rear = <span class="number">-1</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> T <span class="title">Dequque</span>()</span></span><br><span class="line">       &#123;</span><br><span class="line">           <span class="keyword">if</span> (count&gt; <span class="number">0</span>) &#123;</span><br><span class="line">               T temp=data[front+<span class="number">1</span>];</span><br><span class="line">               front++;</span><br><span class="line">               count--;</span><br><span class="line">               <span class="keyword">return</span> temp;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">else</span> &#123;</span><br><span class="line">               Console.WriteLine(<span class="string">&quot;队列为空，无法取得队首的数据&quot;</span>);</span><br><span class="line">               <span class="keyword">return</span> <span class="literal">default</span>(T);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Enqueue</span>(<span class="params">T item</span>)</span></span><br><span class="line">       &#123;</span><br><span class="line">           <span class="keyword">if</span> (count == data.Length)&#123;</span><br><span class="line">               Console.WriteLine(<span class="string">&quot;队列已满，不可以再添加新的数据&quot;</span>);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">else</span>&#123;</span><br><span class="line">               <span class="keyword">if</span> (rear == data.Length - <span class="number">1</span>) &#123;</span><br><span class="line">                   data[<span class="number">0</span>] = item;</span><br><span class="line">                   rear = <span class="number">0</span>;</span><br><span class="line">                   count++;</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">else</span>&#123;</span><br><span class="line">                   data[rear + <span class="number">1</span>] = item;</span><br><span class="line">                   rear++;</span><br><span class="line">                   count++;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">GetLength</span>()</span>&#123;</span><br><span class="line">           <span class="keyword">return</span> count;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">IsEmpty</span>()</span>&#123;</span><br><span class="line">           <span class="keyword">return</span> count == <span class="number">0</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> T <span class="title">Peek</span>()</span>&#123;</span><br><span class="line">           T temp = data[front+ <span class="number">1</span>];</span><br><span class="line">           <span class="keyword">return</span> temp;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>测试代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Console.WriteLine(<span class="string">&quot;************使用代码实现顺序队列************&quot;</span>);</span><br><span class="line">            <span class="comment">//创建队列</span></span><br><span class="line">            SeqQueue&lt;<span class="built_in">string</span>&gt; seqQueue = <span class="keyword">new</span> SeqQueue&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">            <span class="comment">//将数据存储到队尾部分，即入队</span></span><br><span class="line">            seqQueue.Enqueue(<span class="string">&quot;牛魔&quot;</span>);<span class="comment">//队首</span></span><br><span class="line">            seqQueue.Enqueue(<span class="string">&quot;典韦&quot;</span>);</span><br><span class="line">            seqQueue.Enqueue(<span class="string">&quot;女娲&quot;</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;加入完三个游戏名称后的队列大小为:&quot;</span> + seqQueue.Count);</span><br><span class="line">            <span class="comment">//Dequeue含义是出队，取得队首的数据后，并删除该数据</span></span><br><span class="line">            <span class="keyword">var</span> tempseqQueueOne = seqQueue.Dequque();</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;取得队首的数据为:&quot;</span> + tempseqQueueOne);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;出队之后的队列大小为:&quot;</span> + seqQueue.Count);</span><br><span class="line">            <span class="keyword">var</span> tempseqQueueTwo = seqQueue.Peek();</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;取得队首的数据为:&quot;</span> + tempseqQueueTwo);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Peek之后的队列大小为:&quot;</span> + seqQueue.Count);</span><br><span class="line">            seqQueue.Clear();</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Clear之后的队列大小为:&quot;</span> + seqQueue.Count);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;---------------------------------------&quot;</span>);</span><br></pre></td></tr></table></figure><p>控制台输出</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">************使用代码实现顺序队列************</span><br><span class="line">加入完三个游戏名称后的队列大小为:3</span><br><span class="line">取得队首的数据为:牛魔</span><br><span class="line">出队之后的队列大小为:2</span><br><span class="line">取得队首的数据为:典韦</span><br><span class="line">Peek之后的队列大小为:2</span><br><span class="line">Clear之后的队列大小为:0</span><br><span class="line">---------------------------------------</span><br></pre></td></tr></table></figure><h2 id=""><a href="#" class="headerlink" title=" "></a> </h2>]]></content>
    
    
    <summary type="html">会写代码是一方面，如何更高效率的完成效果，数据结构不可或缺，这篇文章整合了栈和队列</summary>
    
    
    
    <category term="🧿开发编程" scheme="https://blog.gmcj0816.top/categories/%F0%9F%A7%BF%E5%BC%80%E5%8F%91%E7%BC%96%E7%A8%8B/"/>
    
    
    <category term="C#编程" scheme="https://blog.gmcj0816.top/tags/C-%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>C#数据结构【链表】</title>
    <link href="https://blog.gmcj0816.top/posts/49248/"/>
    <id>https://blog.gmcj0816.top/posts/49248/</id>
    <published>2022-08-19T11:48:17.000Z</published>
    <updated>2022-08-18T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>【<font color=red>此文章所有代码可在文章末尾下载查看源码</font>】</p><p>数据结构是计算机存储，组织数据的方式,同样也是相互之间存在一种或者多种特定关系的数据元素的集合</p><p>算法是一系列规定的计算步骤，为了实现特定的计算目的</p><p>基本数据结构一般有4类:<br>(1)集合  (2)线性结构  (3)树形结构 (4)图形结构<br><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/TuXingJieGou.png" style="zoom:50%;" />  </p><p>集合：<strong>数据结构中的集合与数学中的集合类似，在集合中的 数据只是存在同一集合中，但其数据之间没有关系</strong>。</p><p>线性结构：<strong>数据元素之间是一对一的关系</strong></p><p>主要包括：线性表，栈，队列（三者的数据元素以及数据间的逻辑关系完全相同，差别就在于线性表的操作不受限制，而栈和队列的操作受到限制，栈的操作只能在表的一端进行，队列的插入操作在表的一端进行而其它操作在表的另一端进行，所以，把栈和队列称为操作受限的线性表）</p><p>树形结构：<strong>数据元素之间的层次关系是一对多</strong></p><p>图形结构：**数据元素之间呈多对多的关系</p><h2 id="线性表"><a href="#线性表" class="headerlink" title="线性表"></a>线性表</h2><h3 id="List相关常用属性"><a href="#List相关常用属性" class="headerlink" title="List相关常用属性"></a>List相关常用属性</h3><h4 id="增加-插入数据（常用）："><a href="#增加-插入数据（常用）：" class="headerlink" title="增加/插入数据（常用）："></a>增加/插入数据（常用）：</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*1.list.Add(T t)//T代表所存储的数据类型，将数据t存入链表末尾</span><br><span class="line">*2.public void Insert(int index, T item);//插入数据，index代表下角标，item代表数据</span><br></pre></td></tr></table></figure><h4 id="查找数据（常用）："><a href="#查找数据（常用）：" class="headerlink" title="查找数据（常用）："></a>查找数据（常用）：</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.public bool Contains(T item)//查找是否包含 item</span><br><span class="line">2.public T Find(Predicate&lt;T&gt; match); 返回满足条件的第一个值</span><br><span class="line">3.public int IndexOf(T item, int index, int count);//index开始下标,count查找个数,item查找对象</span><br></pre></td></tr></table></figure><h4 id="删除-清除数据（常用）："><a href="#删除-清除数据（常用）：" class="headerlink" title="删除/清除数据（常用）："></a>删除/清除数据（常用）：</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*1.public void Clear();//清除所有数据</span><br><span class="line">*2.public int RemoveAll(Predicate&lt;T&gt; match);//删除满足条件</span><br><span class="line">*3.public bool Remove(T item);//移处数据</span><br><span class="line">*4.public void RemoveAt(int index);//移除下角标为index的值</span><br><span class="line">5.public void RemoveRange(int index, int count);//从下角标为index的值开始count个数</span><br></pre></td></tr></table></figure><h3 id="线性表的存储结构"><a href="#线性表的存储结构" class="headerlink" title="线性表的存储结构"></a>线性表的存储结构</h3><ul><li><p>链式存储</p></li><li><p>顺序存储</p></li></ul><h3 id="线性表的实现方式"><a href="#线性表的实现方式" class="headerlink" title="线性表的实现方式:"></a>线性表的实现方式:</h3><ul><li>顺序表   </li><li>单链表   双向表  循环表  </li></ul><h4 id="顺序表"><a href="#顺序表" class="headerlink" title="顺序表"></a>顺序表</h4><p>定义：线性表的顺序存储是指在内存中用一块地址连续的空间依次存放线性表的数据元素，简单说把表中的元素一个接一个地放进顺序的存储单元<br><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/shunxubiao.png" style="zoom:67%;" /> </p><p>顺序表要求数据要按照顺序进行存储，同理在内存中也同样是按照顺序进行存储。 </p><p>顺序表的优点：用地址连续的存储单元顺序存储线性表中的各个数据元素，逻辑上相邻的数据元素在物理位置上也相邻，所以查找任何一个位置上的数据元素非常方便 ；</p><p>顺序表的缺点：进行插入和删除时，需要通过移动数据元素来实现，影响了运行效率</p><h5 id="顺序表代码实现"><a href="#顺序表代码实现" class="headerlink" title="顺序表代码实现"></a>顺序表代码实现</h5><h6 id="【1】IListDS接口"><a href="#【1】IListDS接口" class="headerlink" title="【1】IListDS接口"></a>【1】IListDS接口</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IListDS</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="built_in">int</span> <span class="title">GetLength</span>()</span>; <span class="comment">//求长度</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Clear</span>()</span>; <span class="comment">//清空操作</span></span><br><span class="line">    <span class="function"><span class="built_in">bool</span> <span class="title">IsEmpty</span>()</span>; <span class="comment">//判断线性表是否为空</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Add</span>(<span class="params">T item</span>)</span>; <span class="comment">//附加操作</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Insert</span>(<span class="params">T item, <span class="built_in">int</span> i</span>)</span>; <span class="comment">//插入操作</span></span><br><span class="line">    <span class="function">T <span class="title">Delete</span>(<span class="params"><span class="built_in">int</span> i</span>)</span>; <span class="comment">//删除操作</span></span><br><span class="line">    <span class="function">T <span class="title">GetElem</span>(<span class="params"><span class="built_in">int</span> i</span>)</span>; <span class="comment">//取表元</span></span><br><span class="line">    T <span class="keyword">this</span>[<span class="built_in">int</span> index] &#123; <span class="keyword">get</span>; &#125;<span class="comment">//定义一个索引器 获取元素</span></span><br><span class="line">    <span class="function"><span class="built_in">int</span> <span class="title">Locate</span>(<span class="params">T <span class="keyword">value</span></span>)</span>; <span class="comment">//按值查找</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="【2】SeqList"><a href="#【2】SeqList" class="headerlink" title="【2】SeqList"></a>【2】SeqList</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 顺序表实现方式</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;typeparam name=&quot;T&quot;&gt;</span><span class="doctag">&lt;/typeparam&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title">SeqList</span>&lt;<span class="title">T</span>&gt; : <span class="title">IListDS</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> T[] data;<span class="comment">//用来存储数据</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> count=<span class="number">0</span>;<span class="comment">//表示存了多少个数据</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SeqList</span>(<span class="params"><span class="built_in">int</span> size</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        data = <span class="keyword">new</span> T[size];</span><br><span class="line">        count = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 默认构造函数容量为10</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SeqList</span>() : <span class="title">this</span>(<span class="params"><span class="number">10</span></span>)</span> &#123; &#125;</span><br><span class="line">    <span class="keyword">public</span> T <span class="keyword">this</span>[<span class="built_in">int</span> index]</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> GetElem(index); &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 添加数据</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;item&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Add</span>(<span class="params">T item</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//说明数据组已经存满</span></span><br><span class="line">        <span class="keyword">if</span> (count == data.Length)&#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;当前顺序表已经存满，不允许在存入数据&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            data[count] = item;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 清空数据</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Clear</span>()</span> &#123;</span><br><span class="line">        count = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 删除数据</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;index&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">Delete</span>(<span class="params"><span class="built_in">int</span> index</span>)</span> &#123;</span><br><span class="line">        T temp=data[index];</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = index+<span class="number">1</span>; i &lt; count; i++) &#123;</span><br><span class="line">            data[i - <span class="number">1</span>] = data[i];</span><br><span class="line">        &#125;</span><br><span class="line">        count--;</span><br><span class="line">        <span class="keyword">return</span> temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 根据索引获取数据</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;index&quot;&gt;</span>索引<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">GetElem</span>(<span class="params"><span class="built_in">int</span> index</span>)</span>&#123;</span><br><span class="line">        <span class="comment">//若索引存在</span></span><br><span class="line">        <span class="keyword">if</span> (index &gt;= <span class="number">0</span> &amp;&amp; index &lt;= count - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> data[index];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;索引不存在&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">default</span>(T);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取到的数据大小</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref=&quot;NotImplementedException&quot;&gt;</span><span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">GetLength</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 插入数据</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;item&quot;&gt;</span>数据<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;index&quot;&gt;</span>下标索引<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Insert</span>(<span class="params">T item, <span class="built_in">int</span> index</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = count<span class="number">-1</span>; i&gt;=index; i--) &#123;</span><br><span class="line">            data[i+<span class="number">1</span>]=data[i];</span><br><span class="line">        &#125;</span><br><span class="line">        data[index] = item;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//清空数据</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">IsEmpty</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> count == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 返回所要查找的数据位置索引</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>数据<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">Locate</span>(<span class="params">T <span class="keyword">value</span></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; count; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (data[i].Equals(<span class="keyword">value</span>)) &#123;</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="具体测试代码详见"><a href="#具体测试代码详见" class="headerlink" title="具体测试代码详见"></a>具体测试代码详见</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">SeqList&lt;<span class="built_in">string</span>&gt; seqList = <span class="keyword">new</span> SeqList&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">seqList.Add(<span class="string">&quot;计算机学院&quot;</span>);</span><br><span class="line">seqList.Add(<span class="string">&quot;软件学院&quot;</span>);</span><br><span class="line">seqList.Add(<span class="string">&quot;艺术学院&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; seqList.GetLength(); i++) &#123;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;数据&#123;0&#125;:&#123;1&#125;&quot;</span>, i, seqList[i]);</span><br><span class="line">&#125;</span><br><span class="line">Console.WriteLine(<span class="string">&quot;顺序表长度:&quot;</span>+seqList.GetLength());</span><br><span class="line">Console.WriteLine(<span class="string">&quot;顺序表中第一个数值:&quot;</span> + seqList.GetElem(<span class="number">0</span>));</span><br><span class="line">Console.WriteLine(<span class="string">&quot;删除顺序表中第二个数据:&quot;</span>+seqList.Delete(<span class="number">2</span>));</span><br><span class="line">Console.WriteLine(<span class="string">&quot;顺序表长度:&quot;</span> + seqList.GetLength());</span><br><span class="line">seqList.Insert(<span class="string">&quot;工程学院&quot;</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; seqList.GetLength(); i++) &#123;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;添加完后的数据&#123;0&#125;个:&#123;1&#125;&quot;</span>, i, seqList[i]);</span><br><span class="line">&#125;</span><br><span class="line">Console.WriteLine(<span class="string">&quot;顺序表长度:&quot;</span> + seqList.GetLength());</span><br><span class="line">Console.WriteLine(<span class="string">&quot;数据所在位置:&quot;</span>+seqList.Locate(<span class="string">&quot;艺术学院&quot;</span>)+<span class="string">&quot;【注：-1代表未查询到】&quot;</span>);</span><br></pre></td></tr></table></figure><h6 id="控制台输出效果"><a href="#控制台输出效果" class="headerlink" title="控制台输出效果"></a>控制台输出效果</h6><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">数据0:计算机学院</span><br><span class="line">数据1:软件学院</span><br><span class="line">数据2:艺术学院</span><br><span class="line">顺序表长度:3</span><br><span class="line">顺序表中第一个数值:计算机学院</span><br><span class="line">删除顺序表中第二个数据:艺术学院</span><br><span class="line">顺序表长度:2</span><br><span class="line">添加完后的数据0个:计算机学院</span><br><span class="line">添加完后的数据1个:工程学院</span><br><span class="line">添加完后的数据2个:软件学院</span><br><span class="line">顺序表长度:3</span><br><span class="line">数据所在位置:-1【注：-1代表未查询到】</span><br></pre></td></tr></table></figure><h3 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h3><p>优点：</p><p>一般数组都是需要一连串的内存空间来存储数据，但是链表结构不需要一连串的内存空间。此外，由于它具有的独特的结构，使得链表插入数据变得非常的快捷。因为它不需要移动后面的数据。List列表中间插入一个数据时，后面所有的数据都要进行移动。</p><p>缺点：</p><p>链表每个节点都是离散的，所以访问链表中数据只能一个接着一个访问，这需要较长的时间来查找位于链表中间或尾部的元素。访问数据效率就会变得低下。</p><h4 id="单链表"><a href="#单链表" class="headerlink" title="单链表"></a>单链表</h4><p>定义：如果结点的引用域只存储该结点直接后继结点的存储地址，则该链表叫单链表</p><p>单向链表的每一个节点又包含两部分，一部分是存放数据的变量 data（值） ，另一部分是指向下一个节点的 next（下个位域）指针</p><p>单链表结点的结构如图所示</p><p>data 表示结点的数据域</p><p>next代表该引用域，即指向另一个结点</p><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/danlianbiao01.png" alt="图片加载有误" style="zoom: 67%;"/></p><p>下图是线性表(a1,a2,a3,a4,a5,a6)对应的链式存储结构示意图</p><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/danlianbiao03.png" alt="图片加载有误" style="zoom: 50%;"/></p><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/danlianbiao02.png" alt="图片加载有误" style="zoom:50%;"/></p><h5 id="单链表插入某个数据时的执行效果"><a href="#单链表插入某个数据时的执行效果" class="headerlink" title="单链表插入某个数据时的执行效果"></a>单链表插入某个数据时的执行效果</h5><p>需要考虑插入的位置：(1)若插入的位置在头部为空时，只需将节点的next为head即可 (2)如果插入到其他部分（假设插入位置为n），则需将n-1和n位置next连接切断，将n-1的next指向新的n，新的n的next指向原本的n，即可完成单链表插入数据操作。</p><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/danlainbiao_add.png" style="zoom:50%;" /></p><h5 id="单链表添加某个数据时的执行效果"><a href="#单链表添加某个数据时的执行效果" class="headerlink" title="单链表添加某个数据时的执行效果"></a>单链表添加某个数据时的执行效果</h5><p>添加数据比插入数据较为简单，但是也需要判断head结点是否为空，如果为空的话，将新添加的结点设置为head即可，若head结点不是空的，则需要通过遍历结点，判断结点的next是否为空，如next为空，则将新的结点放到链表尾部，即可完成添加操作。</p><h5 id="单链表移除某个数据时的执行效果"><a href="#单链表移除某个数据时的执行效果" class="headerlink" title="单链表移除某个数据时的执行效果"></a>单链表移除某个数据时的执行效果</h5><p>移除某个数据时，需要判断删除的位置，若删除的位置在于head，则需将head结点指向新的newNode，若删除的位置在于n个位置，则需通过for循环到所删除位置的n-1位置，将其定义为preNode，将n定义为currentNode，由于需要删除currentNode，所以要获取currentNode的next结点，也就是nextNode，将preNode的next更改为nextNode即可完成删除数据操作【这里无需考虑删除位置为末尾所导致的没有next，因为在Node构造方法中next可以】</p><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/danlainbiao_delete.png" style="zoom:50%;" /></p><h5 id="单链表代码实现"><a href="#单链表代码实现" class="headerlink" title="单链表代码实现"></a>单链表代码实现</h5><h6 id="【1】IListDS接口-gt-用于设定单链表所要实现的相关方法"><a href="#【1】IListDS接口-gt-用于设定单链表所要实现的相关方法" class="headerlink" title="【1】IListDS接口==&gt;用于设定单链表所要实现的相关方法"></a>【1】IListDS接口==&gt;用于设定单链表所要实现的相关方法</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IListDS</span>&lt;<span class="title">T</span>&gt;&#123;</span><br><span class="line">       <span class="function"><span class="built_in">int</span> <span class="title">GetLength</span>()</span>; <span class="comment">//求长度</span></span><br><span class="line">       <span class="function"><span class="keyword">void</span> <span class="title">Clear</span>()</span>; <span class="comment">//清空操作</span></span><br><span class="line">       <span class="function"><span class="built_in">bool</span> <span class="title">IsEmpty</span>()</span>; <span class="comment">//判断线性表是否为空</span></span><br><span class="line">       <span class="function"><span class="keyword">void</span> <span class="title">Add</span>(<span class="params">T item</span>)</span>; <span class="comment">//附加操作</span></span><br><span class="line">       <span class="function"><span class="keyword">void</span> <span class="title">Insert</span>(<span class="params">T item, <span class="built_in">int</span> i</span>)</span>; <span class="comment">//插入操作</span></span><br><span class="line">       <span class="function">T <span class="title">Delete</span>(<span class="params"><span class="built_in">int</span> i</span>)</span>; <span class="comment">//删除操作</span></span><br><span class="line">       <span class="function">T <span class="title">GetElem</span>(<span class="params"><span class="built_in">int</span> i</span>)</span>; <span class="comment">//取表元</span></span><br><span class="line">       T <span class="keyword">this</span>[<span class="built_in">int</span> index] &#123; <span class="keyword">get</span>; &#125;<span class="comment">//定义一个索引器 获取元素</span></span><br><span class="line">       <span class="function"><span class="built_in">int</span> <span class="title">Locate</span>(<span class="params">T <span class="keyword">value</span></span>)</span>; <span class="comment">//按值查找</span></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h6 id="【2】Node"><a href="#【2】Node" class="headerlink" title="【2】Node"></a>【2】Node</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">T</span>&gt;&#123;</span><br><span class="line">       <span class="keyword">private</span> T data;<span class="comment">//存储数据</span></span><br><span class="line">       <span class="keyword">private</span> Node&lt;T&gt; next;<span class="comment">//指针，用来指向下一个元素</span></span><br><span class="line">       <span class="keyword">public</span> T Data &#123; <span class="keyword">get</span> =&gt; data; <span class="keyword">set</span> =&gt; data = <span class="keyword">value</span>; &#125;</span><br><span class="line">       <span class="keyword">internal</span> Node&lt;T&gt; Next &#123; <span class="keyword">get</span> =&gt; next; <span class="keyword">set</span> =&gt; next = <span class="keyword">value</span>; &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">Node</span>()</span>&#123; </span><br><span class="line">           data=<span class="literal">default</span>(T);</span><br><span class="line">           next=<span class="literal">null</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">Node</span>(<span class="params">T <span class="keyword">value</span></span>)</span>&#123;</span><br><span class="line">           data=<span class="keyword">value</span>;</span><br><span class="line">           next=<span class="literal">null</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">Node</span>(<span class="params">Node&lt;T&gt; next</span>)</span> &#123;</span><br><span class="line">           <span class="keyword">this</span>.next = next;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">Node</span>(<span class="params">T data, Node&lt;T&gt; next</span>)</span> &#123;</span><br><span class="line">           <span class="keyword">this</span>.data = data;</span><br><span class="line">           <span class="keyword">this</span>.next = next;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h6 id="【3】LinkList"><a href="#【3】LinkList" class="headerlink" title="【3】LinkList"></a>【3】LinkList</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">LinkList</span>&lt;<span class="title">T</span>&gt; : <span class="title">IListDS</span>&lt;<span class="title">T</span>&gt; &#123;</span><br><span class="line">        <span class="keyword">private</span> Node&lt;T&gt; head;<span class="comment">//存储一个头结点</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">LinkList</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            head = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 返回索引下的数据</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;index&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> T <span class="keyword">this</span>[<span class="built_in">int</span> index] &#123;</span><br><span class="line">            <span class="keyword">get</span>&#123;</span><br><span class="line">                Node&lt;T&gt; temp = head;</span><br><span class="line">                <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt;= index; i++)&#123;</span><br><span class="line">                    temp = temp.Next;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> temp.Data;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 添加数据</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;item&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Add</span>(<span class="params">T item</span>)</span> &#123;</span><br><span class="line">            Node&lt;T&gt; newNode = <span class="keyword">new</span> Node&lt;T&gt;(item); <span class="comment">//根据新的数据创建一个新的结点</span></span><br><span class="line">            <span class="comment">//如果头结点为空，那么这个新的节点就是头结点</span></span><br><span class="line">            <span class="keyword">if</span>(head==<span class="literal">null</span>) head = newNode;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//把新来的结点放到链表的尾部</span></span><br><span class="line">                <span class="comment">//要访问到链表的尾结点</span></span><br><span class="line">                Node&lt;T&gt; temp = head;</span><br><span class="line">                <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (temp.Next != <span class="literal">null</span>) &#123;</span><br><span class="line">                        temp=temp.Next;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span>&#123;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                temp.Next = newNode;<span class="comment">//把新来的结点放到链表的尾部</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 清空单链表</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Clear</span>()</span> &#123;</span><br><span class="line">            head=<span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 删除指定索引数据</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;index&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> T <span class="title">Delete</span>(<span class="params"><span class="built_in">int</span> index</span>)</span> &#123;</span><br><span class="line">            T data = <span class="literal">default</span>(T);</span><br><span class="line">            <span class="keyword">if</span>(index==<span class="number">0</span>)&#123;  <span class="comment">//删除头结点</span></span><br><span class="line">                data =head.Data;</span><br><span class="line">                head=head.Next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                Node&lt;T&gt; temp = head;</span><br><span class="line">                <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt;= index - <span class="number">1</span>; i++)&#123;</span><br><span class="line">                    <span class="comment">//让temp向后移动一个位置</span></span><br><span class="line">                    temp = temp.Next;</span><br><span class="line">                &#125;</span><br><span class="line">                Node&lt;T&gt; preNode = temp;</span><br><span class="line">                Node&lt;T&gt; currentNode = temp.Next;</span><br><span class="line">                data = currentNode.Data;</span><br><span class="line">                Node&lt;T&gt; nextNode = temp.Next.Next;</span><br><span class="line">                <span class="comment">//上一节点指向新的结点</span></span><br><span class="line">                preNode.Next = nextNode;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> data;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 获取索引下的数据</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;index&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> T <span class="title">GetElem</span>(<span class="params"><span class="built_in">int</span> index</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>[index];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 获取单链表长度</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">GetLength</span>()</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (head == <span class="literal">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            Node&lt;T&gt; temp = head;</span><br><span class="line">            <span class="built_in">int</span> count = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span> (temp.Next != <span class="literal">null</span>)&#123;</span><br><span class="line">                    count++;</span><br><span class="line">                    temp = temp.Next;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> count;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 插入数据【需要考虑插入的是头部还是其他位置】</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;item&quot;&gt;</span>所要插入的数据<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;index&quot;&gt;</span>插入的位置索引<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Insert</span>(<span class="params">T item, <span class="built_in">int</span> index</span>)</span> &#123;</span><br><span class="line">            Node&lt;T&gt; newNode=<span class="keyword">new</span> Node&lt;T&gt;(item);</span><br><span class="line">            <span class="comment">//插入到头结点</span></span><br><span class="line">            <span class="keyword">if</span> (index == <span class="number">0</span>) &#123;</span><br><span class="line">                newNode.Next = head;</span><br><span class="line">                head = newNode;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                Node&lt;T&gt; temp = head;</span><br><span class="line">                <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>;i&lt;=index<span class="number">-1</span>;i++)&#123;</span><br><span class="line">                    <span class="comment">//让temp向后移动一个位置</span></span><br><span class="line">                    temp=temp.Next;</span><br><span class="line">                &#125;</span><br><span class="line">                Node&lt;T&gt; preNode = temp;</span><br><span class="line">                Node&lt;T&gt; currentNode = temp.Next;</span><br><span class="line">                <span class="comment">//上一节点指向新的结点</span></span><br><span class="line">                preNode.Next = newNode;</span><br><span class="line">                <span class="comment">//新节点指向当前结点</span></span><br><span class="line">                newNode.Next = currentNode;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 判断是否为空</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">IsEmpty</span>()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> head == <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 返回所要查找的数据位置索引</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">Locate</span>(<span class="params">T <span class="keyword">value</span></span>)</span> &#123;</span><br><span class="line">            Node&lt;T&gt; temp=head;</span><br><span class="line">            <span class="keyword">if</span> (temp == <span class="literal">null</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="built_in">int</span> index = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(temp.Data.Equals(<span class="keyword">value</span>))&#123;</span><br><span class="line">                        <span class="keyword">return</span> index;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">if</span> (temp.Next != <span class="literal">null</span>) &#123;</span><br><span class="line">                            temp = temp.Next;</span><br><span class="line">                            index++;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h6 id="具体测试代码详见-1"><a href="#具体测试代码详见-1" class="headerlink" title="具体测试代码详见"></a>具体测试代码详见</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">nodeList.Add(<span class="string">&quot;计算机科学与技术&quot;</span>);</span><br><span class="line">nodeList.Add(<span class="string">&quot;软件工程&quot;</span>);</span><br><span class="line">nodeList.Add(<span class="string">&quot;自动化&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; nodeList.GetLength(); i++) &#123;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;数据&#123;0&#125;:&#123;1&#125;&quot;</span>, i, nodeList[i]);</span><br><span class="line">&#125;</span><br><span class="line">Console.WriteLine(<span class="string">&quot;单链表长度:&quot;</span> + nodeList.GetLength());</span><br><span class="line">Console.WriteLine(<span class="string">&quot;单链表中第一个数值:&quot;</span> + nodeList.GetElem(<span class="number">0</span>));</span><br><span class="line">Console.WriteLine(<span class="string">&quot;删除单链表中第二个数据:&quot;</span> + nodeList.Delete(<span class="number">2</span>));</span><br><span class="line">Console.WriteLine(<span class="string">&quot;单链表长度:&quot;</span> + nodeList.GetLength());</span><br><span class="line">nodeList.Insert(<span class="string">&quot;艺术与实践&quot;</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; nodeList.GetLength(); i++) &#123;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;添加完后的数据&#123;0&#125;个:&#123;1&#125;&quot;</span>, i, nodeList[i]);</span><br><span class="line">&#125;</span><br><span class="line">Console.WriteLine(<span class="string">&quot;单链表长度:&quot;</span> + nodeList.GetLength());</span><br><span class="line">Console.WriteLine(<span class="string">&quot;数据所在位置:&quot;</span> + nodeList.Locate(<span class="string">&quot;软件工程&quot;</span>) + <span class="string">&quot;【注：-1代表未查询到】&quot;</span>);</span><br></pre></td></tr></table></figure><h6 id="控制台输出效果-1"><a href="#控制台输出效果-1" class="headerlink" title="控制台输出效果"></a>控制台输出效果</h6><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">数据0:计算机科学与技术</span><br><span class="line">数据1:软件工程</span><br><span class="line">数据2:自动化</span><br><span class="line">单链表长度:3</span><br><span class="line">单链表中第一个数值:计算机科学与技术</span><br><span class="line">删除单链表中第二个数据:自动化</span><br><span class="line">单链表长度:2</span><br><span class="line">添加完后的数据0个:计算机科学与技术</span><br><span class="line">添加完后的数据1个:艺术与实践</span><br><span class="line">添加完后的数据2个:软件工程</span><br><span class="line">单链表长度:3</span><br><span class="line">数据所在位置:2【注：-1代表未查询到】</span><br></pre></td></tr></table></figure><h4 id="双链表"><a href="#双链表" class="headerlink" title="双链表"></a>双链表</h4><h5 id="含义："><a href="#含义：" class="headerlink" title="含义："></a>含义：</h5><p>双向链表其元素指向它前面和后面的元素。它的每一个节点除了拥有 data 和 next 指针，还拥有指向前置节点的 prev （上个位域）指针</p><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/doubleNodeOne.png" style="zoom:50%;" /></p><h5 id="特性："><a href="#特性：" class="headerlink" title="特性："></a>特性：</h5><p>1）LinkedList<T> <strong>无法通过下标查找元素</strong>，在查找链表元素时，总是从头结点开始查找。</p><p>2）LinkedList<T> 的容量是链表最大包含的元素数，会根据元素增减而<strong>动态调整容量</strong>。</p><p>3）LinkedList<T> 中的每个节点 都属于 <strong>LinkedListNode<T> 类型</strong>。</p><p>4）LinkedList<T> <strong>的值可以为 null，并允许重复值</strong>。</p><p>5）LinkedList<T> **不自带排序方法。</p>]]></content>
    
    
    <summary type="html">数据结构是学习编程和提升自己的一方面，这篇文章整合了线性表</summary>
    
    
    
    <category term="🧿开发编程" scheme="https://blog.gmcj0816.top/categories/%F0%9F%A7%BF%E5%BC%80%E5%8F%91%E7%BC%96%E7%A8%8B/"/>
    
    
    <category term="C#编程" scheme="https://blog.gmcj0816.top/tags/C-%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>C#数据结构【数组】</title>
    <link href="https://blog.gmcj0816.top/posts/30495/"/>
    <id>https://blog.gmcj0816.top/posts/30495/</id>
    <published>2022-08-19T11:48:06.000Z</published>
    <updated>2022-08-18T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>【<font color=red>此文章所有代码可在文章末尾下载查看源码</font>】</p><p>数据结构是计算机存储，组织数据的方式,同样也是相互之间存在一种或者多种特定关系的数据元素的集合</p><p>算法是一系列规定的计算步骤，为了实现特定的计算目的</p><p>基本数据结构一般有4类:<br>(1)集合  (2)线性结构  (3)树形结构 (4)图形结构<br><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/TuXingJieGou.png" style="zoom:50%;" />  </p><p>集合：<strong>数据结构中的集合与数学中的集合类似，在集合中的 数据只是存在同一集合中，但其数据之间没有关系</strong>。</p><p>线性结构：<strong>数据元素之间是一对一的关系</strong></p><p>主要包括：线性表，栈，队列（三者的数据元素以及数据间的逻辑关系完全相同，差别就在于线性表的操作不受限制，而栈和队列的操作受到限制，栈的操作只能在表的一端进行，队列的插入操作在表的一端进行而其它操作在表的另一端进行，所以，把栈和队列称为操作受限的线性表）</p><p>树形结构：<strong>数据元素之间的层次关系是一对多</strong></p><p>图形结构：<strong>数据元素之间呈多对多的关系</strong></p><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><h3 id="静态数组："><a href="#静态数组：" class="headerlink" title="静态数组："></a>静态数组：</h3><p>int[],float[],string[]等</p><p>特点：数组一旦创建，其容量的大小是无法进行改变的</p><h3 id="动态数组："><a href="#动态数组：" class="headerlink" title="动态数组："></a>动态数组：</h3><p>ArrayList List</p><p>特点：可以根据元素的多少动态的调整数组容量的大小</p><h3 id="泛型数组（List）："><a href="#泛型数组（List）：" class="headerlink" title="泛型数组（List）："></a>泛型数组（List）：</h3><p>优势：对于存储值类型数据，性能更优；使代买更清晰和保证类型安全</p><h4 id="动态数组代码实现"><a href="#动态数组代码实现" class="headerlink" title="动态数组代码实现"></a>动态数组代码实现</h4><p>这里主要考虑的便是数组中所要实现的功能（插入数据，获取数据，删除数据，修改数据，数组的扩容）</p><h5 id="1-定义一个数组来存储数据T-data-通过num来统计数组的数组的大小"><a href="#1-定义一个数组来存储数据T-data-通过num来统计数组的数组的大小" class="headerlink" title="(1).定义一个数组来存储数据T[] data,通过num来统计数组的数组的大小"></a>(1).定义一个数组来存储数据T[] data,通过num来统计数组的数组的大小</h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> T[] data;<span class="comment">//数组数据</span></span><br><span class="line"><span class="keyword">private</span> <span class="built_in">int</span> num;<span class="comment">//数组的大小</span></span><br></pre></td></tr></table></figure><h5 id="2-所需要的参数定义完毕后便是对构造方法，这里主要考虑的便是数组需要在创建之初要设置好数组的大小"><a href="#2-所需要的参数定义完毕后便是对构造方法，这里主要考虑的便是数组需要在创建之初要设置好数组的大小" class="headerlink" title="(2).所需要的参数定义完毕后便是对构造方法，这里主要考虑的便是数组需要在创建之初要设置好数组的大小"></a>(2).所需要的参数定义完毕后便是对构造方法，这里主要考虑的便是数组需要在创建之初要设置好数组的大小</h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 有参构造</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;capacity&quot;&gt;</span>容量<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ArrayOne</span>(<span class="params"><span class="built_in">int</span> capacity</span>)</span> &#123;</span><br><span class="line">           data = <span class="keyword">new</span> T[capacity];</span><br><span class="line">           num = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 无参构造==》建议动态数组定义长度</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ArrayOne</span>(): <span class="title">this</span>(<span class="params"><span class="number">10</span></span>)</span> &#123; &#125;</span><br></pre></td></tr></table></figure><h5 id="3-考虑使用过程中所需要的功能【添加数据，修改数据，删除数据，获取数据，扩容数组】"><a href="#3-考虑使用过程中所需要的功能【添加数据，修改数据，删除数据，获取数据，扩容数组】" class="headerlink" title="(3).考虑使用过程中所需要的功能【添加数据，修改数据，删除数据，获取数据，扩容数组】"></a>(3).考虑使用过程中所需要的功能【添加数据，修改数据，删除数据，获取数据，扩容数组】</h5><h6 id="插入-添加数据"><a href="#插入-添加数据" class="headerlink" title="插入/添加数据"></a>插入/添加数据</h6><p>①.首先需要判定index是否在数组范围内</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(index &lt; <span class="number">0</span> || index &gt;num )<span class="keyword">throw</span> <span class="keyword">new</span> ArgumentException(<span class="string">&quot;index不合法，请检查&quot;</span>);</span><br></pre></td></tr></table></figure><p>②.由于我们使用的是动态数组，当数组的长度和num相同时，则需要对数组进行扩容【相关代码请看ResetCapacity()方法】</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//当数组容量不足时则需要进行数组的扩容</span></span><br><span class="line"><span class="keyword">if</span> (num == data.Length)  ResetCapacity(<span class="number">2</span>*data.Length);</span><br></pre></td></tr></table></figure><p>③下面我们要考虑的便是添加数据，这里主要考虑的便是插入的目标索引和数据信息，需要将目标位置索引数据往后挪动，然后将目标索引的数据写入即可</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Add</span>(<span class="params"><span class="built_in">int</span> index,T e</span>)</span> &#123;</span><br><span class="line">       <span class="keyword">if</span>(index &lt; <span class="number">0</span> || index &gt;num )<span class="keyword">throw</span> <span class="keyword">new</span> ArgumentException(<span class="string">&quot;index不合法，请检查&quot;</span>);</span><br><span class="line">       <span class="comment">//当数组容量不足时则需要进行数组的扩容</span></span><br><span class="line">       <span class="keyword">if</span> (num == data.Length) </span><br><span class="line">           ResetCapacity(<span class="number">2</span>*data.Length);</span><br><span class="line">       <span class="keyword">for</span> (<span class="built_in">int</span> i = num - <span class="number">1</span>; i &gt;= index; i--) </span><br><span class="line">           data[i+<span class="number">1</span>]=data[i];</span><br><span class="line">       data[index] = e;</span><br><span class="line">       <span class="comment">//数组个数加1</span></span><br><span class="line">       num++;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>④这里为了方便添加了向数据末尾和数据头部添加数据的方法，只需将num和数据添加写入即可</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 添加到数组末尾</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;e&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddLast</span>(<span class="params">T <span class="keyword">value</span></span>)</span>&#123;</span><br><span class="line">    Add(num,<span class="keyword">value</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 添加到数组开始</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;e&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddFist</span>(<span class="params">T <span class="keyword">value</span></span>)</span> &#123;</span><br><span class="line">    Add(<span class="number">0</span>,<span class="keyword">value</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="获取数据"><a href="#获取数据" class="headerlink" title="获取数据"></a>获取数据</h6><p>这里考虑的比较少一些，只需判断所要获取的索引是否越界，然后返回相应索引的数据</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 获取数组元素</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;index&quot;&gt;</span>数组索引<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> T <span class="title">Get</span>(<span class="params"><span class="built_in">int</span> index</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= num) <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentException(<span class="string">&quot;数组索引越界&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> data[index];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 获取数组的头元素</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> T <span class="title">GetFirst</span>()</span> &#123; <span class="keyword">return</span> Get(<span class="number">0</span>); &#125;</span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 获取数组的末尾元素</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> T <span class="title">GetLast</span>()</span> &#123; <span class="keyword">return</span> Get(num<span class="number">-1</span>); &#125;</span><br></pre></td></tr></table></figure><h6 id="修改数据"><a href="#修改数据" class="headerlink" title="修改数据"></a>修改数据</h6><p>这里考虑的比较少一些，只需判断所要获取的索引是否越界，将相应索引的数据重新赋值即可</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 修改数组的元素数据信息</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetValue</span>(<span class="params"><span class="built_in">int</span> index,T newValue</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= num) <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentException(<span class="string">&quot;数组索引越界&quot;</span>);</span><br><span class="line">    data[index] = newValue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 删除相关头部索引的数据</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> T <span class="title">RemoveFirst</span>()</span> &#123; <span class="keyword">return</span> RemoveAt(<span class="number">0</span>); &#125;</span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 删除相关末尾索引的数据</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> T <span class="title">RemoveLast</span>()</span> &#123; <span class="keyword">return</span> RemoveAt(num<span class="number">-1</span>); &#125;</span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 删除指定数据==&gt;如果存在将删除，没有不删除</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">Remove</span>(<span class="params"><span class="built_in">int</span> <span class="keyword">value</span></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">int</span> index=IndexOf(<span class="keyword">value</span>);</span><br><span class="line">    <span class="keyword">if</span> (index != <span class="number">-1</span>) &#123;</span><br><span class="line">        RemoveAt(index);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;删除成功&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;所要删除的数据不存在，故删除失败&quot;</span>;</span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 删除相关索引的数据</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;index&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> T <span class="title">RemoveAt</span>(<span class="params"><span class="built_in">int</span> index</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= num) <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentException(<span class="string">&quot;数组索引越界&quot;</span>);</span><br><span class="line">    T delValue=data[index];</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = index+<span class="number">1</span>; i &lt;=num<span class="number">-1</span>; i++)</span><br><span class="line">        data[i<span class="number">-1</span>] = data[i];</span><br><span class="line">    num--;</span><br><span class="line">    data[num] = <span class="literal">default</span>(T);</span><br><span class="line">    <span class="comment">//缩容</span></span><br><span class="line">    <span class="keyword">if</span> (num == data.Length / <span class="number">4</span>)</span><br><span class="line">        ResetCapacity(data.Length / <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">return</span> delValue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="判断数据是否存在"><a href="#判断数据是否存在" class="headerlink" title="判断数据是否存在"></a>判断数据是否存在</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 判断数据是否存在</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>所要判断的数组数据<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">Contains</span>(<span class="params">T <span class="keyword">value</span></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (data[i].Equals(<span class="keyword">value</span>)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h5 id="下面是完整代码"><a href="#下面是完整代码" class="headerlink" title="下面是完整代码"></a>下面是完整代码</h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">private</span> T[] data;<span class="comment">//数组数据</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> num;<span class="comment">//数组的大小</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 有参构造</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;capacity&quot;&gt;</span>容量<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArrayOne</span>(<span class="params"><span class="built_in">int</span> capacity</span>)</span> &#123;</span><br><span class="line">        data = <span class="keyword">new</span> T[capacity];</span><br><span class="line">        num = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 无参构造==》建议动态数组定义长度</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArrayOne</span>(): <span class="title">this</span>(<span class="params"><span class="number">10</span></span>)</span> &#123; &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 返回数组的长度</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Capacity &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> data.Length; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 返回数组的元素个数</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Count&#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> num; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 判断动态数组是否为空==&gt;只需知道数组的个数是否为0即可</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> IsEmpty&#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> num == <span class="number">0</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 获取数组元素</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;index&quot;&gt;</span>数组索引<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">Get</span>(<span class="params"><span class="built_in">int</span> index</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= num) <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentException(<span class="string">&quot;数组索引越界&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> data[index];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 获取数组的头元素</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">GetFirst</span>()</span> &#123; <span class="keyword">return</span> Get(<span class="number">0</span>); &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 获取数组的末尾元素</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">GetLast</span>()</span> &#123; <span class="keyword">return</span> Get(num<span class="number">-1</span>); &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 修改数组的元素数据信息</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetValue</span>(<span class="params"><span class="built_in">int</span> index,T newValue</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= num) <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentException(<span class="string">&quot;数组索引越界&quot;</span>);</span><br><span class="line">        data[index] = newValue;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span>&#123;</span><br><span class="line">        StringBuilder stringBuilder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        stringBuilder.Append(<span class="built_in">string</span>.Format(<span class="string">&quot;ArrayOne:  count=&#123;0&#125; capacity=&#123;1&#125;\n&quot;</span>,num,data.Length));</span><br><span class="line">        stringBuilder.Append(<span class="string">&quot;[&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">            stringBuilder.Append(data[i]);</span><br><span class="line">            <span class="keyword">if</span> (i != num - <span class="number">1</span>)</span><br><span class="line">                stringBuilder.Append(<span class="string">&quot;, &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        stringBuilder.Append(<span class="string">&quot;]&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> stringBuilder.ToString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 判断数据是否存在</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>所要判断的数组数据<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">Contains</span>(<span class="params">T <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (data[i].Equals(<span class="keyword">value</span>)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 返回数据的相关索引</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">IndexOf</span>(<span class="params"><span class="built_in">int</span> <span class="keyword">value</span></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (data[i].Equals(<span class="keyword">value</span>)) <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 删除相关索引的数据</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;index&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">RemoveAt</span>(<span class="params"><span class="built_in">int</span> index</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= num) <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentException(<span class="string">&quot;数组索引越界&quot;</span>);</span><br><span class="line">        T delValue=data[index];</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = index+<span class="number">1</span>; i &lt;=num<span class="number">-1</span>; i++)</span><br><span class="line">            data[i<span class="number">-1</span>] = data[i];</span><br><span class="line">        num--;</span><br><span class="line">        data[num] = <span class="literal">default</span>(T);</span><br><span class="line">        <span class="comment">//缩容</span></span><br><span class="line">        <span class="keyword">if</span> (num == data.Length / <span class="number">4</span>)</span><br><span class="line">            ResetCapacity(data.Length / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">return</span> delValue;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 删除相关头部索引的数据</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">RemoveFirst</span>()</span> &#123; <span class="keyword">return</span> RemoveAt(<span class="number">0</span>); &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 删除相关末尾索引的数据</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">RemoveLast</span>()</span> &#123; <span class="keyword">return</span> RemoveAt(num<span class="number">-1</span>); &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 删除指定数据==&gt;如果存在将删除，没有不删除</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">Remove</span>(<span class="params"><span class="built_in">int</span> <span class="keyword">value</span></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">int</span> index=IndexOf(<span class="keyword">value</span>);</span><br><span class="line">        <span class="keyword">if</span> (index != <span class="number">-1</span>) &#123;</span><br><span class="line">            RemoveAt(index);</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;删除成功&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;所要删除的数据不存在，故删除失败&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ResetCapacity</span>(<span class="params"><span class="built_in">int</span> newCapacity</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        T[] newData=<span class="keyword">new</span> T[newCapacity];</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; num; i++)</span><br><span class="line">            newData[i]=data[i];</span><br><span class="line">        data=newData;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="具体测试代码详见"><a href="#具体测试代码详见" class="headerlink" title="具体测试代码详见"></a>具体测试代码详见</h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">ArrayOne&lt;<span class="built_in">int</span>&gt; arrayOne = <span class="keyword">new</span> ArrayOne&lt;<span class="built_in">int</span>&gt;(<span class="number">20</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    arrayOne.AddLast(i);</span><br><span class="line">&#125;</span><br><span class="line">Console.WriteLine(<span class="string">&quot;数组信息:&#123;0&#125;&quot;</span>, arrayOne);</span><br><span class="line">arrayOne.AddLast(<span class="number">1234</span>);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;**********末尾添加完数据后的数组信息:**********\n&#123;0&#125;&quot;</span>, arrayOne);</span><br><span class="line">arrayOne.AddFist(<span class="number">88</span>);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;**********头部添加完数据后的数组信息:**********\ns&#123;0&#125;&quot;</span>, arrayOne);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;获取数组头部元素:&#123;0&#125;&quot;</span>, arrayOne.GetFirst());</span><br><span class="line">Console.WriteLine(<span class="string">&quot;获取数组尾部元素:&#123;0&#125;&quot;</span>, arrayOne.GetLast());</span><br><span class="line">Console.WriteLine(<span class="string">&quot;获取数组第6个元素:&#123;0&#125;&quot;</span>, arrayOne.Get(<span class="number">6</span>));</span><br><span class="line">arrayOne.SetValue(<span class="number">2</span>, <span class="number">755</span>);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;**********修改第2个数组元素后:**********\n&#123;0&#125;&quot;</span>, arrayOne);</span><br><span class="line"><span class="built_in">bool</span> isHave= arrayOne.Contains(<span class="number">78</span>);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;arrayOne中&#123;0&#125;存在78&quot;</span>,isHave?<span class="string">&quot;&quot;</span>:<span class="string">&quot;不&quot;</span>);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;返回数据3的相关索引:&#123;0&#125;&quot;</span>, arrayOne.IndexOf(<span class="number">3</span>));</span><br><span class="line">arrayOne.RemoveAt(<span class="number">3</span>);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;**********删除索引为3的数据后:**********\n&#123;0&#125;&quot;</span>, arrayOne);</span><br><span class="line">arrayOne.RemoveFirst();</span><br><span class="line">Console.WriteLine(<span class="string">&quot;**********删除头索引的数据后:**********\n&#123;0&#125;&quot;</span>, arrayOne);</span><br><span class="line">arrayOne.RemoveLast();</span><br><span class="line">Console.WriteLine(<span class="string">&quot;**********删除末尾索引的数据后:**********\n&#123;0&#125;&quot;</span>, arrayOne);</span><br><span class="line"><span class="built_in">string</span> s=arrayOne.Remove(<span class="number">7777</span>);</span><br><span class="line">Console.WriteLine(s);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;**********尝试删除7777的数据后数组:**********\n&#123;0&#125;&quot;</span>, arrayOne);</span><br><span class="line">Console.ReadLine();</span><br></pre></td></tr></table></figure><h5 id="控制台输出效果"><a href="#控制台输出效果" class="headerlink" title="控制台输出效果"></a>控制台输出效果</h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">数组信息:ArrayOne:  count=<span class="number">10</span> capacity=<span class="number">20</span></span><br><span class="line">[<span class="meta">0, 1, 2, 3, 4, 5, 6, 7, 8, 9</span>]</span><br><span class="line">**********末尾添加完数据后的数组信息:**********</span><br><span class="line">ArrayOne:  count=<span class="number">11</span> capacity=<span class="number">20</span></span><br><span class="line">[<span class="meta">0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 1234</span>]</span><br><span class="line">**********头部添加完数据后的数组信息:**********</span><br><span class="line">sArrayOne:  count=<span class="number">12</span> capacity=<span class="number">20</span></span><br><span class="line">[<span class="meta">88, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 1234</span>]</span><br><span class="line">获取数组头部元素:<span class="number">88</span></span><br><span class="line">获取数组尾部元素:<span class="number">1234</span></span><br><span class="line">获取数组第<span class="number">6</span>个元素:<span class="number">5</span></span><br><span class="line">**********修改第<span class="number">2</span>个数组元素后:**********</span><br><span class="line">ArrayOne:  count=<span class="number">12</span> capacity=<span class="number">20</span></span><br><span class="line">[<span class="meta">88, 0, 755, 2, 3, 4, 5, 6, 7, 8, 9, 1234</span>]</span><br><span class="line">arrayOne中不存在<span class="number">78</span></span><br><span class="line">返回数据<span class="number">3</span>的相关索引:<span class="number">4</span></span><br><span class="line">**********删除索引为<span class="number">3</span>的数据后:**********</span><br><span class="line">ArrayOne:  count=<span class="number">11</span> capacity=<span class="number">20</span></span><br><span class="line">[<span class="meta">88, 0, 755, 3, 4, 5, 6, 7, 8, 9, 1234</span>]</span><br><span class="line">**********删除头索引的数据后:**********</span><br><span class="line">ArrayOne:  count=<span class="number">10</span> capacity=<span class="number">20</span></span><br><span class="line">[<span class="meta">0, 755, 3, 4, 5, 6, 7, 8, 9, 1234</span>]</span><br><span class="line">**********删除末尾索引的数据后:**********</span><br><span class="line">ArrayOne:  count=<span class="number">9</span> capacity=<span class="number">20</span></span><br><span class="line">[<span class="meta">0, 755, 3, 4, 5, 6, 7, 8, 9</span>]</span><br><span class="line">所要删除的数据不存在，故删除失败</span><br><span class="line">**********尝试删除<span class="number">7777</span>的数据后数组:**********</span><br><span class="line">ArrayOne:  count=<span class="number">9</span> capacity=<span class="number">20</span></span><br><span class="line">[<span class="meta">0, 755, 3, 4, 5, 6, 7, 8, 9</span>]</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">这里是整合的数据结构中比较简单的数组，欢迎大家观看</summary>
    
    
    
    <category term="🧿开发编程" scheme="https://blog.gmcj0816.top/categories/%F0%9F%A7%BF%E5%BC%80%E5%8F%91%E7%BC%96%E7%A8%8B/"/>
    
    
    <category term="C#编程" scheme="https://blog.gmcj0816.top/tags/C-%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Butterfly主题外挂标签</title>
    <link href="https://blog.gmcj0816.top/posts/43183/"/>
    <id>https://blog.gmcj0816.top/posts/43183/</id>
    <published>2022-08-12T11:36:51.000Z</published>
    <updated>2023-04-13T09:58:09.678Z</updated>
    
    <content type="html"><![CDATA[<p>此文章部分转载于</p><p><a href="https://hassanwong.top/">Hassan’s Blog</a></p><p><a href="https://akilar.top/posts/615e2dec/">Tag Plugins Plus | Akilarの糖果屋</a></p><p><a href="https://www.jayhrn.com/posts/3682/">Butterfly美化——轮播置顶文章 | Jayhrnの糖衣阁</a></p><p>感谢大神的相关文章</p><h2 id="小图标合集"><a href="#小图标合集" class="headerlink" title="小图标合集"></a>小图标合集</h2><div class="tabs" id="表情"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#表情-1">表情包</button></li><li class="tab"><button type="button" data-href="#表情-2">蛋糕美食</button></li><li class="tab"><button type="button" data-href="#表情-3">卡通动物</button></li><li class="tab"><button type="button" data-href="#表情-4">交通和天气</button></li><li class="tab"><button type="button" data-href="#表情-5">爱心</button></li><li class="tab"><button type="button" data-href="#表情-6">推荐</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="表情-1"><p>😀😁😂🤣😃😄😅😆😉😊😋😎😍😘🥰😗😙😚☺🙂🤗🤩🤔<br>🤨😐😑😶🙄😏😣😥😮🤐😯😪😫🥱😴😌😛😜😝🤤😒😓😔<br>🙃🤑😲☹🙁😖😞😟😤😢😭😦😧😨😩🤯😬😰😱🥵🥶😳🤓<br>🤪😵🥴😠😡🤬😷🤒🤕🤢🤮🤧😇🥳🥺🤡🤠🤥🤫🤭🧐😕<br>😈👿👹👺💀☠👻👽👾🤖💩</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="表情-2"><p>🍕🍔🍟🌭🧂🍿🥓🥚🍳🧇🥞🧈🍞🥐🥨🥯🥙🥪🌮🌯🥫🍖🍗🥩🍠 🥠<br>🥡🍱🍚🍛🍜🦪🍣🍤🍥🥮🍢🧆🥘🍲🍝🥣🍧🍦🍨🍩🍪🎂🍰🧁🍫🍬🍭<br>🍡🍮🍯🍼🥛🧃☕🍵🧉🍶🍾🍷🍸🍹🍺🍻🥂🥃🧊🥤🥢🍴🥄🏺🥝🥥🍇🍈🍉<br>🍊🍌🍋🍍🥭🍎🍏🍐🍑🍒🍓🍅🍆🌽🌶🍄🥑🥒🥬🥦🥔🧄🧅🥕🌰🥜💐🌸🏵<br>🌹🌺🌻🌼🌷🥀☘🌱🌲🌳🌴🌵🌾🌿🍀🍁🍂🍃</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="表情-3"><p>😺😸😹😻😼😽🙀😿😾🐱‍👤🐱‍🏍<br>🐱‍💻🐱‍🐉🐱‍👓🐱‍🚀🙈🙉🙊🐵🐶🐺🐱🦁🐯🦒🦊🦝🐮🐷🐗🐭🐹<br>🐰🐻🐨🐼🐸🦓🐴🦄🐔🐲🐽🐾🐒🦍🦧🦮🐕‍🦺🐩🐕🐈🐅🐆🐎🦌<br>🦏🦛🐂🐃🐄🐖🐏🐑🐐🐪🐫🦙🦘🦥🦨🦡🐘🐁🐀🦔🐇🐿🦎<br>🐊🐢🐍🐉🦕🦖🦦🦈🐬🐳🐋🐟🐠🐡🦐🦑🐙🦞🦀🐚🦆🐓🦃🦅🕊<br>🦢🦜🦩🦚🦉🐦🐧🐥🐤🐣🦇🦋🐌🐛🦟🦗🐜🐝🐞🦂🕷</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="表情-4"><p>🚗🚓🚕🛺🚙🚌🚎🚒🚚🚛🚜🚘🚔🚖🚍🦽🦼🛹🚲🛴🛵🏍🚄🚅🚈🚝🚞<br>🚃🚋🚆🛩🚉🪂🚊✈🚇🛫🚟🛬🚠💺🚡🚁🚀🚂🛸🛰⛵🚤🛥⛴🛳🚢⚓🌎🌏<br>🛤🏕🗺🏞🧭🛣🏔🏖⛰🏜🌋🏝🗻🏚🏙🏘🏗🏛🕋🕌🛕🕍⛩⛪去🏰🏯🗼🌉<br>🛁🌝🌤⛈⛅☁🌩🌨🌧🌦🌥🌜🌞⭐🌟🌈🌀🌬🌡☄🌠☔🌊⛱⚡❄☃⛄🔥</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="表情-5"><p>❤🧡💛💚💙💜🤎🖤🤍💔❣💕💞💓💗💖💘💝💟💌💥💤💦💨💫🕳💯🔅🔆⚜<br>〽❓❔❗❕〰➰✔💲💱➕➖✖➗💭🗯💬🗨👁‍🗨🕐🕑🕒🕧🕦🕥🕤🕝🕟🕠🕡🕢</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="表情-6"><p>🌸🕍🦄🦜🧿🤖📈💫📚📭📌🍺🥤🍋🟢🧿🎯🍓🌽🧉🍣💌🔍🎐🌀📐🕸</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="引用-Note"><a href="#引用-Note" class="headerlink" title="引用 Note"></a>引用 Note</h2><div class="tabs" id="引用"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#引用-1">效果源码 👺</button></li><li class="tab"><button type="button" data-href="#引用-2">对应效果 🤗</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="引用-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">## Simple样式</span><br><span class="line">&#123;% note simple %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line">&#123;% note default simple %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line">&#123;% note primary simple %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line">&#123;% note success simple %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line">&#123;% note info simple %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line">&#123;% note warning simple %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line">&#123;% note danger simple %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">## modern样式</span><br><span class="line">&#123;% note modern %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line">&#123;% note default modern %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line">&#123;% note primary modern %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line">&#123;% note success modern %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line">&#123;% note info modern %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line">&#123;% note warning modern %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line">&#123;% note danger modern %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note no-icon %&#125;少年心事当拂云&#123;% endnote %&#125;</span><br><span class="line">&#123;% note blue no-icon %&#125;黄沙百战穿金甲，不破楼兰终不还&#123;% endnote %&#125;</span><br><span class="line">&#123;% note pink no-icon %&#125;愿君学长松，慎勿作桃李&#123;% endnote %&#125;</span><br><span class="line">&#123;% note red no-icon %&#125;日月之行，若出其中；星汉灿烂，若出其里&#123;% endnote %&#125;</span><br><span class="line">&#123;% note orange no-icon %&#125;直如朱丝绳，清如玉壶冰&#123;% endnote %&#125;</span><br><span class="line">&#123;% note purple no-icon %&#125;男儿何不带吴钩，收取关山五十州&#123;% endnote %&#125;</span><br><span class="line">&#123;% note green no-icon %&#125;疾风知劲草，板荡识诚臣&#123;% endnote %&#125;</span><br><span class="line">### flat样式</span><br><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; flat %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; flat %&#125;2021年快到了....&#123;% endnote %&#125;</span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; flat %&#125;小心开车 安全至上&#123;% endnote %&#125;</span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; flat%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;</span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; flat %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; flat %&#125;剪刀石头布&#123;% endnote %&#125;</span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; flat %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="引用-2"><h3 id="Simple样式"><a href="#Simple样式" class="headerlink" title="Simple样式"></a>Simple样式</h3><div class="note simple"><p>默认 提示块标签</p></div><div class="note default simple"><p>default 提示块标签</p></div><div class="note primary simple"><p>primary 提示块标签</p></div><div class="note success simple"><p>success 提示块标签</p></div><div class="note info simple"><p>info 提示块标签</p></div><div class="note warning simple"><p>warning 提示块标签</p></div><div class="note danger simple"><p>danger 提示块标签</p></div><h3 id="modern样式"><a href="#modern样式" class="headerlink" title="modern样式"></a>modern样式</h3><div class="note modern"><p>默认 提示块标签</p></div><div class="note default modern"><p>default 提示块标签</p></div><div class="note primary modern"><p>primary 提示块标签</p></div><div class="note success modern"><p>success 提示块标签</p></div><div class="note info modern"><p>info 提示块标签</p></div><div class="note warning modern"><p>warning 提示块标签</p></div><div class="note danger modern"><p>danger 提示块标签</p></div><h3 id="no-icon样式"><a href="#no-icon样式" class="headerlink" title="no-icon样式"></a>no-icon样式</h3><div class="note no-icon flat"><p>少年心事当拂云</p></div><div class="note blue no-icon flat"><p>黄沙百战穿金甲，不破楼兰终不还</p></div><div class="note pink no-icon flat"><p>愿君学长松，慎勿作桃李</p></div><div class="note red no-icon flat"><p>日月之行，若出其中；星汉灿烂，若出其里</p></div><div class="note orange no-icon flat"><p>直如朱丝绳，清如玉壶冰</p></div><div class="note purple no-icon flat"><p>男儿何不带吴钩，收取关山五十州</p></div><div class="note green no-icon flat"><p>疾风知劲草，板荡识诚臣</p></div><h3 id="flat样式"><a href="#flat样式" class="headerlink" title="flat样式"></a>flat样式</h3><div class="note icon-padding flat"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了….</p></div><div class="note pink icon-padding flat"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding flat"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding flat"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding flat"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding flat"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="链接卡片-Link"><a href="#链接卡片-Link" class="headerlink" title="链接卡片 Link"></a>链接卡片 Link</h2><p> 语法 👇</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% link &lt;链接名&gt;, &lt;链接地址&gt;, &lt;链接图像&gt; %&#125;</span><br></pre></td></tr></table></figure><p>对应效果</p><div class="tag link"><a class="link-card" title="源码在这里，点击即可找到哦" href="Serious.涵"><div class="left"><img src="https://gitee.com/hyh2813842071/abweb-gltest"/></div><div class="right"><p class="text">源码在这里，点击即可找到哦</p><p class="url">Serious.涵</p></div></a></div><p>实现源码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% link 源码在这里，点击即可找到哦,Serious.涵,https://gitee.com/hyh2813842071/abweb-gltest %&#125;</span><br></pre></td></tr></table></figure><h2 id="相册-Gallery"><a href="#相册-Gallery" class="headerlink" title="相册 Gallery"></a>相册 Gallery</h2><ul><li><h3 id="gallerygroup-相册库"><a href="#gallerygroup-相册库" class="headerlink" title="gallerygroup 相册库"></a>gallerygroup 相册库</h3><p>语法 👇</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;gallery-group-main&quot;&gt;</span><br><span class="line">&#123;% galleryGroup &lt;相册名&gt; &lt;相册描述&gt; &#x27;&lt;相册地址&gt;&#x27; &lt;相册背景图地址&gt; %&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></li><li><h3 id="gallery-相册"><a href="#gallery-相册" class="headerlink" title="gallery 相册"></a>gallery 相册</h3><p>语法 👇</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">![](图片地址)</span><br><span class="line">![](图片地址)</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="折叠框-Folding"><a href="#折叠框-Folding" class="headerlink" title="折叠框 Folding"></a>折叠框 Folding</h2><div class="tabs" id="折叠框"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#折叠框-1">基本语法👇</button></li><li class="tab"><button type="button" data-href="#折叠框-2">对应效果 🤗</button></li><li class="tab"><button type="button" data-href="#折叠框-3">效果源码 👺</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="折叠框-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">颜色参数：[不填默认灰色]，cyan,green,yellow,red,blue</span><br><span class="line">展开参数：[不填默认关闭]，open</span><br><span class="line">&#123;% folding [颜色参数] [展开参数], &lt;标题&gt; %&#125;</span><br><span class="line">&lt;Cusotm&gt;</span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="折叠框-2"><p>🍒颜色：Green ；展开参数：默认； 标题：《老子·德经·第六十四章》</p><details class="folding-tag" green><summary> 《老子·德经·第六十四章》 </summary>              <div class='content'>              <p>合抱之木，生于毫末；九层之台，起于累土；千里之行，始于足下。</p>              </div>            </details><p>🍓  颜色：yellow ；展开参数：open； 标题：陆游《金错刀行》</p><details class="folding-tag" yellow open><summary> 陆游《金错刀行》 </summary>              <div class='content'>              <p>呜呼！楚虽三户能亡秦，岂有堂堂中国空无人！</p>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="折叠框-3"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">🍒颜色：Green ；展开参数：默认； 标题：《老子·德经·第六十四章》</span><br><span class="line"></span><br><span class="line">&#123;% folding green, &quot;《老子·德经·第六十四章》&quot; %&#125;</span><br><span class="line">合抱之木，生于毫末；九层之台，起于累土；千里之行，始于足下。</span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">🍓 颜色：yellow ；展开参数：open； 标题：陆游《金错刀行》</span><br><span class="line"></span><br><span class="line">&#123;% folding yellow open, &quot;陆游《金错刀行》&quot; %&#125;</span><br><span class="line">呜呼！楚虽三户能亡秦，岂有堂堂中国空无人！</span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="诗词标签-Poem"><a href="#诗词标签-Poem" class="headerlink" title="诗词标签 Poem"></a>诗词标签 Poem</h2><div class="tabs" id="诗词"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#诗词-1">基本语法👇</button></li><li class="tab"><button type="button" data-href="#诗词-2">对应效果🤗</button></li><li class="tab"><button type="button" data-href="#诗词-3">效果源码👺</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="诗词-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% poem &lt;标题&gt;,&lt;作者&gt; %&#125;</span><br><span class="line">&lt;诗词内容&gt;</span><br><span class="line">&#123;% endpoem %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="诗词-2"><div class='poem'><div class='poem-title'>南陵别儿童入京</div><div class='poem-author'>李白</div><p>白酒新熟山中归，黄鸡啄黍秋正肥。</p><p>呼童烹鸡酌白酒，儿女嬉笑牵人衣。</p><p>高歌取醉欲自慰，起舞落日争光辉。</p><p>游说万乘苦不早，著鞭跨马涉远道。</p><p>会稽愚妇轻买臣，余亦辞家西入秦。</p><p>仰天大笑出门去，我辈岂是蓬蒿人。</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="诗词-3"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;% poem &quot;南陵别儿童入京&quot;,&quot;李白&quot; %&#125;</span><br><span class="line"></span><br><span class="line">白酒新熟山中归，黄鸡啄黍秋正肥。</span><br><span class="line"></span><br><span class="line">呼童烹鸡酌白酒，儿女嬉笑牵人衣。</span><br><span class="line"></span><br><span class="line">高歌取醉欲自慰，起舞落日争光辉。</span><br><span class="line"></span><br><span class="line">游说万乘苦不早，著鞭跨马涉远道。</span><br><span class="line"></span><br><span class="line">会稽愚妇轻买臣，余亦辞家西入秦。</span><br><span class="line"></span><br><span class="line">仰天大笑出门去，我辈岂是蓬蒿人。</span><br><span class="line"></span><br><span class="line">&#123;% endpoem %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="复选列表-checkbox"><a href="#复选列表-checkbox" class="headerlink" title="复选列表 checkbox"></a>复选列表 checkbox</h2><div class="tabs" id="复选列表"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#复选列表-1">基本语法👇</button></li><li class="tab"><button type="button" data-href="#复选列表-2">对应参数 😈-</button></li><li class="tab"><button type="button" data-href="#复选列表-3">对应效果 🤗</button></li><li class="tab"><button type="button" data-href="#复选列表-4">效果源码 👺</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="复选列表-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% checkbox 样式参数（可选）, 文本（支持简单md） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="复选列表-2"><ol><li>样式: plus, minus, times</li><li>颜色: red,yellow,green,cyan,blue,gray</li><li>选中状态: checked</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="复选列表-3"><div class='checkbox'><input type="checkbox" />            <p>纯文本测试</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>支持简单的 <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> 语法</p>            </div><div class='checkbox red'><input type="checkbox" />            <p>支持自定义颜色</p>            </div><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>绿色 + 默认选中</p>            </div><div class='checkbox yellow checked'><input type="checkbox" checked="checked"/>            <p>黄色 + 默认选中</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>青色 + 默认选中</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>蓝色 + 默认选中</p>            </div><div class='checkbox plus green checked'><input type="checkbox" checked="checked"/>            <p>增加</p>            </div><div class='checkbox minus yellow checked'><input type="checkbox" checked="checked"/>            <p>减少</p>            </div><div class='checkbox times red checked'><input type="checkbox" checked="checked"/>            <p>叉</p>            </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="复选列表-4"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% checkbox 纯文本测试 %&#125;</span><br><span class="line">&#123;% checkbox checked, 支持简单的 [markdown](https://guides.github.com/features/mastering-markdown/) 语法 %&#125;</span><br><span class="line">&#123;% checkbox red, 支持自定义颜色 %&#125;</span><br><span class="line">&#123;% checkbox green checked, 绿色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox yellow checked, 黄色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox cyan checked, 青色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox blue checked, 蓝色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox plus green checked, 增加 %&#125;</span><br><span class="line">&#123;% checkbox minus yellow checked, 减少 %&#125;</span><br><span class="line">&#123;% checkbox times red checked, 叉 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="单选列表-radio"><a href="#单选列表-radio" class="headerlink" title="单选列表 radio"></a>单选列表 radio</h2><div class="tabs" id="单选列表"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#单选列表-1">基本语法👇</button></li><li class="tab"><button type="button" data-href="#单选列表-2">对应参数 😈-</button></li><li class="tab"><button type="button" data-href="#单选列表-3">对应效果 🤗</button></li><li class="tab"><button type="button" data-href="#单选列表-4">效果源码 👺</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="单选列表-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% radio 样式参数（可选）, 文本（支持简单md） %&#125;&#123;% checkbox 样式参数（可选）, 文本（支持简单md） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="单选列表-2"><ol><li>颜色: red,yellow,green,cyan,blue,gray</li><li>选中状态: checked</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="单选列表-3"><div class='checkbox'><input type="radio" />            <p>纯文本测试</p>            </div><div class='checkbox checked'><input type="radio" checked="checked"/>            <p>支持简单的 <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> 语法</p>            </div><div class='checkbox red'><input type="radio" />            <p>支持自定义颜色</p>            </div><div class='checkbox green'><input type="radio" />            <p>绿色</p>            </div><div class='checkbox yellow'><input type="radio" />            <p>黄色</p>            </div><div class='checkbox cyan'><input type="radio" />            <p>青色</p>            </div><div class='checkbox blue'><input type="radio" />            <p>蓝色</p>            </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="单选列表-4"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% radio 纯文本测试 %&#125;</span><br><span class="line">&#123;% radio checked, 支持简单的 [markdown](https://guides.github.com/features/mastering-markdown/) 语法 %&#125;</span><br><span class="line">&#123;% radio red, 支持自定义颜色 %&#125;</span><br><span class="line">&#123;% radio green, 绿色 %&#125;</span><br><span class="line">&#123;% radio yellow, 黄色 %&#125;</span><br><span class="line">&#123;% radio cyan, 青色 %&#125;</span><br><span class="line">&#123;% radio blue, 蓝色 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="时间轴-timeline"><a href="#时间轴-timeline" class="headerlink" title="时间轴 timeline"></a>时间轴 timeline</h2><div class="tabs" id="时间轴"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#时间轴-1">基本语法👇</button></li><li class="tab"><button type="button" data-href="#时间轴-2">对应参数 😈-</button></li><li class="tab"><button type="button" data-href="#时间轴-3">对应效果 🤗</button></li><li class="tab"><button type="button" data-href="#时间轴-4">效果源码 👺</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="时间轴-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% radio 样式参数（可选）, 文本（支持简单md） %&#125;&#123;% checkbox 样式参数（可选）, 文本（支持简单md） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="时间轴-2"><div class="table-container"><table><thead><tr><th style="text-align:left">参数</th><th style="text-align:left">解释</th></tr></thead><tbody><tr><td style="text-align:left">title</td><td style="text-align:left">标题/时间线</td></tr><tr><td style="text-align:left">color</td><td style="text-align:left"><code>timeline</code>颜色:default(留空) / blue / pink / red / purple / orange / green</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="时间轴-3"><div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>时间轴样式</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2019-07-24</p></div></div><div class='timeline-item-content'><p>第一次成为哈信息游戏专业的学生</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-9-12</p></div></div><div class='timeline-item-content'><p>第一次尝试做游戏，并且坚持了1年有余，将《光明辞决》转化为现实</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2021-11-27</p></div></div><div class='timeline-item-content'><p>结束了美丽的故事，路漫漫其修远兮，无疆大路而求索</p></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="时间轴-4"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;% timeline 时间轴样式,blue %&#125;</span><br><span class="line">&lt;!-- timeline 2019-07-24  --&gt;</span><br><span class="line">第一次成为哈信息游戏专业的学生</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&lt;!-- timeline 2020-9-12 --&gt;</span><br><span class="line">第一次尝试做游戏，并且坚持了1年有余，将《光明辞决》转化为现实</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&lt;!-- timeline 2021-11-27  --&gt;</span><br><span class="line">结束了美丽的故事，路漫漫其修远兮，无疆大路而求索</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="进度条-progress"><a href="#进度条-progress" class="headerlink" title="进度条 progress"></a>进度条 progress</h2><div class="tabs" id="进度条"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#进度条-1">基本语法👇</button></li><li class="tab"><button type="button" data-href="#进度条-2">对应参数 😈-</button></li><li class="tab"><button type="button" data-href="#进度条-3">对应效果 🤗</button></li><li class="tab"><button type="button" data-href="#进度条-4">效果源码 👺</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="进度条-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% progress [width] [color] [text] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="进度条-2"><p>1.width: 0到100的阿拉伯数字<br>2.color: 颜色，取值有red,yellow,green,cyan,blue,gray<br>3.text:进度条上的文字内容</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="进度条-3"><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-red"  style="width: 10%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-yellow"  style="width: 30%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-green"  style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-cyan"  style="width: 70%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-blue"  style="width: 90%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-gray"  style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="进度条-4"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% progress 10 red 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 30 yellow 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 50 green 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 70 cyan 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 90 blue 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 100 gray 进度条样式预览 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="上标标签-tip"><a href="#上标标签-tip" class="headerlink" title="上标标签 tip"></a>上标标签 tip</h2><div class="tabs" id="上标标签"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#上标标签-1">基本语法👇</button></li><li class="tab"><button type="button" data-href="#上标标签-2">对应参数 😈-</button></li><li class="tab"><button type="button" data-href="#上标标签-3">对应效果 🤗</button></li><li class="tab"><button type="button" data-href="#上标标签-4">效果源码 👺</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="上标标签-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip [参数，可选] %&#125;文本内容&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="上标标签-2"><ol><li>样式: success,error,warning,bolt,ban,home,sync,cogs,key,bell</li><li>自定义图标: 支持fontawesome。</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="上标标签-3"><div class="tip "><p>default</p></div><div class="tip info"><p>info</p></div><div class="tip success"><p>success</p></div><div class="tip error"><p>error</p></div><div class="tip warning"><p>warning</p></div><div class="tip bolt"><p>bolt</p></div><div class="tip ban"><p>ban</p></div><div class="tip home"><p>home</p></div><div class="tip sync"><p>sync</p></div><div class="tip cogs"><p>cogs</p></div><div class="tip key"><p>key</p></div><div class="tip bell"><p>bell</p></div><div class="tip fa-atom"><p>自定义font awesome图标</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="上标标签-4"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip %&#125;default&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip info %&#125;info&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip success %&#125;success&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip error %&#125;error&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip warning %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip bolt %&#125;bolt&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban %&#125;ban&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip home %&#125;home&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip sync %&#125;sync&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip cogs %&#125;cogs&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip key %&#125;key&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip bell %&#125;bell&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip fa-atom %&#125;自定义font awesome图标&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="行内文本样式-text"><a href="#行内文本样式-text" class="headerlink" title="行内文本样式 text"></a>行内文本样式 text</h2><div class="tabs" id="行内文本样式"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#行内文本样式-1">基本语法👇</button></li><li class="tab"><button type="button" data-href="#行内文本样式-2">对应效果 🤗</button></li><li class="tab"><button type="button" data-href="#行内文本样式-3">效果源码 👺</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="行内文本样式-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% u 文本内容 %&#125;</span><br><span class="line">&#123;% emp 文本内容 %&#125;</span><br><span class="line">&#123;% wavy 文本内容 %&#125;</span><br><span class="line">&#123;% del 文本内容 %&#125;</span><br><span class="line">&#123;% kbd 文本内容 %&#125;</span><br><span class="line">&#123;% psw 文本内容 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="行内文本样式-2"><ol><li>带 <u>下划线</u> 的文本</li><li>带 <emp>着重号</emp> 的文本</li><li>带 <wavy>波浪线</wavy> 的文本</li><li>带 <del>删除线</del> 的文本</li><li>键盘样式的文本 <kbd>command</kbd> + <kbd>D</kbd></li><li>密码样式的文本：<psw>这里没有验证码</psw></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="行内文本样式-3"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. 带 &#123;% u 下划线 %&#125; 的文本</span><br><span class="line">2. 带 &#123;% emp 着重号 %&#125; 的文本</span><br><span class="line">3. 带 &#123;% wavy 波浪线 %&#125; 的文本</span><br><span class="line">4. 带 &#123;% del 删除线 %&#125; 的文本</span><br><span class="line">5. 键盘样式的文本 &#123;% kbd command %&#125; + &#123;% kbd D %&#125;</span><br><span class="line">6. 密码样式的文本：&#123;% psw 这里没有验证码 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="行内文本-span"><a href="#行内文本-span" class="headerlink" title="行内文本 span"></a>行内文本 span</h2><div class="tabs" id="行内文本"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#行内文本-1">基本语法👇</button></li><li class="tab"><button type="button" data-href="#行内文本-2">对应参数 😈-</button></li><li class="tab"><button type="button" data-href="#行内文本-3">对应效果 🤗</button></li><li class="tab"><button type="button" data-href="#行内文本-4">效果源码 👺</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="行内文本-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% span 样式参数(参数以空格划分), 文本内容 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="行内文本-2"><ol><li>字体: logo, code</li><li>颜色: red,yellow,green,cyan,blue,gray</li><li>大小: small, h4, h3, h2, h1, large, huge, ultra</li><li>对齐方向: left, center, right</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="行内文本-3"><ul><li>彩色文字<br>在一段话中方便插入各种颜色的标签，包括：<span class='p red'>红色</span>、<span class='p yellow'>黄色</span>、<span class='p green'>绿色</span>、<span class='p cyan'>青色</span>、<span class='p blue'>蓝色</span>、<span class='p gray'>灰色</span>。</li><li>超大号文字<br>文档「开始」页面中的标题部分就是超大号文字。<br><span class='p center logo large'>Volantis</span><br><span class='p center small'>A Wonderful Theme for Hexo</span></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="行内文本-4"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- 彩色文字</span><br><span class="line">在一段话中方便插入各种颜色的标签，包括：&#123;% span red, 红色 %&#125;、&#123;% span yellow, 黄色 %&#125;、&#123;% span green, 绿色 %&#125;、&#123;% span cyan, 青色 %&#125;、&#123;% span blue, 蓝色 %&#125;、&#123;% span gray, 灰色 %&#125;。</span><br><span class="line">- 超大号文字</span><br><span class="line">文档「开始」页面中的标题部分就是超大号文字。</span><br><span class="line">&#123;% span center logo large, Volantis %&#125;</span><br><span class="line">&#123;% span center small, A Wonderful Theme for Hexo %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="按钮-btns"><a href="#按钮-btns" class="headerlink" title="按钮 btns"></a>按钮 btns</h2><div class="tabs" id="行内文本"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#行内文本-1">基本语法👇</button></li><li class="tab"><button type="button" data-href="#行内文本-2">对应参数 😈-</button></li><li class="tab"><button type="button" data-href="#行内文本-3">对应效果 🤗</button></li><li class="tab"><button type="button" data-href="#行内文本-4">效果源码 👺</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="行内文本-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns 样式参数 %&#125;</span><br><span class="line">&#123;% cell 标题, 链接, 图片或者图标 %&#125;</span><br><span class="line">&#123;% cell 标题, 链接, 图片或者图标 %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="行内文本-2"><ol><li>圆角样式：rounded, circle</li><li>增加文字样式：可以在容器内增加 <code>&lt;b&gt;标题&lt;/b&gt;</code>和<code>&lt;p&gt;描述文字&lt;/p&gt;</code></li><li>布局方式：<br>默认为自动宽度，适合视野内只有一两个的情况。</li></ol><div class="table-container"><table><thead><tr><th style="text-align:left">参数</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td style="text-align:left">wide</td><td style="text-align:left">宽一点的按钮</td></tr><tr><td style="text-align:left">fill</td><td style="text-align:left">填充布局，自动铺满至少一行，多了会换行</td></tr><tr><td style="text-align:left">center</td><td style="text-align:left">居中，按钮之间是固定间距</td></tr><tr><td style="text-align:left">around</td><td style="text-align:left">居中分散</td></tr><tr><td style="text-align:left">grid2</td><td style="text-align:left">等宽最多2列，屏幕变窄会适当减少列数</td></tr><tr><td style="text-align:left">grid3</td><td style="text-align:left">等宽最多3列，屏幕变窄会适当减少列数</td></tr><tr><td style="text-align:left">grid4</td><td style="text-align:left">等宽最多4列，屏幕变窄会适当减少列数</td></tr><tr><td style="text-align:left">grid5</td><td style="text-align:left">等宽最多5列，屏幕变窄会适当减少列数</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="行内文本-3"><div class="btns rounded grid5">            <a class="button" href='/' title='下载源码'><i class='fas fa-download'></i>下载源码</a><a class="button" href='/' title='查看文档'><i class='fas fa-book-open'></i>查看文档</a>          </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="行内文本-4"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns rounded grid5 %&#125;</span><br><span class="line">&#123;% cell 下载源码, /, fas fa-download %&#125;</span><br><span class="line">&#123;% cell 查看文档, /, fas fa-book-open %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="Label"><a href="#Label" class="headerlink" title="Label"></a>Label</h2><div class="tabs" id="label"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#label-1">基本语法👇</button></li><li class="tab"><button type="button" data-href="#label-2">对应参数 😈-</button></li><li class="tab"><button type="button" data-href="#label-3">对应效果 🤗</button></li><li class="tab"><button type="button" data-href="#label-4">效果源码 👺</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="label-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% label text color %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="label-2"><div class="table-container"><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>text</td><td>文字</td></tr><tr><td>color</td><td>【可选】背景颜色，默认为 default default/blue/pink/red/purple/orange/green</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="label-3"><p>臣亮言：<mark class="hl-label default">先帝</mark> 创业未半，而<mark class="hl-label blue">中道崩殂</mark> 。今天下三分，<mark class="hl-label pink">益州疲敝</mark> ，此诚<mark class="hl-label red">危急存亡之秋</mark> 也！然侍衞之臣，不懈于内；<mark class="hl-label purple">忠志之士</mark> ，忘身于外者，盖追先帝之殊遇，欲报之于陛下也。诚宜开张圣听，以光先帝遗德，恢弘志士之气；不宜妄自菲薄，引喻失义，以塞忠谏之路也。<br>宫中、府中，俱为一体；陟罚臧否，不宜异同。若有<mark class="hl-label orange">作奸</mark> 、<mark class="hl-label green">犯科</mark> ，及为忠善者，宜付有司，论其刑赏，以昭陛下平明之治；不宜偏私，使内外异法也。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="label-4"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">臣亮言：&#123;% label 先帝 %&#125;创业未半，而&#123;% label 中道崩殂 blue %&#125;。今天下三分，&#123;% label 益州疲敝 pink %&#125;，此诚&#123;% label 危急存亡之秋 red %&#125;也！然侍衞之臣，不懈于内；&#123;% label 忠志之士 purple %&#125;，忘身于外者，盖追先帝之殊遇，欲报之于陛下也。诚宜开张圣听，以光先帝遗德，恢弘志士之气；不宜妄自菲薄，引喻失义，以塞忠谏之路也。</span><br><span class="line">宫中、府中，俱为一体；陟罚臧否，不宜异同。若有&#123;% label 作奸 orange %&#125;、&#123;% label 犯科 green %&#125;，及为忠善者，宜付有司，论其刑赏，以昭陛下平明之治；不宜偏私，使内外异法也。</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="相册-gallery"><a href="#相册-gallery" class="headerlink" title="相册 gallery"></a>相册 gallery</h2><div class="tabs" id="相册"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#相册-1">基本语法👇</button></li><li class="tab"><button type="button" data-href="#相册-2">对应参数 😈-</button></li><li class="tab"><button type="button" data-href="#相册-3">对应效果 🤗</button></li><li class="tab"><button type="button" data-href="#相册-4">效果源码 👺</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="相册-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;gallery-group-main&quot;&gt;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&#123;% gallery %&#125;</span><br><span class="line">markdown 圖片格式</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="相册-2"><ul><li>gallerygroup 相册图库</li></ul><div class="table-container"><table><thead><tr><th style="text-align:left">参数名</th><th style="text-align:left">释义</th></tr></thead><tbody><tr><td style="text-align:left">name</td><td style="text-align:left">图库名字</td></tr><tr><td style="text-align:left">description</td><td style="text-align:left">图库描述</td></tr><tr><td style="text-align:left">link</td><td style="text-align:left">链接到对应相册的地址</td></tr><tr><td style="text-align:left">img-url</td><td style="text-align:left">图库封面</td></tr></tbody></table></div><p>思维拓展一下，相册图库的实质其实就是个快捷方式，可以自定义添加描述、封面、链接。那么我们未必要把它当做一个相册，完全可以作为一个链接卡片，链接到视频、QQ、友链都是不错的选择。</p><ul><li>gallery 相册<br>区别于旧版的Gallery相册,新的Gallery相册会自动根据图片长度进行排版，书写也更加方便，与markdown格式一样。可根据需要插入到相应的md。无需再自己配置长宽。<strong>建议在粘贴时故意使用长短、大小、横竖不一的图片</strong>，会有更好的效果。（尺寸完全相同的图片只会平铺输出，效果很糟糕）</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="相册-3"><div class="gallery-group-main">  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/Bright_Resign_Two_FirstPic.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">光明辞决2</div>  <p>留一个足迹</p>  <a href='/'></a>  </figcaption>  </figure></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="相册-4"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/Bright_Resign_Two_FirstPic.png</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="Mermaid"><a href="#Mermaid" class="headerlink" title="Mermaid"></a>Mermaid</h2><div class="tabs" id="mermaid"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#mermaid-1">基本语法👇</button></li><li class="tab"><button type="button" data-href="#mermaid-2">对应参数 😈-</button></li><li class="tab"><button type="button" data-href="#mermaid-3">对应效果 🤗</button></li><li class="tab"><button type="button" data-href="#mermaid-4">效果源码 👺</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="mermaid-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% mermaid %&#125;</span><br><span class="line">内容</span><br><span class="line">&#123;% endmermaid %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="mermaid-2"><p>使用 mermaid 标籤可以绘製 Flowchart（流程图）、Sequence diagram（时序图 ）、Class Diagram（类别图）、State Diagram（状态图）、Gantt（甘特图）和 Pie Chart（圆形图），具体可以查看 <a href="https://mermaid-js.github.io/mermaid/#/">mermaid 文档</a></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="mermaid-3"><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  pie    title Key elements in Product X    &quot;Calcium&quot; : 42.96    &quot;Potassium&quot; : 50.05    &quot;Magnesium&quot; : 10.01    &quot;Iron&quot; :  5  </pre></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="mermaid-4"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% mermaid %&#125;</span><br><span class="line">pie</span><br><span class="line">    title Key elements in Product X</span><br><span class="line">    &quot;Calcium&quot; : 42.96</span><br><span class="line">    &quot;Potassium&quot; : 50.05</span><br><span class="line">    &quot;Magnesium&quot; : 10.01</span><br><span class="line">    &quot;Iron&quot; :  5</span><br><span class="line">&#123;% endmermaid %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="音频-audio"><a href="#音频-audio" class="headerlink" title="音频 audio"></a>音频 audio</h2><div class="tabs" id="mermaid"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#mermaid-1">基本语法👇</button></li><li class="tab"><button type="button" data-href="#mermaid-2">对应效果 🤗</button></li><li class="tab"><button type="button" data-href="#mermaid-3">效果源码 👺</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="mermaid-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% audio 音频链接 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="mermaid-2"><div class="audio"><audio controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/Lumia1020.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="mermaid-3"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% audio https://github.com/volantis-x/volantis-docs/releases/download/assets/Lumia1020.mp3 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="网站卡片-sites"><a href="#网站卡片-sites" class="headerlink" title="网站卡片 sites"></a>网站卡片 sites</h2><div class="tabs" id="mermaid"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#mermaid-1">基本语法👇</button></li><li class="tab"><button type="button" data-href="#mermaid-2">对应效果 🤗</button></li><li class="tab"><button type="button" data-href="#mermaid-3">效果源码 👺</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="mermaid-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% sitegroup %&#125;</span><br><span class="line">&#123;% site 标题, url=链接, screenshot=截图链接, avatar=头像链接（可选）, description=描述（可选） %&#125;</span><br><span class="line">&#123;% site 标题, url=链接, screenshot=截图链接, avatar=头像链接（可选）, description=描述（可选） %&#125;</span><br><span class="line">&#123;% endsitegroup %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="mermaid-2"><div class="site-card-group"><a class="site-card" href="https://www.photonengine.com/en-US/Photon"><div class="img"><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/photon2_1660545986.jpg"/></div><div class="info"><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/PunIcon-128.png"/><span class="title">Photon2</span><span class="desc">联网框架，值得拥有</span></div></a><a class="site-card" href="https://www.bilibili.com/"><div class="img"><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/bilibili_1660545941.jpg"/></div><div class="info"><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/bilibilipiclofo.png"/><span class="title">哔哩哔哩</span><span class="desc">一个神秘的网站</span></div></a><a class="site-card" href="https://leetcode.cn/"><div class="img"><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/likou_1660545976.jpg"/></div><div class="info"><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/pic_likou.png"/><span class="title">力扣</span><span class="desc">程序员的必备</span></div></a><a class="site-card" href="https://www.hxci.com.cn/"><div class="img"><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/haxinxi_1660545961.jpg"/></div><div class="info"><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/hxx_blue.png"/><span class="title">哈尔滨信息工程学院</span><span class="desc">我的母校</span></div></a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="mermaid-3"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% sitegroup %&#125;</span><br><span class="line">&#123;% site Photon2, url=https://www.photonengine.com/en-US/Photon, screenshot=https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/photon2_1660545986.jpg, avatar=https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/PunIcon-128.png, description=联网框架，值得拥有 %&#125;</span><br><span class="line">&#123;% site 哔哩哔哩, url=https://www.bilibili.com/, screenshot=https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/bilibili_1660545941.jpg, avatar=https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/bilibilipiclofo.png, description=一个神秘的网站 %&#125;</span><br><span class="line">&#123;% site 力扣, url=https://leetcode.cn/, screenshot=https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/likou_1660545976.jpg, avatar=https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/pic_likou.png, description=程序员的必备 %&#125;</span><br><span class="line">&#123;% site 哈尔滨信息工程学院, url=https://www.hxci.com.cn/, screenshot=https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/haxinxi_1660545961.jpg, avatar=https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/hxx_blue.png, description=我的母校 %&#125;</span><br><span class="line">&#123;% endsitegroup %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;此文章部分转载于&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://hassanwong.top/&quot;&gt;Hassan’s Blog&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://akilar.top/posts/615e2dec/&quot;&gt;Tag Plugins Plus </summary>
      
    
    
    
    <category term="🦄博客魔改" scheme="https://blog.gmcj0816.top/categories/%F0%9F%A6%84%E5%8D%9A%E5%AE%A2%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Hexo" scheme="https://blog.gmcj0816.top/tags/Hexo/"/>
    
    <category term="Butterfly" scheme="https://blog.gmcj0816.top/tags/Butterfly/"/>
    
  </entry>
  
  <entry>
    <title>Unity3D笔试面试知识整理</title>
    <link href="https://blog.gmcj0816.top/posts/41434/"/>
    <id>https://blog.gmcj0816.top/posts/41434/</id>
    <published>2022-07-10T06:34:05.000Z</published>
    <updated>2023-04-08T13:11:45.000Z</updated>
    
    <content type="html"><![CDATA[<center>以下问题与答案来自于真实求职,如有疑问请与本博客作者联系</center><div class="note red no-icon flat"><p>此文章并非盈利性质，由作者单独整理而成，若存在侵权行为请联系博主进行更正，在极其必要情况下将删除该文章，在借鉴或者参考部分会进行特殊标明，本文章与Unity相关部分后期将与哔哩哔哩同步，如若二次使用或者更改，请与本学习网站所有者，即本人联系，七鳄学习格所有者拥有对本网站所有内容的最终决定权和解释权。—-2023年1月5日（七鳄学习格）</p></div><p>🎬 博客主页：<a href="https://blog.gmcj0816.top">https://blog.gmcj0816.top</a></p><p>🏅 欢迎点赞 👍 收藏 ⭐留言 📝 如有错误敬请指正！ </p><p>📆 此文章为原创，并通过Typora编辑器撰写✨</p><p><strong>No1.值类型和引用类型的区别<font color=green>(答案为原创)</font></strong></p><p>值类型包括：数值类型，结构体，bool型，用户定义的结构体，枚举，可空类型。<br>值类型的变量直接存储数据，分配在托管栈中。变量会在创建它们的方法返回时自动释放，例如在一个方法中声明Char型的变量name=’C’，当实例化它的方法结束时，name变量在栈上占用的内存就会自动释放</p><p>引用类型包括：数组，用户定义的类、接口、委托，object，字符串，null类型，类。<br>引用类型的变量持有的是数据的引用，数据存储在数据堆，分配在托管堆中，变量并不会在创建它们的方法结束时释放内存，它们所占用的内存会被CLR中的垃圾回收机制释放</p><p><strong>No2.Unity内置函数执行顺序</strong></p><p>1.<strong>Awake</strong>(用于在游戏开始之前初始化变量或游戏状态。在脚本整个生命周期内它仅被调用一次.Awake在所有对象被初始化之后调用【此函数不可用来执行协程】)<br>2.<strong>OnEable</strong>(只有在对象是激活（active）状态下才会被调用，这个函数只有在object被启用（enable）后才会调用)<br>3.<strong>Start</strong>(脚本实例被启用时调用)<br>4.<strong>FixedUpdate</strong>(固定时间调用，常常用于物理逻辑的处理中使用，编辑器默认为50fps)<br>5.<strong>Update</strong>(每帧调用，默认为0.02)<br>6.<strong>LateUpdate</strong>(LateUpdate会在Update结束之后每一帧被调用，常用于第三人称视角相机跟随)<br>7.<strong>OnBecameVisible</strong>(用于当物体在/进入摄像机会调用一次)<br>8.<strong>OnBecameInVisible</strong>(用于当物体不在/离开摄像机会调用一次)<br>7.<strong>OnGUI</strong>(每帧会被调用多次（一般最低两次）,布局Layout和Repaint事件会首先处理，接下来处理的是是通过<br>Layout和键盘/鼠标事件对应的每个输入事件)<br>8.<strong>OnApplicationPause</strong>(这个函数将会被调用在暂停被检测有效的在正常的帧更新之间的一帧的结束时)<br>9.<strong>OnDisable</strong>(当行为变为非启用（disable）或非激活（inactive）时调用)<br>10.<strong>OnDestroy</strong>(物体删除时调用)<br>11.<strong>OnApplicationQuit</strong>(这个函数在应用退出之前的所有游戏物体上调用)</p><p><strong>No3.链表和数组的区别，每个的优缺点<font color=green>(答案为原创)</font></strong></p><p>1.区别:<br>(1)由于数组的存储内存时连续分配的，当数组长度在使用过程中增加长度，会导致数组变量被覆盖，所以数组的元素是固定的，而链表的存储方式是链式存储，组成链表的结点个数可以根据实际需要进行增减<br>(2)数组的存储单元在数组定义时就需要分配，而链表是由结点组成的，前一个结点指向后一个结点存储地址，再程序的执行过程中结点的存储单元可以动态分配<br>(3)数组中的元素顺序关系由元素在数组中的位置(即下标)确定,链表中的结点顺序关系由结点所包含的指针来体现<br>(4)在实际的使用过程中难免遇到便是对数据的增删操作，对于在数组中插入数据则需要对从插入位置开始后面的数据后移，而链表由结点组成，每一个结点包括本身信息的数据域和指向下一个结点存储地址信息的引用域，当向某n位置插入数据时，则仅需将n-1位置指向新插入的结点，将n结点的next指向原先的结点，当删除n位置结点时，则仅需将n-1指向n+1即可<br>2.数组和链表的优缺点<br>(1)优点<br>数组：随机访问性强，查找速度快<br>链表：插入删除速度快，内存利用率高，不会浪费内存，大小不固定，扩展灵活<br>(2)缺点<br>数组：插入和删除效率低;可能浪费内存;内存空间要求高，必须有足够的连续内存空间。;数组大小固定，不能动态拓展<br>链表：不能随机查找，必须从第一个开始遍历，查找效率低。</p><p><strong>No4.Unity为什么能实现跨平台</strong></p><p>Unity 的跨平台即是基于Mono，开发时的写的各种类型的脚本语言（C#、JavaScript…)　都会被 Mono 的编译器编译为 IL，然后在各个平台上的 Mono 虚拟机上运行，这样就实现了跨平台的机制</p><p><strong>No5.面向对象编程的三个特点</strong></p><p>c#面向对象编程的三大特性：继承，封装，多态<br>继承：是指在确定系统的某一部分内容时，应考虑到其它部分的信息及联系都在这一部分的内部进行;<br>封装：让某个类型的对象获得另一个类型的对象的属性和方法。继承就是子类继承父类的特征和行为，使得子类对象（实例）具有父类的实例域和方法，或子类从父类继承方法，使得子类具有父类相同的行;<br>多态：对于同一个行为，不同的子类对象具有不同的表现形式多态存在的3个条件：【1）继承 2）重写 3）父类引用指向子类对象】;</p><p><strong>No6.三次握手和四次挥手</strong></p><ul><li>1.三次握手</li></ul><p>  (1)第一次握手:客户端给服务端发一个 SYN 报文，并指明客户端的初始化序列号 ISN（c）。此时客户端处于 SYN_Send 状态。<br>  (2)第二次握手:服务器收到客户端的 SYN 报文之后，会以自己的 SYN 报文作为应答，并且也是指定了自己的初始化序列号 ISN(s)，同时会把客户端的 ISN + 1 作为 ACK 的值，表示自己已经收到了客户端的 SYN，此时服务器处于 SYN_REVD 的状态。<br>  (3)第三次握手:客户端收到 SYN 报文之后，会发送一个 ACK 报文，当然，也是一样把服务器的 ISN + 1 作为 ACK 的值，表示已经收到了服务端的 SYN 报文，此时客户端处于 establised 状态。</p><ul><li>2.四次挥手</li></ul><p>  (1)第一次挥手:主机1(可以是客户端也可以是服务端)向主机2发送一个终止信号(FIN),此时,主机1进入FIN_WAIT_1状态,他没有需要发送的数据,等待着主机2的回应;<br>  (2)第二次挥手:主机2收到了主机l发送的终止信号(FIN),向主机1回应一个ACK,收到ACK的主机1进入FIN_WAIT_2状态;<br>  (3)第三次挥手:在主机2把所有数据发送完毕后,主机2向主机］发送终止信号(FIN),请求关闭连接;<br>  (4)第四次挥手:主机1收到主机2发送的终止信号(FIN),向主机2回应ACK 然后主机1进入TIME_WAIT状态(等待一段时间,以便处理主机2的重发数据)。主机2收到主机1的回应后,关闭连接.至此,TCP的四次挥手便完成了,主机l和主机2都关闭了连接。</p><p><strong>No7.装箱和拆箱</strong></p><p>装箱:值类型转换为引用类型<br>拆箱:引用类型转换为值类型<br>需要注意:任何称之为类的类型都是引用类型，使用class修饰，所有值类型都成为结构或者枚举，用struct/enum修饰</p><p><strong>No8.碰撞器和触发器【基础】</strong></p><p>碰撞器是触发器的载体，而触发器只是碰撞器身上的一个属性。当Is Trigger=false时，碰撞器根据物理引擎引发碰撞，产生碰撞的效果，可以调用OnCollisionEnter/Stay/Exit函数；当Is Trigger=true时，碰撞器被物理引擎所忽略，没有碰撞效果，可以调用OnTriggerEnter/Stay/Exit函数。如果既要检测到物体的接触又不想让碰撞检测影响物体移动或要检测一个物件是否经过空间中的某个区域这时就可以用到触发器</p><p><strong>No9.C#中==与equal的区别</strong></p><p>(1)在C#中equal和==都可以判断两个变量是否相等，其实equal是Object中的一个虚方法，允许任何类重写将其实现，而==只是一个运算符;<br>(2)Equals一般在子类中重写后用于比较两个对象中内容是否相同，==在没有运算符重载的前提下时，引用类型用于比较地址；值类型用于比较值是否相同;<br>(3)运算效率不同，一般Equals没有==效率高，因为一般Equals比较的内容比==多</p><p><strong>No10.执行效率问题</strong></p><p>这两种方式哪一种效率更高一些呢</p><p><img src="https://pic.gmcj0816.top/image/unity_bs_001.png" alt=""></p><p>这里主要应用到的便是链表和数组的知识点，这里不难看出，实现的功能是相同的，但是很明显第二种效率更高<br>这是因为List的本质也属于数组，只不过是在Add执行下不断扩容自己的数组长度，但是这所造成的便是对性能的不断消耗，而使用数组直接创建一个10000的数组长度，然后把数据直接挨个放入的里面，这也就减少了一步内存长度扩容的操作，所以效率会相对高一些。</p><p><strong>No11.浅拷贝与深拷贝的区别</strong></p><p>浅拷贝：<br>只复制对象的引用地址<br>两个对象指向同一内存地址，修改其中一个另一个也会随之变化<br>深拷贝：<br>将对象和值赋值过来，两个对象修改其中任意值都不会影响对方</p><p>比如引用对象A和引用对象B<br>让A = B，就是浅拷贝，此时A、B的引用地址相同，改A中内容，B也变<br>如果想要深拷贝，简单处理就是new（包括对象中的成员）</p><p><strong>No12.try，catch，final的执行顺序</strong></p><p>其实try，catch，final的执行顺序大致可以分为三种情况<br>（1）try没有抛出异常，这种情况下则会直接执行final中的内容<br>（2）try抛出异常，并且catch捕捉到此错误，try中的内容将不执行，直接执行catch中的内容，然后执行final中的代码块内容<br>（3）try抛出异常，并且catch未捕捉到此错误，则try和catch的代码块都不会被执行，直接执行final</p><p><strong>No13.DrawCall</strong></p><p>1.什么是DrawCall？==&gt;每次CPU准备渲染相关数据并通知GPU的过程称为一次DrawCall<br>2.DrawCall为什么会影响游戏运行效率？==&gt;如果DrawCall次数较高，意味着CPU会花费更多的时间准备渲染数据，这会进行更多的计算，进而影响游戏的运行效率<br>3.如何减少DrawCall？==&gt;2D和UI层面：打图集，并且注意面板中不同图集图片的层级不要穿插,3D模型层面：利用动态批处理和静态批处理，尽量不使用实时光照和实时阴影</p><p><strong>No14.Unity路径问题</strong></p><p>在Unity中自带了四个路径</p><ul><li>dataPath是包含游戏数据文件夹的路径，一般不会去手动读写这个目录——其路径为Asset/</li><li>streamingAssetsPath返回的是流数据的缓存目录，适合用来存储一些外部数据文件用于读取StreamingAssets文件夹内的东西不会被加密，放进去什么就是什么，所以不要直接把数据文件赤裸裸地放到这个目录下。一般不会去手动将数据写入这个目录—<font color=red>此文件夹为只读文件夹</font>&gt;，因此在热更新中使用，会首先在此文件中查找，来锁定下一步需要更新的资源。</li><li>persistentDataPaht返回的是一个持久化数据存储目录。<font color=red>由于此文件夹是可读可写的，因此一般热更新下载的资源存放到此处</font></li><li>temporaryCachePath返回一个临时数据缓存目录。当应用程序发布到IOS和Android平台，这个路径也会指向一个公共的路径。应用更新、覆盖安装时，这里的数据都不会被清除，<font color=red>此文件为可读可写的</font></li></ul><p><strong>No15.Unity中协程的原理</strong></p><p>Unity中的协同程序分为两部分:1.协程函数本体（迭代器函数）2.协程调度器（协程管理器）<br>协程利用迭代器函数的分步执行的特点,协程调度器对迭代器函数们进行统一管理,根据迭代器函数的返回值来决定下一次执行函数逻辑的时间点,从而实现逻辑分时分步执行的目的</p><p><strong>No16.Unity底层如何处理C#代码</strong></p><p>主要有两种方案，分别是Mono和IL2CPP</p><p>Unity之所以能够跨平台，是因为Mono基于.Net技术构建，因为使Unity能够在PC,Xbox等平台支持</p><p>而IL2CPP是为了解决Mono .Net的问题而开发出的新技术，这里主要原因便是iOS不支持.Net,并且Mono无法应用到Web平台，这就造成了Unity有局限性，因此使用IL2CPP，其基本原理就是按照传统的基于.Net的c#开发，然后编译成CLR or IL，再通过l2cpp工具,将CLR/IL字节码转成静态的C++代码，最终编译成目标的native机器码。</p><p><strong>No17.Unity多线程需要注意</strong></p><p>1.只能从主线程访问Unity相关组件、对象以及UnityEngine命名空间中的绝大部分内容<br>2.如果多线程中要和Unity主线程同时修改一些数据可以通过lock关键词加锁</p><p><strong>No18.泛型约束</strong></p><p>1.值类型约束 T:struct<br>2.引用类型约束 T:class<br>3.公共无参构造约束 T:new()<br>4.类约束 T:类名<br>5.接口约束 T:接口名<br>6.另一个泛型约束 T:U</p><p><strong>No19.闭包</strong></p><p>闭包是指有权访问另一个函数作用域中的变量的函数所以闭包一般都是指的一个函数，创建这种特殊闭包函数的方式往往是在一个函数中创建另一个函数</p><p><strong>No20.内存泄漏</strong><br>内存泄漏指的就是对象超过生命周期后而不能被GC回收，一般指不会再使用的引用对象由于某些操作而不能被GC垃圾回收，而一直占用着内存</p><p>常见的内存泄漏有：<br>1.静态引用<br>2.不使用的引用对象没有置null，一直被引用<br>3.文件操作时，没有使用using或者没有进行Dispose()<br>4.委托或事件注册后没有解除注册（有加就有减）</p><p><strong>No21.transform.forward和Vector3.forword的区别</strong></p><p>Vector3.forword始终时(0,0,1)<br>可以认为是世界坐标系的Z轴朝向</p><p>transform.forword是当前物体的局部坐标系的Z轴在世界坐标系下的朝向<br>可以认为是物体自己的Z轴朝向</p><p><strong>No22.如何优化UI（基于UGUI）</strong></p><ul><li><p>性能上<br>1.打图集，将同一画面的图片放入一个图集中，目的是减少DrawCall<br>2.面板中的图片和文字尽量不要交叉，因为这样会产生多余的DrawCall<br>3.取消勾选不必要的射线检测，UI组件上的<br>4.减少透明图片的重叠使用</p></li><li><p>内存上<br>1.大图尽量使用9宫格缩放，让美术设计UI面板底图时不要过于复杂尽量是有规律的纹理和颜色变化<br>2.图片的RGBA通道分离</p></li></ul><p><strong>No23.Unity使用IL2CPP打包时，我们应该注意什么？如何避免</strong><br>使用IL2CPP打包时，最可能出现的问题就是代码裁剪，IL2CPP会自动将它认为不会使用的代码裁剪掉，比如我们在使用Lua开发时，其实会用到很多UnityEngine或者我们自己写的C#代码，但是这些代码并不会在引擎中直接使用，都是在Lua中使用的，此时最容易出现的问题就是代码裁剪，导致打包后出现异常和报错。</p><p>要避免IL2CPP的裁剪有3种方式，我们可以组合使用<br>1.设置打包时的裁剪等级<br>2.通过xml文件配置明确规定哪些内容不裁剪<br>3.在静态方法中显示调用不想被裁剪的内容</p><p><strong>No24.Unity中的Destroy和DestroyImmediate的区别</strong><br>Destroy方法：可以指定删除的延迟时间，如果第二个参数不填写，最快也会在下一帧前完成删除。也就是如果Destroy对象后马上判空，该对象不会为空。实际的对象销毁操作始终延迟到当前更新循环结束，但始终在渲染前完成</p><p>DestroyImmediate方法：会立即销毁删除对象</p><p><strong>No25. Lua三大特性</strong><br>封装：利用table进行封装<br>继承：利用元表和<strong> index 模拟继承关系设置子类的元表为父类，父类的</strong> index为父类自己，当子类身上找不到对应属性和方法时，会查找元表的__index中的内容，也就是会查找父类中的内容，通过这种方式来模拟继承<br>多态：子类自己去实现带：的同名方法即可</p><p><strong>No26.string和StringBuilder如何选择</strong><br>string在每次拼接时都会产生垃圾<br>而StringBuilder在拼接时，是在原空间中进行修改，不会产生垃圾，会自动帮助我们扩容<br>所以当字符串需要频繁修改拼接时，我们使用StringBuilder</p><p><strong>No27.请说明字符串中string str = null，string str = “”，string str = string.Empty，三者的区别</strong></p><p>str = null 在堆中没有分配内存地址<br>str = “” 和 string.Empty 一样都是在堆内存中分配了空间，里面存储的是空字符串<br>而string.Empty是一个静态只读变量</p><p><strong>No28.委托与事件的区别</strong></p><p>1.事件只能在方法的外部进行声明，而委托在方法的外部和内部都可以进行声明；</p><p>2.事件只能在类的内部进行触发，不能在类的外部进行触发。而委托在类的内部和外部都可触发；</p><p><strong>No29.ref和out的区别</strong></p><p>ref和out主要应用：当方法需要多个返回值的时候</p><p>ref传入的变量必须初始化，而out传入的参数必须在内部赋值</p><p><strong>No30.粘包与半包</strong></p><p>粘包：</p><p>客户端依次发送 “ Lpy”和 “ _ IS—handsome”，期望其他客户端也展示出 “ Lpy”和 “ —is_handsome”两条信息 ， 但由于 Receive可能把两条信息当作一条信息处理，有可能只展示 “ Lpy_is_handsome”一条信息 （如图4-5所示）。Receive方法返回多少个数据，取决千操作系统接收缓冲区中存放的内容。</p><ul><li>粘包解决方法：</li></ul><p>1.长度信息法是指在每个数据包前面加上长度信息。 每次接收到数据后 ， 先读取表示长 度的字节 ， 如果缓冲区的数据长度大千要取的字节数， 则取出相应的字节 ， 否则等待下一 次数据接收。</p><p>2.固定长度法：每次都以相同的长度发送数据，</p><p>3.结束符号法：规定一个结束符号，作为消息间的分隔符 。</p><p>半包：</p><p>发送端发送的数据还有可能被拆分，如发送 “ HelloWorld”（如图4-6所示），但在接收 端调用Receive时，操作系统只接收到了部分数据，如 “ Hel ” ，在等待一小段时间后再次 凋丿廿Receive才接收到另一部分数据 “ loWorld”。</p><p><strong>No31.点乘与叉乘</strong></p><p>点乘求角度，叉乘求方向</p><p>点乘结果为 float 是<strong>投影长度</strong>点乘的主要作用就是，点乘求角度。</p><ul><li>点乘的方法是：</li></ul><p>Vector3.Dot(向量A，向量B); 得到的结果是数 即 B在A上的投影长度</p><p>Unity中的叉乘 使用<strong>左手定则</strong> 确认结果向量方向</p><ul><li>叉乘方法</li></ul><p>Vector3.Cross(tmpA, tmpB) 叉乘结果是一个向量</p><p>在同一平面内，  结果 &gt; 0 表示 B在A的逆时针方向，， 结果 &lt;0 表示B在A的顺式针方向， 结果 = 0表示B与A同向</p><p>点乘和叉乘的综合应用：点乘求出相差角度，叉乘求出转向，让AI朝玩家方向自动移动，转向</p><p><strong>No32.C#中如何让自定义容器类能够使用for循环遍历？</strong><br>通过在类中实现索引器实现</p><p><strong>No33.C#中如何让自定义容器类能够使用foreach循环遍历？</strong><br>通过为该类实现迭代器可以让其使用foreach遍历<br>传统方式：<br>继承IEnumerator、IEnumerable两个接口<br>实现其中的<br>1.GetEnumerator方法<br>2.Current属性<br>3.MoveNext方法<br>语法方式：<br>利用yield return语法，实现GetEnumerator方法即可完成迭代器的实现</p><p><strong>No34.协程使用</strong></p><p>常用的方法如下：</p><p>1.yield return 数字; 下一帧执行<br>2.yield return null;  下一帧执行<br>3.yield return new WaitForSeconds(数字); 等待指定秒后执行<br>4.yield return new WaitForFixedUpdate(); 等待下一个固定物理帧更新时执行<br>5.yield return new WaitForEndOfFrame(); 等待摄像机和GUI渲染完成后执行<br>6.yield break; 跳出协程</p><p><strong>No35.C#中如何让一个类不能再被其他类所继承？</strong><br>使用密封关键字sealed修饰该类</p><p><strong>No36.C#中使用泛型的好处</strong><br>1.可以为不同类型对象的相同行为进行通用处理，提升代码复用率<br>2.避免装箱拆箱，提升性能</p><p><strong>No37.请说明Thread、ThreadPool、Task分别是什么？并简单说明彼此的区别</strong><br>Thread是线程，可以使用他开启线程处理复杂逻辑，避免主线程卡顿<br>ThreadPool是线程池，他是C#为线程实现的缓存池，主要用于减少线程的创建，减少GC触发<br>Task是任务，他是基于线程池的优化，让我们可以更方便的控制线程</p><p><strong>No38.Unity中动态加载资源的方式</strong><br>1.Resource类中的相关方法加载Resources文件夹下的资源<br>2.AssetBundle类中或Addressables类中的相关方法加载AB包中的资源<br>3.WWW类中或UnityWebRequest类中的相关方法加载本地或远端资源</p><p><strong>No39.Unity中的光照贴图的作用</strong><br>在移动平台上（或配置较低的设备上）使用实时光源是非常消耗性能的<br>我们可以使用光照贴图，预先将环境光烘焙到贴图上，可以减少性能消耗</p><p><strong>No40.LOD（多细节层次）和 MipMap（纹理图）的作用</strong></p><p>优化游戏性能<br>从不同距离渲染对象时，使用的是质量不同的模型(LOD)和贴图(Mipmap)。（一般情况是越远面数越低，图片越小）</p><p><strong>No41.在Unity中如何控制渲染优先级</strong><br>1.不同摄像机渲染时，摄像机深度（Camera depth）控制优先级<br>2.相同摄像机时，排序层级（Sorting Layer）控制优先级<br>3.相同排序层级时，层中的顺序（Order in Layer）控制优先级<br>4.相同摄像机，无排序层级属性时，Shader中的RenderQueue（渲染队列）控制优先级</p><p><strong>No42.内存中，堆和栈的区别</strong></p><p>堆和栈是操作系统堆进程占用的内存空间的两种管理方式</p><p>栈：由操作系统自动分配释放，存放函数的参数值，局部变量值，栈中数据的生命周期随着函数的执行完成而结束</p><p>堆：一般由程序员分配释放，如果开发人员不释放，程序结束时由操作系统回收<br>（在C#中 托管堆内存 会由 C#帮助我们管理，存在GC垃圾回收机制）</p><p><strong>No43.UDP和TCP的区别</strong><br>连接方面：TCP面向连接，UDP无连接<br>是否可靠：TCP可靠（无差错、不丢失、不重复、按顺序），UDP不可靠<br>传输效率：TCP相对UDP较低<br>连接对象：TCP一对一，UDP n对n </p><p><strong>No44.C#中new关键字的用法</strong></p><ul><li>创建新的对象 例如：Character character=new Character();</li><li>子类使用与父类相同的方法，但是不继承父类的方法，可以在函数声明前加上new关键字，来隐藏父类的方法</li><li>泛型约束使用new关键字，表示需要无参构造函数，具体如下</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">class ItemFactory&lt;T&gt; where T : new() &#123;</span><br><span class="line">    public T GetNewItem()</span><br><span class="line">    &#123;</span><br><span class="line">        return new T();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>No45.如何用int来记录32种状态</strong></p><p>需要一个知识点便是int所占的字节数位4，通过按位记录状态，每一位代表一种状态，1代表存在，0代表不存在</p><p><strong>46.优化Unity游戏的性能</strong></p><p>（1）尽可能使用低多边形模型和贴图，并尽量减少场景复杂度。</p><p>（2）精简场景中的物体数量和顶点数量，并尽可能使用批处理技术以减少绘制调用。</p><p>（3）避免不必要的物理计算和运算量大的脚本代码，并尽可能使用对象池技术来减少内存分配。</p><p>（4）尽可能使用Unity的内置工具来识别性能瓶颈，如Profiler、Frame Debugger和Hierarchy Window。</p><p>（5）最后，可以考虑使用各种第三方工具和优化技术，如动态LOD、屏幕空间反射（Screen Space Reflections）和渐进式网格细化（Progressive Mesh）。</p>]]></content>
    
    
    <summary type="html">Unity3d开发求职中常问的问题</summary>
    
    
    
    <category term="📌U3D基础知识" scheme="https://blog.gmcj0816.top/categories/%F0%9F%93%8CU3D%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="Unity" scheme="https://blog.gmcj0816.top/tags/Unity/"/>
    
    <category term="U3D" scheme="https://blog.gmcj0816.top/tags/U3D/"/>
    
    <category term="游戏开发" scheme="https://blog.gmcj0816.top/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
    <category term="Unity3D" scheme="https://blog.gmcj0816.top/tags/Unity3D/"/>
    
  </entry>
  
  <entry>
    <title>Unity3d热更新之AssetBundle包</title>
    <link href="https://blog.gmcj0816.top/posts/16479/"/>
    <id>https://blog.gmcj0816.top/posts/16479/</id>
    <published>2021-12-02T15:14:45.000Z</published>
    <updated>2022-08-26T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="浅谈热更新"><a href="#浅谈热更新" class="headerlink" title="浅谈热更新"></a>浅谈热更新</h1><h2 id="热更新的好处"><a href="#热更新的好处" class="headerlink" title="热更新的好处"></a>热更新的好处</h2><ul><li>迅速修复Bug，避免重新下载安装包，游戏内部更新修复Bug</li><li>提升玩家的留存率，避免玩家因为超大的安装包而流失</li><li>迅速换”内核”</li></ul><h1 id="AB包"><a href="#AB包" class="headerlink" title="AB包"></a>AB包</h1><h2 id="AB包定义"><a href="#AB包定义" class="headerlink" title="AB包定义"></a>AB包定义</h2><ul><li><p>特定于平台的资产压缩包，优点类似于压缩文件</p></li><li><p>资产包括：模型，贴图，预制体，音效，材质球等</p></li></ul><h2 id="Resources和AB包的区别"><a href="#Resources和AB包的区别" class="headerlink" title="Resources和AB包的区别"></a>Resources和AB包的区别</h2><ul><li><p>Resources打包时定死，作为只读，是无法进行修改的</p></li><li><p>存储位置和压缩方式是可以自定义的，在后期可以动态进行更新</p></li></ul><h2 id="AB包的作用"><a href="#AB包的作用" class="headerlink" title="AB包的作用"></a>AB包的作用</h2><ul><li>减少包体的大小【1.压缩资源，减少初始化包大小】</li><li>热更新</li></ul><h2 id="AB包打包工具"><a href="#AB包打包工具" class="headerlink" title="AB包打包工具"></a>AB包打包工具</h2><ul><li>AssetBundle Browser 教程🚩Unity自带的一款AB包打包工具</li><li>自己制作，这个在<a href="https://gmcj0816.top/2022/07/02/WebGL关于AB包打包及加载数据/"></a>文章中有所介绍</li></ul><h3 id="AssetBundle-Browser的使用"><a href="#AssetBundle-Browser的使用" class="headerlink" title="AssetBundle Browser的使用"></a>AssetBundle Browser的使用</h3><h4 id="1-首先需要的Packages-Manager中下载"><a href="#1-首先需要的Packages-Manager中下载" class="headerlink" title="1.首先需要的Packages Manager中下载"></a>1.首先需要的Packages Manager中下载</h4><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/AssetBundle Browser .png" style="zoom:60%;" /></p><center>Packages Manager</center><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/AssetBundle Browser Package.png" style="zoom:60%;" /></p><center>AssetBundle Browser工具截图</center><h4 id="2-制成预制体，并设定AssetBundle"><a href="#2-制成预制体，并设定AssetBundle" class="headerlink" title="2.制成预制体，并设定AssetBundle"></a>2.制成预制体，并设定AssetBundle</h4><p>如图所示，点击New，然后输入自定义名称，这里需要注意的便是名称只支持小写哦😁</p><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/AssetBundle Browser AB_Name .png" style="zoom:75%;" /></p><h4 id="3-在AssetBundle-Browser工具中Configure看到刚才命名好的素材了"><a href="#3-在AssetBundle-Browser工具中Configure看到刚才命名好的素材了" class="headerlink" title="3.在AssetBundle Browser工具中Configure看到刚才命名好的素材了"></a>3.在AssetBundle Browser工具中Configure看到刚才命名好的素材了</h4><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/AB_Configure.png" style="zoom:75%;" /></p><h4 id="4-下面我们熟悉一下AssetBundle-Browser工具中的Bulid选项中各部分的作用"><a href="#4-下面我们熟悉一下AssetBundle-Browser工具中的Bulid选项中各部分的作用" class="headerlink" title="4.下面我们熟悉一下AssetBundle Browser工具中的Bulid选项中各部分的作用"></a>4.下面我们熟悉一下AssetBundle Browser工具中的Bulid选项中各部分的作用</h4><p><img src="https://sevenestudio-hexo.oss-cn-hangzhou.aliyuncs.com/img/AssetBundle BrowserAboutBulid.png" alt=""></p><p>【1】基础设置</p><ul><li>Bulid Target：主要是打包发布的平台【这里其实平台还是很多的，包括Windows,iOS】</li><li>Output Path:   输出路径[这个主要是打包好的文件存放到哪个位置]</li><li>Clear Floders 构建之前清空文件夹（会把文件夹删除）</li><li>Copy to StreamingAssets：拷贝至StreamingAssets文件夹【<strong>这个建议勾选</strong>】</li></ul><p>【2】高级设置</p><ul><li><p>Compression：选择压缩格式【AssetBundle Browser工具内置了三种压缩方式】</p><p>①. No Compression（这个主要是不进行压缩，也就是说将素材大小原封不动的打包出来，最大的好处便是打包出来会相比较其他两种快一些，但是缺点也显而易见，便是包体会相比较其他两种大小会比较大，还是建议用于一些资源大小比较小的时候）</p><p>②. Standard Compression[LZMA]（标准压缩方式，这种最大的好处便是能将包体压缩到最小，但是缺点便是1.由于压缩到最小，所以解压出来也同样会更慢，2.这种压缩方式在使用某个资源时，解压过程中会将所有资源全部解压，这样会导致资源的浪费和性能的消耗）</p><p>③. Chunk Based Compression[LZ4]（基于块的压缩方式，这种压缩相比较LZMA标准压缩方式压缩率较少一些，但是最大的好处便是随使随用，即需要什么解压什么，减少了资源的浪费和性能消耗）</p></li><li><p>Exclude Type Infomation 这个的勾选与否，主要是看资源包中是否需要排除类型信息</p></li><li><p>Fource Rebuild 重新打包时是否需要重新构建包，主要用于在包中文件有变化时重新对所有包中资源进行资源的构建，但是不会清除已经删除的包，其实这个相比较建议使用 Clear Floders即可</p></li><li><p>Ignore Type Tree Changes 增量构建检查时，忽略类型的更改【<strong>用途不大</strong>】</p></li><li><p>Append Hash 将文件哈希值附加到资源包名中【<strong>实际使用用途不大</strong>】</p></li><li><p>Strict Mode 如果勾选此项，在打包过程中若发现错误，会终止打包【<strong>为了包的正常性，建议勾选此项</strong>】</p></li><li><p>Dry Run Bulid 运行时打包</p></li></ul><h2 id="基本加载AB包（Windows-，移动端）"><a href="#基本加载AB包（Windows-，移动端）" class="headerlink" title="基本加载AB包（Windows ，移动端）"></a>基本加载AB包（Windows ，移动端）</h2><h3 id="普通AB包加载"><a href="#普通AB包加载" class="headerlink" title="普通AB包加载"></a>普通AB包加载</h3><p>①. 首先需要定义AB包，也就是说加载AB包</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AssetBundle ab=AssetBundle.LoadFromFile(Application.streamingAssetsPath+<span class="string">&quot;/&quot;</span>+<span class="string">&quot;model&quot;</span>);</span><br></pre></td></tr></table></figure><p>②. 加载AB包中资源 需要用ab.LoadAsset()，如果单纯用名字加载，会出现同名不同类型素材冲突的问题，所以在这里建议用泛型加载或者Type指定类型   <wavy><font color=red>这里需要注意的一点便是lua是不支持泛型的哦，建议多使用Type指定类型</font></wavy></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GameObject objOne = ab.LoadAsset&lt;GameObject&gt;(<span class="string">&quot;Cube&quot;</span>);<span class="comment">//用泛型加载立方体</span></span><br><span class="line">GameObject objTwo = ab.LoadAsset(<span class="string">&quot;Cube&quot;</span>,<span class="keyword">typeof</span>(GameObject)) <span class="keyword">as</span> GameObject;<span class="comment">//用Type指定类型加载立方体</span></span><br></pre></td></tr></table></figure><p>③. 实例化物体，这里就比较简单了Instantiate即可，如果想指定位置和角度也是可以的</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Instantiate(objTwo);</span><br></pre></td></tr></table></figure><p>④. 当加载另一个资源，况且与上一个物体属于同一个AB包，不可以重新加载AB包，否则会出现错误问题，只需直接加载AB包资源即可</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GameObject objThree = ab.LoadAsset&lt;GameObject&gt;(<span class="string">&quot;Sphere&quot;</span>);<span class="comment">//用泛型加载圆体</span></span><br><span class="line">GameObject objFour = ab.LoadAsset(<span class="string">&quot;Sphere&quot;</span>,<span class="keyword">typeof</span>(GameObject)) <span class="keyword">as</span> GameObject;<span class="comment">//用Type指定类型加载立方体</span></span><br></pre></td></tr></table></figure><p>这样简单的AB包加载已经OK了</p><h3 id="异步AB包加载"><a href="#异步AB包加载" class="headerlink" title="异步AB包加载"></a>异步AB包加载</h3><p>①.  由于是异步加载，所有这里需要引入一个新的类AssetBundleCreateRequest，这个类主要是用于AssetBundle用来异步创建请求的，所以加载AB包就可以这样写【这里为了方便整合成一个协程方法，通过StartContinue调用即可】</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">IEnumerator <span class="title">LoadAB_Res</span>(<span class="params"><span class="built_in">string</span> AB_Name,<span class="built_in">string</span> Res_Name</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//第一步：加载AB包</span></span><br><span class="line">    AssetBundleCreateRequest abcr = </span><br><span class="line">        AssetBundle.LoadFromFileAsync(Application.streamingAssetsPath + <span class="string">&quot;/&quot;</span> + AB_Name);</span><br><span class="line">    <span class="keyword">yield</span> <span class="keyword">return</span> abcr;</span><br><span class="line">    <span class="comment">//第二步：加载资源</span></span><br><span class="line">    AssetBundleRequest abq=abcr.assetBundle.LoadAssetAsync(Res_Name,<span class="keyword">typeof</span>(Sprite));</span><br><span class="line">    <span class="keyword">yield</span> <span class="keyword">return</span> abq;</span><br><span class="line">    <span class="comment">//由于是实现效果，所以没有用泛型，在后面会补上，这里拟定加载的是图片</span></span><br><span class="line">    <span class="comment">//testImg是Image类型的，记得继承using UnityEngine.UI;哦</span></span><br><span class="line">    testImg.sprite=abq.asset <span class="keyword">as</span> Sprite;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>【4】移除/卸载AB包</p><p>在之前的代码已经完成了最基本的AB包加载和AB包异步加载，在AB包不用时需要移除AB包，即</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这里需要填写bool值，若为false，即卸载所有加载的AB包，不会把通过AB包加载的资源也卸载，否则反之</span></span><br><span class="line">AssetBundle.UnloadAllAssetBundles(<span class="built_in">bool</span> 类型);</span><br><span class="line"><span class="comment">//若删除某个AB包时，则可以直接要填写bool值，若为false，即卸载加载的AB包，不会把通过AB包加载的资源也卸载，否则反之</span></span><br><span class="line">AssetBundle ab=AssetBundle.LoadFromFile(Application.streamingAssetsPath+<span class="string">&quot;/&quot;</span>+<span class="string">&quot;model&quot;</span>);</span><br><span class="line"> ab.Unload(<span class="built_in">bool</span> 类型);</span><br></pre></td></tr></table></figure><p>这个AB包加载的基本操作就OK咯，复一份源码作为参考💯</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> Image testImg;</span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line"> &#123;</span><br><span class="line">     <span class="comment">//第一步:加载AB包</span></span><br><span class="line">     AssetBundle ab=AssetBundle.LoadFromFile(Application.streamingAssetsPath+<span class="string">&quot;/&quot;</span>+<span class="string">&quot;model&quot;</span>);</span><br><span class="line">     <span class="comment">//第二步:加载AB包中的资源</span></span><br><span class="line">     <span class="comment">//只是用名字加载，会出现同名不同类型资源分不清</span></span><br><span class="line">     <span class="comment">//建议大家用泛型加载或者Type指定类型</span></span><br><span class="line">     <span class="comment">//GameObject objOne = ab.LoadAsset&lt;GameObject&gt;(&quot;Cube&quot;);</span></span><br><span class="line">     GameObject objTwo = ab.LoadAsset(<span class="string">&quot;Cube&quot;</span>,<span class="keyword">typeof</span>(GameObject)) <span class="keyword">as</span> GameObject;</span><br><span class="line">     Instantiate(objTwo);</span><br><span class="line">     <span class="comment">//卸载所有加载的AB包，参数为true时，会把通过AB包加载的资源也卸载</span></span><br><span class="line">     AssetBundle.UnloadAllAssetBundles(<span class="literal">true</span>);</span><br><span class="line">     StartCoroutine(LoadAB_Res(<span class="string">&quot;head&quot;</span>, <span class="string">&quot;19167f78aaa0dfbde65f96d152d097a200573C&quot;</span>));</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="function">IEnumerator <span class="title">LoadAB_Res</span>(<span class="params"><span class="built_in">string</span> AB_Name,<span class="built_in">string</span> Res_Name</span>)</span></span><br><span class="line"> &#123;</span><br><span class="line">     <span class="comment">//第一步：加载AB包</span></span><br><span class="line">     AssetBundleCreateRequest abcr = </span><br><span class="line">         AssetBundle.LoadFromFileAsync(Application.streamingAssetsPath + <span class="string">&quot;/&quot;</span> + AB_Name);</span><br><span class="line">     <span class="keyword">yield</span> <span class="keyword">return</span> abcr;</span><br><span class="line">     <span class="comment">//第二步：加载资源</span></span><br><span class="line">     AssetBundleRequest abq=abcr.assetBundle.LoadAssetAsync(Res_Name,<span class="keyword">typeof</span>(Sprite));</span><br><span class="line">     <span class="keyword">yield</span> <span class="keyword">return</span> abq;</span><br><span class="line">     testImg.sprite=abq.asset <span class="keyword">as</span> Sprite;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><center>此文章部分来源于唐老狮的Unity中Lua热更新解决方案，有条件可以支持一下</center>]]></content>
    
    
    <summary type="html">关于UnityAB包加载，异步加载的好处不容多说，AB包加载资源简直不要再爽</summary>
    
    
    
    <category term="📌U3D基础知识" scheme="https://blog.gmcj0816.top/categories/%F0%9F%93%8CU3D%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="Unity" scheme="https://blog.gmcj0816.top/tags/Unity/"/>
    
    <category term="热更新" scheme="https://blog.gmcj0816.top/tags/%E7%83%AD%E6%9B%B4%E6%96%B0/"/>
    
    <category term="Lua" scheme="https://blog.gmcj0816.top/tags/Lua/"/>
    
  </entry>
  
</feed>
